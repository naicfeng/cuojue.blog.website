<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ç”¨Cloudflare Workersæ­å»ºå…è´¹OneDriveç½‘ç›˜</title>
    <link href="/read/Cloudflare-Workers-OneDrive.html"/>
    <url>/read/Cloudflare-Workers-OneDrive.html</url>
    
    <content type="html"><![CDATA[<h2 id="ç”±-CloudFlare-Workers-å¼ºåŠ›é©±åŠ¨çš„-OneDrive-ç´¢å¼•"><a href="#ç”±-CloudFlare-Workers-å¼ºåŠ›é©±åŠ¨çš„-OneDrive-ç´¢å¼•" class="headerlink" title="ç”± CloudFlare Workers å¼ºåŠ›é©±åŠ¨çš„ OneDrive ç´¢å¼•"></a>ç”± CloudFlare Workers å¼ºåŠ›é©±åŠ¨çš„ OneDrive ç´¢å¼•</h2><p>åœ¨çº¿æ¼”ç¤ºï¼š<a href="https://wuyang.ws/">WuYangâ€™s Disk</a></p><blockquote><p>æ¼”ç¤ºè¿˜æ˜¯æˆ‘é‚£30å¤šGçš„å¦¹å­å›¾â€¦â€¦<br><a href="/read/106.html">å…±äº«ä¸€æ³¢å¦¹å­å›¾</a><br>ç”±äºå›Šä¸­ç¾æ¶©æ²¡æœ‰ç»§ç»­éƒ¨ç½² PHP ç‰ˆæœ¬çš„ OneIndex äº†.<br>æ¢ç”¨ <a href="https://github.com/spencerwooo/onedrive-cf-index">OneIndex-CF-Index</a> åå¯ä»¥è·å¾— <a href="https://workers.cloudflare.com/">Cloudflare-Workers</a> æ¯æ—¥ 1W PVçš„å…è´¹è¯·æ±‚.</p></blockquote><hr><blockquote><p>æœ¬æ–‡å¤§éƒ¨åˆ†å†…å®¹æŠ„è‡ªå®˜æ–¹æ–‡æ¡£ï¼Œä½†æ˜¯è¡¥å……äº†äº²è‡ªéƒ¨ç½²æ—¶å€™é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ³•.</p></blockquote><h2 id="åŠŸèƒ½"><a href="#åŠŸèƒ½" class="headerlink" title="åŠŸèƒ½"></a>åŠŸèƒ½</h2><h3 id="ğŸš€-åŠŸèƒ½ä¸€è§ˆ"><a href="#ğŸš€-åŠŸèƒ½ä¸€è§ˆ" class="headerlink" title="ğŸš€ åŠŸèƒ½ä¸€è§ˆ"></a>ğŸš€ åŠŸèƒ½ä¸€è§ˆ</h3><ul><li>å…¨æ–°ã€Œé¢åŒ…å±‘ã€å¯¼èˆªæ ï¼›</li><li>ä»¤ç‰Œå‡­è¯ç”± Cloudflare Workers è‡ªåŠ¨åˆ·æ–°ï¼Œå¹¶ä¿å­˜äºï¼ˆå…è´¹çš„ï¼‰å…¨å±€ KV å­˜å‚¨ä¸­ï¼›</li><li>ä½¿ç”¨ <a href="https://github.com/turbolinks/turbolinks">TurbolinksÂ®</a> å®ç°è·¯ç”±æ‡’åŠ è½½ï¼›</li><li>æ”¯æŒç”±ä¸–çºªäº’è”è¿è¥çš„ OneDrive ç‰ˆæœ¬ï¼›</li><li>æ”¯æŒ SharePoint éƒ¨ç½²ï¼›</li></ul><h3 id="ğŸ—ƒï¸-ç›®å½•ç´¢å¼•æ˜¾ç¤º"><a href="#ğŸ—ƒï¸-ç›®å½•ç´¢å¼•æ˜¾ç¤º" class="headerlink" title="ğŸ—ƒï¸ ç›®å½•ç´¢å¼•æ˜¾ç¤º"></a>ğŸ—ƒï¸ ç›®å½•ç´¢å¼•æ˜¾ç¤º</h3><ul><li>å…¨æ–°æ”¯æŒè‡ªå®šä¹‰çš„è®¾è®¡é£æ ¼ï¼š<a href="themes/spencer.css">spencer.css</a>ï¼›</li><li>æ”¯æŒä½¿ç”¨ Emoji ä½œä¸ºæ–‡ä»¶å¤¹å›¾æ ‡ï¼ˆå¦‚æœæ–‡ä»¶å¤¹åç§°ç¬¬ä¸€ä½æ˜¯ Emoji åˆ™è‡ªåŠ¨å¼€å¯è¯¥åŠŸèƒ½ï¼‰ï¼›</li><li>æ¸²æŸ“ <code>README.md</code> å¦‚æœå½“å‰ç›®å½•ä¸‹åŒ…å«æ­¤æ–‡ä»¶ï¼Œä½¿ç”¨ <a href="https://github.com/sindresorhus/github-markdown-css">github-markdown-css</a> æ¸²æŸ“æ ·å¼ï¼›</li><li>æ”¯æŒã€Œåˆ†é¡µã€ï¼Œæ²¡æœ‰ä¸€ä¸ªç›®å½•ä»…é™æ˜¾ç¤º 200 ä¸ªé¡¹ç›®çš„é™åˆ¶äº†ï¼</li></ul><h3 id="ğŸ“-æ–‡ä»¶åœ¨çº¿é¢„è§ˆ"><a href="#ğŸ“-æ–‡ä»¶åœ¨çº¿é¢„è§ˆ" class="headerlink" title="ğŸ“ æ–‡ä»¶åœ¨çº¿é¢„è§ˆ"></a>ğŸ“ æ–‡ä»¶åœ¨çº¿é¢„è§ˆ</h3><ul><li>æ ¹æ®æ–‡ä»¶ç±»å‹æ¸²æŸ“æ–‡ä»¶å›¾æ ‡ï¼Œå›¾æ ‡ä½¿ç”¨ <a href="https://fontawesome.com/">Font Awesome icons</a>ï¼›</li><li>æ”¯æŒé¢„è§ˆï¼š<ul><li>çº¯æ–‡æœ¬ï¼š<code>.txt</code>. </li><li>Markdown æ ¼å¼æ–‡æœ¬ï¼š<code>.md</code>, <code>.mdown</code>, <code>.markdown</code>. </li><li>å›¾ç‰‡ï¼ˆæ”¯æŒ Medium é£æ ¼çš„å›¾ç‰‡ç¼©æ”¾ï¼‰ï¼š<code>.png</code>, <code>.jpg</code>, and <code>.gif</code>. </li><li>ä»£ç é«˜äº®ï¼š<code>.js</code>, <code>.py</code>, <code>.c</code>, <code>.json</code>â€¦ </li><li>PDFï¼ˆæ”¯æŒæ‡’åŠ è½½ã€åŠ è½½è¿›åº¦ã€Chrome å†…ç½® PDF é˜…è¯»å™¨ï¼‰ï¼š<code>.pdf</code>. </li><li>éŸ³ä¹ï¼š<code>.mp3</code>, <code>.aac</code>, <code>.wav</code>, <code>.oga</code>. </li><li>è§†é¢‘ï¼š<code>.mp4</code>, <code>.flv</code>, <code>.webm</code>, <code>.m3u8</code>. </li></ul></li></ul><h3 id="ğŸ”’-ç§æœ‰æ–‡ä»¶å¤¹"><a href="#ğŸ”’-ç§æœ‰æ–‡ä»¶å¤¹" class="headerlink" title="ğŸ”’ ç§æœ‰æ–‡ä»¶å¤¹"></a>ğŸ”’ ç§æœ‰æ–‡ä»¶å¤¹</h3><p>æˆ‘ä»¬å¯ä»¥ç»™æŸä¸ªç‰¹å®šçš„æ–‡ä»¶å¤¹ï¼ˆç›®å½•ï¼‰ä¸Šé”ï¼Œéœ€è¦è®¤è¯æ‰èƒ½è®¿é—®ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ <code>src/auth/config.js</code> æ–‡ä»¶ä¸­å°†æˆ‘ä»¬æƒ³è¦è®¾ä¸ºç§æœ‰æ–‡ä»¶å¤¹çš„æ–‡ä»¶å¤¹åç§°å†™å…¥ <code>ENABLE_PATHS</code> åˆ—è¡¨ä¸­ï¼Œå¹¶å°† <code>AUTH_ENABLED</code> è®¾ç½®ä¸º <code>true</code> æ¥å¼€å¯è¿™ä¸€åŠŸèƒ½ã€‚æˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰è®¤è¯æ‰€ä½¿ç”¨çš„ç”¨æˆ·å <code>NAME</code> ä»¥åŠå¯†ç ï¼Œå…¶ä¸­è®¤è¯å¯†ç ä¿å­˜äº <code>AUTH_PASSWORD</code> ç¯å¢ƒå˜é‡ä¸­ï¼Œå¦‚æœéœ€è¦è¿™ä¸€åŠŸèƒ½ï¼Œåˆ™éœ€è¦ä½¿ç”¨ wrangler æ¥è®¾ç½®è¿™ä¸€ç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">wrangler secret put AUTH_PASSWORD<br><span class="hljs-comment"># åœ¨è¿™é‡Œè¾“å…¥ä½ è‡ªå·±çš„è®¤è¯å¯†ç </span><br></code></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œæ³¨æ„ï¼Œåˆ«ç•¥è¿‡ï¼ï¼ï¼å¾…ä¼šéƒ¨ç½²æäº¤é¢„è§ˆä¹‹å‰ä¸€å®šè¦è®¾ç½®ï¼Œæˆ–è€…æŒ‰ç…§ä¸‹é¢çš„æç¤ºå…³æ‰ã€‚ä¸ç„¶ä¼šæç¤º<code>Uncaught ReferenceError: AUTH_PASSWORD is not defined</code></p></blockquote><p>å¦‚æœä¸éœ€è¦å¼€å¯è¿™ä¸€åŠŸèƒ½ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç›´æ¥æ³¨é‡Šæ‰å®šä¹‰ <code>PASS</code> å˜é‡çš„é‚£ä¸€è¡Œï¼Œä½¿ç”¨ä¸‹ä¸€è¡Œå°† <code>PASS</code> è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²å³å¯ã€‚ï¼ˆå¦å¤–ä¹Ÿéœ€è¦å°† <code>AUTH_ENABLED</code> è®¾ç½®ä¸º <code>false</code>ã€‚ï¼‰æœ‰å…³ wrangler çš„ä½¿ç”¨ç»†èŠ‚ç­‰è¯¦ç»†å†…å®¹ï¼Œè¯·å‚è€ƒ <a href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">æ¥ä¸‹æ¥çš„éƒ¨åˆ†æ®µè½</a>ã€‚</p><h3 id="â¬‡ï¸-ä»£ç†ä¸‹è½½æ–‡ä»¶-æ–‡ä»¶ç›´é“¾è®¿é—®-ç¼©ç•¥å›¾"><a href="#â¬‡ï¸-ä»£ç†ä¸‹è½½æ–‡ä»¶-æ–‡ä»¶ç›´é“¾è®¿é—®-ç¼©ç•¥å›¾" class="headerlink" title="â¬‡ï¸ ä»£ç†ä¸‹è½½æ–‡ä»¶ / æ–‡ä»¶ç›´é“¾è®¿é—® / ç¼©ç•¥å›¾"></a>â¬‡ï¸ ä»£ç†ä¸‹è½½æ–‡ä»¶ / æ–‡ä»¶ç›´é“¾è®¿é—® / ç¼©ç•¥å›¾</h3><ul><li>[å¯é€‰] Proxied downloadï¼ˆä»£ç†ä¸‹è½½æ–‡ä»¶ï¼‰ï¼š<code>?proxied</code> - ç»ç”± CloudFlare Workers ä¸‹è½½æ–‡ä»¶ã€‚è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼ˆ1ï¼‰<code>config/default.js</code> ä¸­çš„ <code>proxyDownload</code> ä¸º <code>true</code>ï¼Œä»¥åŠï¼ˆ2ï¼‰ä½¿ç”¨å‚æ•° <code>?proxied</code> è¯·æ±‚æ–‡ä»¶ï¼›</li><li>[å¯é€‰] Raw file downloadï¼ˆæ–‡ä»¶ç›´é“¾è®¿é—®ï¼‰ï¼š<code>?raw</code> - è¿”å›æ–‡ä»¶ç›´é“¾è€Œä¸æ˜¯é¢„è§ˆç•Œé¢ï¼›</li><li>ä¸¤ä¸ªå‚æ•°å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œå³ <code>?proxied&amp;raw</code> å’Œ <code>?raw&amp;proxied</code> å‡æœ‰æ•ˆã€‚</li></ul><h4 id="è¡¥å……ï¼Œç¼©ç•¥å›¾çš„è·å–æ–¹å¼"><a href="#è¡¥å……ï¼Œç¼©ç•¥å›¾çš„è·å–æ–¹å¼" class="headerlink" title="è¡¥å……ï¼Œç¼©ç•¥å›¾çš„è·å–æ–¹å¼"></a>è¡¥å……ï¼Œç¼©ç•¥å›¾çš„è·å–æ–¹å¼</h4><ul><li><p>[å¯é€‰] thumbnailï¼ˆç¼©ç•¥å›¾ï¼‰ï¼š<code>?thumbnail=medium</code>  - è¿”å›å›¾ç‰‡ç¼©ç•¥å›¾ï¼›</p><p>å¯ç”¨çš„å–å€¼å‚è§ï¼š<a href="https://docs.microsoft.com/en-us/onedrive/developer/rest-api/api/driveitem_list_thumbnails?view=odsp-graph-online#size-options">driveitem_list_thumbnails</a><br>æŸäº›ç¼©ç•¥å›¾é€‰é¡¹åœ¨éä¸ªäººç‰ˆOneDriveæ— æ³•ä½¿ç”¨ï¼š<a href="#%E5%A6%82%E6%9E%9C%E9%81%87%E5%88%B0%E5%9B%BE%E7%89%87%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%BC%A9%E7%95%A5%E5%9B%BE">å›¾ç‰‡æ— æ³•æ˜¾ç¤ºç¼©ç•¥å›¾</a></p></li></ul><p>  æ˜¯çš„ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ä½ å¯ä»¥å°†è¿™ä¸€é¡¹ç›®ç”¨æ¥æ­å»ºã€Œå›¾åºŠã€ï¼Œæˆ–è€…ç”¨äºæ­å»ºé™æ€æ–‡ä»¶éƒ¨ç½²æœåŠ¡ï¼Œæ¯”å¦‚ä¸‹é¢çš„å›¾ç‰‡é“¾æ¥ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment">#small 96px</span><br>https:<span class="hljs-regexp">//</span>wuyang.ws/***.jpg?proxied&amp;thumbnail=small<br><br><span class="hljs-comment">#medium 176px</span><br>https:<span class="hljs-regexp">//</span>wuyang.ws/***.jpg?proxied&amp;thumbnail=medium<br><br><span class="hljs-comment">#large 800px</span><br>https:<span class="hljs-regexp">//</span>wuyang.ws/***.jpg?proxied&amp;thumbnail=large<br></code></pre></td></tr></table></figure><p><img src="https://wuyang.ws/%E5%85%B1%E4%BA%AB/%E5%9B%BE%E7%89%87/%E5%A6%B9%E5%AD%90%E5%9B%BE/2017062317353_5796/%E5%86%99%E7%9C%9F-3/3%20(1).jpg?proxied&thumbnail=small"><br><img src="https://wuyang.ws/%E5%85%B1%E4%BA%AB/%E5%9B%BE%E7%89%87/%E5%A6%B9%E5%AD%90%E5%9B%BE/2017062317353_5796/%E5%86%99%E7%9C%9F-3/3%20(1).jpg?proxied&thumbnail=medium"><br><img src="https://wuyang.ws/%E5%85%B1%E4%BA%AB/%E5%9B%BE%E7%89%87/%E5%A6%B9%E5%AD%90%E5%9B%BE/2017062317353_5796/%E5%86%99%E7%9C%9F-3/3%20(1).jpg?proxied=&thumbnail=large"></p><h2 id="éƒ¨ç½²æŒ‡å—"><a href="#éƒ¨ç½²æŒ‡å—" class="headerlink" title="éƒ¨ç½²æŒ‡å—"></a>éƒ¨ç½²æŒ‡å—</h2><p><em>åˆè‡­åˆé•¿çš„ä¸­æ–‡ç‰ˆéƒ¨ç½²æŒ‡å—é¢„è­¦ï¼</em></p><h3 id="ç”Ÿæˆ-OneDrive-API-ä»¤ç‰Œ"><a href="#ç”Ÿæˆ-OneDrive-API-ä»¤ç‰Œ" class="headerlink" title="ç”Ÿæˆ OneDrive API ä»¤ç‰Œ"></a>ç”Ÿæˆ OneDrive API ä»¤ç‰Œ</h3><ol><li><p>è®¿é—®æ­¤ URL åˆ›å»ºæ–°çš„ Blade appï¼š<a href="https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade">Microsoft Azure App registrations</a>ï¼ˆæ™®é€šç‰ˆ OneDriveï¼‰æˆ– <a href="https://portal.azure.cn/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade">Microsoft Azure.cn App registrations</a>ï¼ˆOneDrive ä¸–çºªäº’è”ç‰ˆæœ¬ï¼‰ï¼Œ<strong>å»ºè®®å°†è¯­è¨€è®¾ç½®ä¸ºã€Œè‹±è¯­ã€ä»¥ä¿è¯ä»¥ä¸‹æ­¥éª¤ä¸­æåˆ°çš„æ¨¡å—å’ŒæŒ‰é’®çš„åç§°ä¸€è‡´</strong>ï¼š</p><ol><li>ä½¿ç”¨ä½ çš„ Microsoft è´¦æˆ·ç™»å½•ï¼Œé€‰æ‹© <code>New registration</code>ï¼›</li><li>åœ¨ <code>Name</code> å¤„è®¾ç½® Blade app çš„åç§°ï¼Œæ¯”å¦‚ <code>my-onedrive-cf-index</code>ï¼›</li><li>å°† <code>Supported account types</code> è®¾ç½®ä¸º <code>Accounts in any organizational directory (Any Azure AD directory - Multitenant) and personal Microsoft accounts (e.g. Skype, Xbox)</code>ã€‚OneDrive ä¸–çºªäº’è”ç”¨æˆ·è®¾ç½®ä¸ºï¼š<code>ä»»ä½•ç»„ç»‡ç›®å½•ï¼ˆä»»ä½• Azure AD ç›®å½• - å¤šç§Ÿæˆ·ï¼‰ä¸­çš„å¸æˆ·</code>ï¼›</li><li>å°† <code>Redirect URI (optional)</code> è®¾ç½®ä¸º <code>Web</code>ï¼ˆä¸‹æ‹‰é€‰é¡¹æ¡†ï¼‰ä»¥åŠ <code>https://localhost</code>ï¼ˆURL åœ°å€ï¼‰ï¼›</li><li>ç‚¹å‡» <code>Register</code>.</li></ol><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/Cloudflare-Workers-OneDrive-1.png"></p></li><li><p>åœ¨ <code>Overview</code> é¢æ¿è·å–ä½ çš„ Application (client) ID - <code>client_id</code>ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/Cloudflare-Workers-OneDrive-2.png"></p></li><li><p>æ‰“å¼€ <code>Certificates &amp; secrets</code> é¢æ¿ï¼Œç‚¹å‡» <code>New client secret</code>ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å«åš <code>client_secret</code> çš„ Client secretï¼Œå¹¶å°† <code>Expires</code> è®¾ç½®ä¸º <code>Never</code>ã€‚ç‚¹å‡» <code>Add</code> å¹¶å¤åˆ¶ <code>client_secret</code> çš„ <code>Value</code> å¹¶ä¿å­˜ä¸‹æ¥ <strong>ï¼ˆä»…æœ‰æ­¤ä¸€æ¬¡æœºä¼šï¼‰</strong>ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/Cloudflare-Workers-OneDrive-3.png"></p></li><li><p>æ‰“å¼€ <code>API permissions</code> é¢æ¿ï¼Œé€‰æ‹© <code>Microsoft Graph</code>ï¼Œé€‰æ‹© <code>Delegated permissions</code>ï¼Œå¹¶æœç´¢ <code>offline_access, Files.Read, Files.Read.All</code> è¿™ä¸‰ä¸ªæƒé™ï¼Œ<strong>é€‰æ‹©è¿™ä¸‰ä¸ªæƒé™ï¼Œå¹¶ç‚¹å‡» <code>Add permissions</code>ï¼š</strong></p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/Cloudflare-Workers-OneDrive-4.png"></p><p>ä½ åº”è¯¥æˆåŠŸå¼€å¯è¿™ä¸‰ä¸ªæƒé™ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/Cloudflare-Workers-OneDrive-5.png"></p></li><li><p>è·å– <code>refresh_token</code></p><ul><li><em>æœ¬åœ°è·å–</em>  ï¼ˆéœ€è¦ Node.js å’Œ npm ç¯å¢ƒï¼Œå®‰è£…å’Œæ¨èé…ç½®è¯·å‚è€ƒ <a href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">å‡†å¤‡å·¥ä½œ</a>ï¼‰ä¸Šé¢æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npx @beetcb/ms-graph-cli<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/Cloudflare-Workers-OneDrive-1.svg"><br>æ ¹æ®ä½ è‡ªå·±çš„æƒ…å†µé€‰æ‹©åˆé€‚çš„é€‰é¡¹ï¼Œå¹¶è¾“å…¥æˆ‘ä»¬ä¸Šé¢è·å–åˆ°çš„ä¸€ç³»åˆ— token ä»¤ç‰Œé…ç½®ç­‰ï¼Œå…¶ä¸­ <code>redirect_url</code> å¯ä»¥ç›´æ¥è®¾ç½®ä¸º <code>http://localhost</code>ã€‚æœ‰å…³å‘½ä»¤è¡Œå·¥å…·çš„å…·ä½“ä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒï¼š<a href="https://github.com/beetcb/ms-graph-cli">beetcb/ms-graph-cli</a>ã€‚</p><ul><li><em>åœ¨çº¿è·å–</em></li></ul><p>è®¿é—®ï¼š<a href="https://heymind.github.io/tools/microsoft-graph-api-auth">Microsoft Graph API Auth</a> è·å–</p></li></ol><ol start="6"><li><p>æœ€åï¼Œåœ¨æˆ‘ä»¬çš„ OneDrive ä¸­åˆ›å»ºä¸€ä¸ªå…¬å…±åˆ†äº«æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚ <code>/Public</code> å³å¯ã€‚<strong>å»ºè®®ä¸è¦ç›´æ¥åˆ†äº«æ ¹ç›®å½•!</strong></p><p>æœ€åï¼Œè¿™ä¹ˆæŠ˜è…¾å®Œï¼Œæˆ‘ä»¬åº”è¯¥æˆåŠŸæ‹¿åˆ°å¦‚ä¸‹çš„å‡ ä¸ªå‡­è¯ï¼š</p><ul><li><code>refresh_token</code></li><li><code>client_id</code></li><li><code>client_secret</code></li><li><code>redirect_uri</code></li><li><code>base</code>ï¼šé»˜è®¤ä¸º <code>/Public</code>ã€‚</li></ul><p><em>æ˜¯ï¼Œæˆ‘çŸ¥é“å¾ˆéº»çƒ¦ï¼Œä½†æ˜¯è¿™æ˜¯å¾®è½¯ï¼Œå¤§å®¶ç†è§£ä¸€ä¸‹ã€‚ğŸ¤·ğŸ¼â€â™‚ï¸</em></p></li></ol><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><p>Fork å† clone æˆ–è€…ç›´æ¥ clone <a href="https://github.com/spencerwooo/onedrive-cf-index">onedrive-cf-index</a>ï¼Œå¹¶å®‰è£…ä¾èµ– Node.jsã€<code>npm</code> ä»¥åŠ <code>wrangler</code>ã€‚</p><p><em>å¼ºçƒˆå»ºè®®å¤§å®¶ä½¿ç”¨ Node version manager æ¯”å¦‚ <a href="https://github.com/tj/n">n</a> æˆ–è€… <a href="https://github.com/nvm-sh/nvm">nvm</a> å®‰è£… Node.js å’Œ <code>npm</code>ï¼Œè¿™æ ·æˆ‘ä»¬å…¨å±€å®‰è£…çš„ <code>wrangler</code> å°±å¯ä»¥åœ¨æˆ‘ä»¬çš„ç”¨æˆ·ç›®å½•ä¸‹å®‰è£…ä¿å­˜é…ç½®æ–‡ä»¶äº†ï¼Œä¹Ÿå°±ä¸ä¼šé‡åˆ°å¥‡å¥‡æ€ªæ€ªçš„æƒé™é—®é¢˜äº†ã€‚</em></p><blockquote><p>ä»¥ä¸‹ç›´æ¥ç”¨npmå®‰è£…å¯èƒ½å¤±è´¥ï¼Œè¯·çœ‹<a href="#%E6%9C%AC%E8%8A%82%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98">æœ¬èŠ‚å¯èƒ½é‡åˆ°çš„é—®é¢˜</a></p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># å®‰è£… CloudFlare Workers å®˜æ–¹ç¼–è¯‘éƒ¨ç½²å·¥å…·</span><br>npm i @cloudflare/wrangler -g<br><br><span class="hljs-comment"># ä½¿ç”¨ npm å®‰è£…ä¾èµ–</span><br>npm install<br><br><span class="hljs-comment"># ä½¿ç”¨ wrangler ç™»å½• CloudFlare è´¦æˆ·</span><br>wrangler login<br><br><span class="hljs-comment"># ä½¿ç”¨è¿™ä¸€å‘½ä»¤æ£€æŸ¥è‡ªå·±çš„ç™»å½•çŠ¶æ€</span><br>wrangler whoami<br></code></pre></td></tr></table></figure><p>æ‰“å¼€ <a href="https://dash.cloudflare.com/login">https://dash.cloudflare.com/login</a> ç™»å½• CloudFlareï¼Œé€‰æ‹©è‡ªå·±çš„åŸŸåï¼Œ<strong>å†å‘ä¸‹æ»šåŠ¨ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°å³ä¾§æ å¤„æˆ‘ä»¬çš„ <code>account_id</code> ä»¥åŠ <code>zone_id</code> äº†ã€‚</strong> åŒæ—¶ï¼Œåœ¨ <code>Workers</code> -&gt; <code>Manage Workers</code> -&gt; <code>Create a Worker</code> å¤„åˆ›å»ºä¸€ä¸ª <strong>DRAFT</strong> workerã€‚</p><p>ä¿®æ”¹æˆ‘ä»¬çš„ <a href="wrangler.toml"><code>wrangler.toml</code></a>ï¼š</p><ul><li><code>name</code>ï¼šå°±æ˜¯æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ draft worker åç§°ï¼Œæˆ‘ä»¬çš„ Worker é»˜è®¤ä¼šå‘å¸ƒåˆ°è¿™ä¸€åŸŸåä¸‹ï¼š<code>&lt;name&gt;.&lt;worker_subdomain&gt;.workers.dev</code>ï¼›</li><li><code>account_id</code>ï¼šæˆ‘ä»¬çš„ Cloudflare Account IDï¼›</li><li><code>zone_id</code>ï¼šæˆ‘ä»¬çš„ Cloudflare Zone IDã€‚</li></ul><p>åˆ›å»ºå«åš <code>BUCKET</code> çš„ Cloudflare Workers KV bucketï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># åˆ›å»º KV bucket</span><br>wrangler kv:namespace create <span class="hljs-string">&quot;BUCKET&quot;</span><br><br><span class="hljs-comment"># ... æˆ–è€…ï¼Œåˆ›å»ºåŒ…æ‹¬é¢„è§ˆåŠŸèƒ½çš„ KV bucket</span><br>wrangler kv:namespace create <span class="hljs-string">&quot;BUCKET&quot;</span> --preview<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ <a href="wrangler.toml"><code>wrangler.toml</code></a> é‡Œé¢çš„ <code>kv_namespaces</code>ï¼š</p><ul><li><code>kv_namespaces</code>ï¼šæˆ‘ä»¬çš„ Cloudflare KV namespaceï¼Œä»…éœ€æ›¿æ¢ <code>id</code> å’Œï¼ˆæˆ–è€…ï¼‰<code>preview_id</code> å³å¯ã€‚<em>å¦‚æœä¸éœ€è¦é¢„è§ˆåŠŸèƒ½ï¼Œé‚£ä¹ˆç§»é™¤ <code>preview_id</code> å³å¯ã€‚</em></li></ul><p>ä¿®æ”¹ <a href="src/config/default.js"><code>src/config/default.js</code></a>ï¼š</p><ul><li><code>client_id</code>ï¼šåˆšåˆšè·å–çš„ OneDrive <code>client_id</code>ï¼›</li><li><code>base</code>ï¼šä¹‹å‰åˆ›å»ºçš„ <code>base</code> ç›®å½•ï¼›</li><li>å¦‚æœä½ éƒ¨ç½²å¸¸è§„å›½é™…ç‰ˆ OneDriveï¼Œé‚£ä¹ˆå¿½ç•¥ä»¥ä¸‹æ­¥éª¤å³å¯ï¼›</li><li>å¦‚æœä½ éƒ¨ç½²çš„æ˜¯ç”±ä¸–çºªäº’è”è¿è¥çš„ä¸­å›½ç‰ˆ OneDriveï¼š<ul><li>ä¿®æ”¹ <code>type</code> ä¸‹çš„ <code>accountType</code> ä¸º <code>1</code>ï¼›</li><li>ä¿æŒ <code>driveType</code> ä¸å˜ï¼›</li></ul></li><li>å¦‚æœä½ éƒ¨ç½²çš„æ˜¯ SharePoint æœåŠ¡ï¼š<ul><li>ä¿æŒ <code>accountType</code> ä¸å˜ï¼›</li><li>ä¿®æ”¹ <code>driveType</code> ä¸‹çš„ <code>type</code> ä¸º <code>1</code>ï¼›</li><li>å¹¶æ ¹æ®ä½ çš„ SharePoint æœåŠ¡ä¿®æ”¹ <code>hostName</code> å’Œ <code>sitePath</code>ã€‚</li></ul></li></ul><p>ä½¿ç”¨ <code>wrangler</code> æ·»åŠ  Cloudflare Workers ç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># æ·»åŠ æˆ‘ä»¬çš„ refresh_token å’Œ client_secret</span><br>wrangler secret put REFRESH_TOKEN<br><span class="hljs-comment"># ... å¹¶åœ¨è¿™é‡Œç²˜è´´æˆ‘ä»¬çš„ refresh_token</span><br><br>wrangler secret put CLIENT_SECRET<br><span class="hljs-comment"># ... å¹¶åœ¨è¿™é‡Œç²˜è´´æˆ‘ä»¬çš„ client_secret</span><br></code></pre></td></tr></table></figure><h4 id="æœ¬èŠ‚å¯èƒ½é‡åˆ°çš„é—®é¢˜"><a href="#æœ¬èŠ‚å¯èƒ½é‡åˆ°çš„é—®é¢˜" class="headerlink" title="æœ¬èŠ‚å¯èƒ½é‡åˆ°çš„é—®é¢˜"></a>æœ¬èŠ‚å¯èƒ½é‡åˆ°çš„é—®é¢˜</h4><p>å¦‚æœä½ æ˜¯ç”¨æœ¬åœ°è·å–<code>refresh_token</code>çš„éœ€è¦ä¿®æ”¹<code>redirect_uri</code>ä¸º<code>http://localhost</code></p><p><code>npm i @cloudflare/wrangler -g</code> å‡ºé”™ <code>Error: EACCES: permission denied, access &#39;/usr/lib/node_modules&#39;</code><br>å®‰è£…<code>wrangler</code>çš„æ—¶å€™æƒé™ä¸è¶³ï¼Œå³ä½¿<code>sudo npm i @cloudflare/wrangler -g</code>ä¹Ÿä¼šå‡ºé”™<br>è¿™æ—¶å€™åªèƒ½ç»™å®ƒå®‰è£…åˆ°å½“å‰é¡¹ç›®äº†ã€‚</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> install @cloudflare/wrangler --save<br></code></pre></td></tr></table></figure><p><em>æ³¨æ„ï¼Œå³ä½¿ä½¿ç”¨ <code>sudo npm install -g @cloudflare/wrangler --unsafe-perm=true --allow-root</code> åé¢ä¹Ÿä¼šä¸èƒ½æ­£å¸¸ä½¿ç”¨</em></p><h3 id="ç¼–è¯‘ä¸éƒ¨ç½²"><a href="#ç¼–è¯‘ä¸éƒ¨ç½²" class="headerlink" title="ç¼–è¯‘ä¸éƒ¨ç½²"></a>ç¼–è¯‘ä¸éƒ¨ç½²</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>wrangler</code> é¢„è§ˆéƒ¨ç½²ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">wrangler preview<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæˆ‘ä»¬å³å¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å‘å¸ƒ Cloudflare Workerï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">wrangler publish<br></code></pre></td></tr></table></figure><h4 id="æœ¬èŠ‚å¯èƒ½é‡åˆ°çš„é—®é¢˜-1"><a href="#æœ¬èŠ‚å¯èƒ½é‡åˆ°çš„é—®é¢˜-1" class="headerlink" title="æœ¬èŠ‚å¯èƒ½é‡åˆ°çš„é—®é¢˜"></a>æœ¬èŠ‚å¯èƒ½é‡åˆ°çš„é—®é¢˜</h4><ul><li><p>é”™è¯¯å†…å®¹<code>getAccessToken</code><br>å¦‚æœä½ ç¡®å®šä¸Šé¢å¡«å†™çš„å†…å®¹éƒ½æ­£å¸¸ï¼Œé‚£ä¹ˆå¯èƒ½æ˜¯é‡åˆ°äº†<code>refresh_token</code>è¿‡é•¿<code>secret</code>ä¿å­˜å¤±è´¥â€¦â€¦</p><p>è§£å†³æ–¹æ³•ï¼šä½¿ç”¨KVæ¥ä¿å­˜<code>refresh_token</code></p><p>é¦–å…ˆè¿˜æ˜¯ä¸€æ ·çš„æ“ä½œï¼Œæ‹¿åˆ° refresh_token ä¹‹åï¼Œåœ¨ Cloudflare Workers â†’ KV é‡Œé¢çš„ BUCKET namespace ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ entry å°±å«åš refresh_tokenï¼Œç„¶åæŠŠä½ æ‹¿åˆ°çš„ refresh_token ç²˜è¿›å»ï¼š<br><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/Cloudflare-Workers-OneDrive-6.png"><br>ä¹‹åä¿®æ”¹ä»£ç ï¼Œåœ¨ <code>./src/auth/onedrive.js</code> é‡Œé¢åŠ ä¸€ä¸ªè·å– <code>refresh_token</code> çš„ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// ...</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAccessToken</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">const</span> timestamp = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Date</span>.now() / <span class="hljs-number">1000</span>)<br>  &#125;<br><br>  <span class="hljs-keyword">const</span> refresh_token = <span class="hljs-keyword">await</span> BUCKET.get(<span class="hljs-string">&#x27;refresh_token&#x27;</span>)<br><br>  <span class="hljs-comment">// ä¹‹åæ‰€æœ‰çš„ config.refresh_token éƒ½ç›´æ¥æ”¹ä¸º refresh_token</span><br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><p>é¡ºä¾¿è¿˜è¦æŠŠå…¶ä»–åŸæœ‰å®šä¹‰äº† <code>REFRESH_TOKEN</code> çš„åœ°æ–¹åˆ æ‰ï¼ˆæ¯”å¦‚ <code>./src/config/default.js</code> é‡Œé¢çš„ <code>refresh_token: REFRESH_TOKEN,</code> ä¸€è¡Œï¼‰ã€‚</p></li></ul><h2 id="æ ·å¼ã€å†…å®¹çš„è‡ªå®šä¹‰"><a href="#æ ·å¼ã€å†…å®¹çš„è‡ªå®šä¹‰" class="headerlink" title="æ ·å¼ã€å†…å®¹çš„è‡ªå®šä¹‰"></a>æ ·å¼ã€å†…å®¹çš„è‡ªå®šä¹‰</h2><ul><li>æˆ‘ä»¬ <strong>åº”è¯¥</strong> æ›´æ”¹é»˜è®¤ã€Œç€è½é¡µé¢ã€ï¼Œç›´æ¥ä¿®æ”¹ <code>src/folderView.js</code>#L51-L55) ä¸­ <code>intro</code> çš„ HTML å³å¯ï¼›</li><li>æˆ‘ä»¬ä¹Ÿ <strong>åº”è¯¥</strong> æ›´æ”¹é¡µé¢çš„ headerï¼Œç›´æ¥ä¿®æ”¹ <code>src/render/htmlWrapper.js</code>#L24 å³å¯ï¼›</li><li>æ ·å¼ CSS æ–‡ä»¶ä½äº <code>themes/spencer.css</code>ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦è‡ªå®šä¹‰æ­¤æ–‡ä»¶ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦æ›´æ–° <code>src/render/htmlWrapper.js</code>#L3 æ–‡ä»¶ä¸­çš„ commit HASHï¼›</li><li>æˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰ Markdown æ¸²æŸ“ CSS æ ·å¼ã€PrismJS ä»£ç é«˜äº®æ ·å¼ï¼Œç­‰ç­‰ç­‰ã€‚</li></ul><h2 id="å¦‚æœé‡åˆ°å›¾ç‰‡æ— æ³•æ˜¾ç¤ºç¼©ç•¥å›¾"><a href="#å¦‚æœé‡åˆ°å›¾ç‰‡æ— æ³•æ˜¾ç¤ºç¼©ç•¥å›¾" class="headerlink" title="å¦‚æœé‡åˆ°å›¾ç‰‡æ— æ³•æ˜¾ç¤ºç¼©ç•¥å›¾"></a>å¦‚æœé‡åˆ°å›¾ç‰‡æ— æ³•æ˜¾ç¤ºç¼©ç•¥å›¾</h2><blockquote><p>å¦‚æœä½¿ç”¨çš„ä¸æ˜¯ä¸ªäººç‰ˆOneDriveï¼Œä¸‹é¢å¸¦<code>Crop</code>çš„é€‰é¡¹å¯èƒ½æ— æ³•æ­£å¸¸æ˜¾ç¤ºç¼©ç•¥å›¾</p></blockquote><table><thead><tr><th align="left">Name</th><th align="left">Resolution</th><th align="left">Aspect Ratio</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>small</code></td><td align="left">96 longest</td><td align="left">Original</td><td align="left">Small, highly compressed thumbnail cropped to a square aspect ratio.</td></tr><tr><td align="left"><code>medium</code></td><td align="left">176 longest</td><td align="left">Original</td><td align="left">Cropped to the standard item size for the OneDrive web view.</td></tr><tr><td align="left"><code>large</code></td><td align="left">800 longest</td><td align="left">Original</td><td align="left">Thumbnail with the longest edge resized to 800 pixels.</td></tr><tr><td align="left"><del><code>smallSquare</code></del></td><td align="left">96x96</td><td align="left">Square Crop</td><td align="left"><strong>è¯¥é€‰é¡¹ä¸å¯ç”¨ï¼Œä¼šè¿”å›itemNotFoundé”™è¯¯</strong></td></tr><tr><td align="left"><del><code>mediumSquare</code></del></td><td align="left">176x176</td><td align="left">Square Crop</td><td align="left"><strong>è¯¥é€‰é¡¹ä¸å¯ç”¨ï¼Œä¼šè¿”å›itemNotFoundé”™è¯¯</strong></td></tr><tr><td align="left"><del><code>largeSquare</code></del></td><td align="left">800x800</td><td align="left">Square Crop</td><td align="left"><strong>è¯¥é€‰é¡¹ä¸å¯ç”¨ï¼Œä¼šè¿”å›itemNotFoundé”™è¯¯</strong></td></tr></tbody></table><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs http">https://wuyang.ws/***.jpg?proxied&amp;thumbnail=c300x400  #æ­£å¸¸<br>https://wuyang.ws/***.jpg?proxied&amp;thumbnail=c300x400_Crop  #ä¸å¯ç”¨<br></code></pre></td></tr></table></figure><hr><p>æœ€åï¼Œæ„Ÿè°¢ä½œè€… <a href="https://blog.spencerwoo.com/">Spencer Woo</a>. ä¸ºæˆ‘ä»¬å¸¦æ¥å¦‚æ­¤å¼ºå¤§çš„ç¨‹åºï¼</p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Cloudflare</tag>
      
      <tag>Workers</tag>
      
      <tag>OneDrive</tag>
      
      <tag>OneIndex-CF-Index</tag>
      
      <tag>OneIndex</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®°ä¸€æ¬¡ä½¿ç”¨PWA(ServiceWorker)åæ‡’åŠ è½½å¤±æ•ˆè§£å†³</title>
    <link href="/read/fix-hexo-fluid-theme-comments-and-images.html"/>
    <url>/read/fix-hexo-fluid-theme-comments-and-images.html</url>
    
    <content type="html"><![CDATA[<h3 id="é—®é¢˜æ‰€åœ¨"><a href="#é—®é¢˜æ‰€åœ¨" class="headerlink" title="é—®é¢˜æ‰€åœ¨"></a>é—®é¢˜æ‰€åœ¨</h3><p><del>ä¸çŸ¥é“æ˜¯å“ªæ–¹çš„BUGï¼Œé¦–æ¬¡åŠ è½½å’Œhttp/sä¸‹åŠ è½½éƒ½æ­£å¸¸ã€‚</del></p><p><del>è€Œåœ¨ServiceWorkerä¸‹ï¼Œ IntersectionObserver.entries.isIntersectingè¿”å›éƒ½æ˜¯falseï¼Œå¯¼è‡´è¯„è®ºæ¡†å’Œlazyloadå›¾ç‰‡ä¸æ˜¾ç¤ºã€‚</del></p><p>å¯¼è‡´é—®é¢˜çš„åŸå› æ˜¯PWAåŠ è½½å¤ªå¿«ï¼Œå¯¼è‡´DOMè¿˜æ²¡æ¸²æŸ“å®Œæˆå°±æ‰§è¡Œäº†<code>io.observe(document.getElementById(targetId));</code><br>å¹¶ä¸”ç”±äºæ²¡æœ‰è·å–åˆ°å…ƒç´ ä¿¡æ¯(<code>entries[0].intersectionRect</code>ä¸ºç©º)ï¼Œæ‰€ä»¥å°±ä¸ä¼šæœ‰å…ƒç´ å¯è§†çš„å›è°ƒã€‚<br>è§£å†³æ–¹æ¡ˆå°±æ˜¯å¢åŠ å¤±è´¥å Rollback åˆ° <code>scroll</code> æ¨¡å¼åˆ¤æ–­æ˜¯å¦å¯è§ã€‚è¯¦è§ä¸‹é¢çš„ä»£ç ã€‚</p><h4 id="å‡½æ•°ä½ç½®"><a href="#å‡½æ•°ä½ç½®" class="headerlink" title="å‡½æ•°ä½ç½®"></a>å‡½æ•°ä½ç½®</h4><p><code>/source/js/utils.js</code><br><code>waitElementVisible</code></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">var</span> io = <span class="hljs-keyword">new</span> IntersectionObserver(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">entries, ob</span>) </span>&#123;<br>  <span class="hljs-keyword">if</span> (entries[<span class="hljs-number">0</span>].isIntersecting) &#123; <span class="hljs-comment">//åœ¨service workerä¸‹,è¿”å›çš„éƒ½æ˜¯false</span><br>    callback &amp;&amp; callback();<br>    ob.disconnect();<br>  &#125;<br>&#125;, &#123;<br>  threshold : [<span class="hljs-number">0</span>],<br>  rootMargin: (<span class="hljs-built_in">window</span>.innerHeight || <span class="hljs-built_in">document</span>.documentElement.clientHeight) + <span class="hljs-string">&#x27;px&#x27;</span><br>&#125;);<br>io.observe(<span class="hljs-built_in">document</span>.getElementById(targetId));<br></code></pre></td></tr></table></figure><hr><h3 id="è§£å†³æ–¹æ³•-æ€è·¯"><a href="#è§£å†³æ–¹æ³•-æ€è·¯" class="headerlink" title="è§£å†³æ–¹æ³•/æ€è·¯"></a>è§£å†³æ–¹æ³•/æ€è·¯</h3><h4 id="è¯„è®ºæ¢æˆjsåˆ¤æ–­åŠ è½½"><a href="#è¯„è®ºæ¢æˆjsåˆ¤æ–­åŠ è½½" class="headerlink" title="è¯„è®ºæ¢æˆjsåˆ¤æ–­åŠ è½½"></a>è¯„è®ºæ¢æˆjsåˆ¤æ–­åŠ è½½</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs typescript">  <span class="hljs-keyword">if</span> (!isBot &amp;&amp; runningOnBrowser)&#123;<span class="hljs-comment">// &amp;&amp; supportsIntersectionObserver) &#123;</span><br><br><span class="hljs-keyword">if</span>(<span class="hljs-string">&#x27;attachEvent&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>)<span class="hljs-built_in">document</span>.attachEvent(<span class="hljs-string">&quot;scroll&quot;</span>, _callback);<br><span class="hljs-keyword">if</span>(<span class="hljs-string">&#x27;addEventListener&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>)<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">&#x27;scroll&#x27;</span>, _callback);<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callback</span>(<span class="hljs-params"></span>) </span>&#123;<br> <span class="hljs-keyword">const</span> _target = <span class="hljs-built_in">document</span>.getElementById(targetId);<br> <span class="hljs-comment">//æ»šåŠ¨æ¡é«˜åº¦+è§†çª—é«˜åº¦ = å¯è§åŒºåŸŸåº•éƒ¨é«˜åº¦</span><br> <span class="hljs-keyword">let</span> visibleBottom = <span class="hljs-built_in">window</span>.scrollY + <span class="hljs-built_in">document</span>.documentElement.clientHeight;<br> <span class="hljs-comment">//å¯è§åŒºåŸŸé¡¶éƒ¨é«˜åº¦</span><br> <span class="hljs-keyword">let</span> visibleTop = <span class="hljs-built_in">window</span>.scrollY;<br> <span class="hljs-keyword">let</span> centerY = _target.offsetTop + (_target.offsetHeight / <span class="hljs-number">2</span>);<br> <span class="hljs-keyword">if</span> (centerY &gt; visibleTop &amp;&amp; centerY &lt; visibleBottom) &#123;<br> <span class="hljs-keyword">if</span>(<span class="hljs-string">&#x27;attachEvent&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>)<span class="hljs-built_in">document</span>.detachEvent(<span class="hljs-string">&#x27;scroll&#x27;</span>, _callback);<br> <span class="hljs-keyword">if</span>(<span class="hljs-string">&#x27;addEventListener&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>)<span class="hljs-built_in">document</span>.removeEventListener(<span class="hljs-string">&#x27;scroll&#x27;</span>, _callback);<br>callback &amp;&amp; callback();<br> &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="æ–°çš„æ–¹æ³•"><a href="#æ–°çš„æ–¹æ³•" class="headerlink" title="æ–°çš„æ–¹æ³•"></a>æ–°çš„æ–¹æ³•</h4><p>æ›´æ–° 2021å¹´03æœˆ17æ—¥ 19ç‚¹10åˆ†</p><blockquote><p>ç›´æ¥é‡å†™æ•´ä¸ª<code>waitElementVisible</code>å‡½æ•°ï¼Œæ­£å¸¸çš„æƒ…å†µä¸‹ä½¿ç”¨<code>IntersectionObserver</code>ï¼Œå¤±è´¥çš„æƒ…å†µä¸‹å›é€€åˆ°ä½¿ç”¨<code>scroll</code></p></blockquote><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs typescript">waitElementVisible: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">targetId, callback</span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> runningOnBrowser = <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span>;<br>  <span class="hljs-keyword">var</span> isBot = (runningOnBrowser &amp;&amp; !(<span class="hljs-string">&#x27;onscroll&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>)) || (<span class="hljs-keyword">typeof</span> navigator !== <span class="hljs-string">&#x27;undefined&#x27;</span><br>      &amp;&amp; <span class="hljs-regexp">/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i</span>.test(navigator.userAgent));<br>  <span class="hljs-keyword">var</span> supportsIntersectionObserver = <span class="hljs-string">&#x27;IntersectionObserver&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>;<br>  <span class="hljs-keyword">var</span> attachEvent = <span class="hljs-string">&#x27;attachEvent&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>;<br>  <span class="hljs-keyword">var</span> addEventListener = <span class="hljs-string">&#x27;addEventListener&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>;<br>  <span class="hljs-keyword">if</span> (!isBot &amp;&amp; runningOnBrowser &amp;&amp; (attachEvent || addEventListener)) &#123;<br>    <span class="hljs-keyword">var</span> _scroll = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>      <span class="hljs-keyword">var</span> _callback = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">var</span> _target = <span class="hljs-built_in">document</span>.getElementById(targetId);<br>        <span class="hljs-comment">//æ»šåŠ¨æ¡é«˜åº¦+è§†çª—é«˜åº¦ = å¯è§åŒºåŸŸåº•éƒ¨é«˜åº¦</span><br>        <span class="hljs-keyword">var</span> visibleBottom = <span class="hljs-built_in">window</span>.scrollY + <span class="hljs-built_in">document</span>.documentElement.clientHeight;<br>        <span class="hljs-comment">//å¯è§åŒºåŸŸé¡¶éƒ¨é«˜åº¦</span><br>        <span class="hljs-keyword">var</span> visibleTop = <span class="hljs-built_in">window</span>.scrollY;<br>        <span class="hljs-keyword">var</span> centerY = _target.offsetTop + (_target.offsetHeight / <span class="hljs-number">2</span>);<br>        <span class="hljs-keyword">if</span> (centerY &gt; visibleTop &amp;&amp; centerY &lt; visibleBottom) &#123;<br>          <span class="hljs-keyword">if</span> (attachEvent)<span class="hljs-built_in">document</span>.detachEvent(<span class="hljs-string">&#x27;scroll&#x27;</span>, _callback);<br>          <span class="hljs-keyword">if</span> (addEventListener)<span class="hljs-built_in">document</span>.removeEventListener(<span class="hljs-string">&#x27;scroll&#x27;</span>, _callback);<br>          callback &amp;&amp; callback();<br>        &#125;<br>      &#125;;<br>      <span class="hljs-keyword">if</span> (attachEvent)<span class="hljs-built_in">document</span>.attachEvent(<span class="hljs-string">&#x27;scroll&#x27;</span>, _callback);<br>      <span class="hljs-keyword">if</span> (addEventListener)<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">&#x27;scroll&#x27;</span>, _callback);<br>    &#125;;<br>    <span class="hljs-keyword">if</span> (supportsIntersectionObserver) &#123;<br>      <span class="hljs-keyword">var</span> io = <span class="hljs-keyword">new</span> IntersectionObserver(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">entries, ob</span>) </span>&#123;<br>        <span class="hljs-comment">//å¦‚æœå¤±è´¥ï¼Œå›é€€åˆ°scrollæ–¹å¼</span><br>        <span class="hljs-keyword">if</span> (entries[<span class="hljs-number">0</span>].intersectionRect.x &lt;= <span class="hljs-number">0</span>) &#123; _scroll(); ob.disconnect(); <span class="hljs-keyword">return</span>; &#125;<br>        <span class="hljs-keyword">if</span> (entries[<span class="hljs-number">0</span>].isIntersecting) &#123;<br>          callback &amp;&amp; callback();<br>          ob.disconnect();<br>        &#125;<br>      &#125;, &#123;<br>        threshold : [<span class="hljs-number">0</span>],<br>        rootMargin: (<span class="hljs-built_in">window</span>.innerHeight || <span class="hljs-built_in">document</span>.documentElement.clientHeight) + <span class="hljs-string">&#x27;px&#x27;</span><br>      &#125;);<br>      io.observe(<span class="hljs-built_in">document</span>.getElementById(targetId));<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      _scroll();<br>    &#125;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    callback &amp;&amp; callback();<br>  &#125;<br>&#125;,<br></code></pre></td></tr></table></figure><h4 id="å›¾ç‰‡åŠ è½½æˆ‘ç›´æ¥æ¢äº†ä¸€ä¸ªåº“"><a href="#å›¾ç‰‡åŠ è½½æˆ‘ç›´æ¥æ¢äº†ä¸€ä¸ªåº“" class="headerlink" title="å›¾ç‰‡åŠ è½½æˆ‘ç›´æ¥æ¢äº†ä¸€ä¸ªåº“"></a>å›¾ç‰‡åŠ è½½æˆ‘ç›´æ¥æ¢äº†ä¸€ä¸ªåº“</h4><p>ä½¿ç”¨äº†<code>lazyloadjs.cn</code>çš„jsåŠ è½½</p><p><code>scripts/events/lib/lazyload.js</code>ç¬¬32-35è¡Œæ”¹ä¸º</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">if</span> (/data-src=/i.<span class="hljs-keyword">test</span>(str)) &#123;<br>  <span class="hljs-keyword">return</span> str;<br>&#125;<br><span class="hljs-keyword">return</span> str.<span class="hljs-keyword">replace</span>(p1, `<span class="hljs-variable">$&#123;loadingImage&#125;</span><span class="hljs-string">&quot; class=&quot;</span>lazyload<span class="hljs-string">&quot; data-src=&quot;</span><span class="hljs-variable">$&#123;p1&#125;</span>`);<br><br></code></pre></td></tr></table></figure><p>å¦‚æœå¼€å¯äº†progressbarï¼Œç›¸åº”çš„<code>/source/js/plugins.js</code>å†…</p><p><code>var images = $(&#39;main img:not([srcset])&#39;);</code></p><p>ä¹Ÿè¦ä¿®æ”¹ä¸º</p><p><code>var images = $(&#39;main img:not([data-src])&#39;);</code></p><hr><p>è‡³æ­¤ä¿®æ”¹å®Œæˆ.<br>é¢˜å¤–è¯ã€‚æäº¤äº†pråˆ°fluid-dev,ç»“æœå¤±è´¥,å‡ºç°äº†50å¤šä¸ªé”™è¯¯,çœ‹äº†ä¸€ä¸‹,ç«Ÿç„¶å…¨éƒ½æ˜¯è¯­æ³•é”™è¯¯,æƒ­æ„§æƒ­æ„§</p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>hexo-theme</tag>
      
      <tag>theme</tag>
      
      <tag>Fluid</tag>
      
      <tag>PWA</tag>
      
      <tag>ServiceWorker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æŠŠåšå®¢ç¨‹åºä» typecho æ¢æˆäº† Hexo</title>
    <link href="/read/typecho-to-hexo.html"/>
    <url>/read/typecho-to-hexo.html</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸ºä»€ä¹ˆè¦æ¢æ‰typecho"><a href="#ä¸ºä»€ä¹ˆè¦æ¢æ‰typecho" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æ¢æ‰typecho"></a>ä¸ºä»€ä¹ˆè¦æ¢æ‰typecho</h3><hr><p>ä¹‹å‰ç™½å«–çš„å­¦ç”Ÿæœºè¦åˆ°æœŸäº†ï¼Œæ˜¯æ—¶å€™ç»™åšå®¢æ¢ä¸ªå½’å®¿äº†ã€‚<br>åšå®¢åŸæœ¬çš„ç¨‹åºæ˜¯ typecho ç°åœ¨æ¢åˆ°äº† Hexo . ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå…è´¹æœåŠ¡é¦™å•Šï¼</p><blockquote><p>ç°åœ¨æ‰€æœ‰ç”¨åˆ°çš„æœåŠ¡ï¼Œåªæœ‰è¿™ä¸ªåŸŸåæ˜¯èŠ±é’±çš„ã€‚</p></blockquote><p>å…·ä½“æ˜¯é‚£äº›å‘¢</p><p>åšå®¢ç¨‹åºï¼š<a href="https://hexo.io/">Hexo</a><br>è¯„è®ºç¨‹åºï¼š<a href="https://twikoo.js.org/">Twikoo</a><br>æ‰˜ç®¡æœåŠ¡ï¼šGithub + <a href="https://vercel.com/">Vercel</a> + <a href="https://www.netlify.com/">Netlify</a> + Cloudflare Pages(å·²ç»æ¯™äº†,ä¼šè‡ªåŠ¨å»æ‰ç»“å°¾html,æ— æ³•æ‰‹åŠ¨è®¾ç½®)<br>CDNï¼šè…¾è®¯äº‘ + é˜¿é‡Œäº‘ + åˆæ‹äº‘</p><p>æºç æ‰˜ç®¡åœ¨ Github çš„ç§æœ‰ä»“åº“ï¼Œæäº¤åç”± Vercel å’Œ Netlify è‡ªåŠ¨ç¼–è¯‘å‡ºé™æ€ç½‘ç«™ï¼Œè…¾è®¯äº‘CDNæºç«™è®¾ç½® Vercel å’Œ Netlify ç›¸äº’çƒ­å¤‡ï¼Œç„¶åGithub Actionè‡ªåŠ¨åˆ·æ–°CDNç¼“å­˜èµ„æºã€‚</p><hr><h3 id="è®°å½•ä¸€ä¸‹è¿ç§»è¿‡ç¨‹"><a href="#è®°å½•ä¸€ä¸‹è¿ç§»è¿‡ç¨‹" class="headerlink" title="è®°å½•ä¸€ä¸‹è¿ç§»è¿‡ç¨‹"></a>è®°å½•ä¸€ä¸‹è¿ç§»è¿‡ç¨‹</h3><h4 id="å¤‡ä»½-typecho-çš„æ–‡ç« æ•°æ®"><a href="#å¤‡ä»½-typecho-çš„æ–‡ç« æ•°æ®" class="headerlink" title="å¤‡ä»½ typecho çš„æ–‡ç« æ•°æ®"></a>å¤‡ä»½ typecho çš„æ–‡ç« æ•°æ®</h4><p>è¿™é‡Œç”¨åˆ°çš„æ˜¯ <a href="https://github.com/lizheming/typecho-export-hugo">Export2Hugo</a> æ’ä»¶å¯¼å‡ºæ‰€æœ‰æ–‡ç« ã€‚<br>ä¸è¿‡æ’ä»¶å†…å†™çš„éƒ½æ˜¯ <code>exec</code> .ä¸€èˆ¬ç”¨PHPéƒ½å±è”½äº†è¿™ç§å‘½ä»¤ï¼Œåªèƒ½å°æ”¹ä¸€ä¸‹å•¦ã€‚<br>æ‰“å¼€<code>Action.php</code>æ”¹ç¬¬29è¡Œçš„<code>$dir</code>ç›´æ¥æ”¹æˆä¸€ä¸ªå½“å‰èƒ½è®¿é—®çš„ç»å¯¹åœ°å€ã€‚<br>æ­£å¸¸å‰å°ç°åœ¨ç‚¹å‡»å¤‡ä»½ï¼Œä¼šåœ¨è¿™ä¸ªç›®å½•ç”Ÿæˆæ‰€æœ‰çš„æ–‡ç« å•¦~</p><h4 id="å¤‡ä»½-typecho-çš„è¯„è®ºæ•°æ®"><a href="#å¤‡ä»½-typecho-çš„è¯„è®ºæ•°æ®" class="headerlink" title="å¤‡ä»½ typecho çš„è¯„è®ºæ•°æ®"></a>å¤‡ä»½ typecho çš„è¯„è®ºæ•°æ®</h4><p>è¯„è®ºç”¨çš„ <a href="https://github.com/AyagawaSeirin/TypechoToHexo">TypechoToHexo</a> æ’ä»¶å¯¼å‡ºã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆæ–‡ç« ä¸ç”¨è¿™ä¸ªå‘¢ï¼Ÿæœ€å¼€å§‹ç”¨çš„ä¹Ÿæ˜¯è¿™ä¸ªæ’ä»¶ï¼Œå¯¼å‡ºçš„æœ‰äº›é—®é¢˜â€¦â€¦</p></blockquote><p>è¯„è®ºå¯¼å‡ºè¿˜æŒºå¥½ä½¿çš„ã€‚</p><p>å¯¼å‡ºå•é¡µè¯„è®ºéœ€è¦ä¿®æ”¹ <code>comments_page.php</code> é‡Œçš„ <code>$url</code> å’Œ <code>$cid</code>,ç”±å¤šå°‘ä¸ªå•é¡µå°±éœ€è¦å¯¼å‡ºå‡ æ¬¡</p><p>å¯¼å‡º json çš„æ–‡ä»¶å¯ä»¥ç›´æ¥åœ¨ Twikoo é‡Œå¯¼å…¥ï¼Œå…¼å®¹ Valine æ ¼å¼</p><h4 id="éœ€è¦ä¼˜åŒ–çš„åœ°æ–¹"><a href="#éœ€è¦ä¼˜åŒ–çš„åœ°æ–¹" class="headerlink" title="éœ€è¦ä¼˜åŒ–çš„åœ°æ–¹"></a>éœ€è¦ä¼˜åŒ–çš„åœ°æ–¹</h4><p>åšå®¢ä¹‹å‰åœ°å€ç”¨çš„éƒ½æ˜¯è‡ªå®šä¹‰slugï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹ Hexo çš„<code>permalink: read/:uri.html</code> (åˆšå¥½slugæ˜¯å†…ç½®å˜é‡ï¼Œæ— æ³•è‡ªå®šä¹‰ï¼Œåªèƒ½æ”¹ä¸ªå‘½åç”¨uri)</p><p>æ‰€æœ‰ä¹‹å‰ä¸»é¢˜ä½¿ç”¨çš„è‡ªå®šä¹‰å†…éƒ¨é“¾æ¥è¦ä¿®æ”¹æˆé€šç”¨é“¾æ¥â€¦â€¦</p><p>å¯¼å‡ºçš„å›¾ç‰‡éœ€è¦ä¿®æ”¹URL</p><p>å¯¼å‡ºçš„è¯„è®ºå†…è¡¨æƒ…éƒ½æ˜¯::QQ:Y:qq1::è¿™ç§ç±»å‹çš„ï¼Œéœ€è¦æ‰‹åŠ¨è½¬æˆ<code>&lt;img&gt;</code>æ ‡ç­¾çš„å›¾ç‰‡å­˜å‚¨ï¼Œä¸è¿‡ä¹‹å‰å’Œç°åœ¨éƒ½æ˜¯å…¼å®¹OwOæ ¼å¼ï¼Œè½¬æ¢èµ·æ¥è¿˜æ˜¯å¾ˆæ–¹ä¾¿ã€‚<br>ç„¶åä¿®æ”¹OwOçš„é“¾æ¥ï¼Œåˆå¯ä»¥ç”¨ä¸Šä¹‹å‰çš„è¡¨æƒ…å•¦~</p><hr><h3 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h3><p>å¥½ä¹…æ²¡æœ‰ç®¡åšå®¢äº†ã€‚ç­‰æœ‰ç©º<del>å†™å‡ ç¯‡</del>(æ°´å‡ ç¯‡)æ–‡ç« åˆ†äº«å¦‚ä½•æ­å»ºè¿™äº›æœåŠ¡å§</p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>typecho</tag>
      
      <tag>Twikoo</tag>
      
      <tag>Vercel</tag>
      
      <tag>Netlify</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexoçš„å¤–é“¾è½¬å†…é“¾æ’ä»¶</title>
    <link href="/read/hexo-filter-links.html"/>
    <url>/read/hexo-filter-links.html</url>
    
    <content type="html"><![CDATA[<h2 id="Hexoçš„å¤–é“¾è½¬å†…é“¾æ’ä»¶"><a href="#Hexoçš„å¤–é“¾è½¬å†…é“¾æ’ä»¶" class="headerlink" title="Hexoçš„å¤–é“¾è½¬å†…é“¾æ’ä»¶"></a>Hexoçš„å¤–é“¾è½¬å†…é“¾æ’ä»¶</h2><p>è¿™ä¸ªæ’ä»¶çš„åŠŸèƒ½å°±æ˜¯æŠŠæ‰€æœ‰çš„å¤–éƒ¨é“¾æ¥è½¬æ¢æˆç±»ä¼¼<code>https://cuojue.org/go/#aHR0cDovL2N1b2p1ZS5vcmc=</code>çš„é“¾æ¥å½¢å¼</p><blockquote><p>åˆè¡·æ˜¯åšå®¢ä» typecho åˆ‡æ¢åˆ°äº† Hexoï¼Œç„¶åæ‰¾äº†ä¸€åœˆéƒ½æ²¡æœ‰è¿™ç§æ’ä»¶. ( æœ‰ä¸€ä¸ªç«Ÿç„¶æ˜¯ç”¨jsåœ¨å‰ç«¯æ›¿æ¢å®ç°çš„ï¼Œæ©è€³ç›—é“ƒï¼Ÿ<a href="https://github.com/hvnobug/hexo-external-link">hexo-external-link</a> ) .æœ€åæ— å¥ˆåªèƒ½è‡ªå·±å†™ä¸€ä¸ªäº†â€¦â€¦</p></blockquote><h4 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><hr><h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm i hexo-filter-links --save<br></code></pre></td></tr></table></figure><h5 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h5><p>å» <code>_config.yml</code> æ·»åŠ é…ç½®</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">links:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">field:</span> <span class="hljs-string">&#x27;site&#x27;</span><br>  <span class="hljs-attr">exclude:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;exclude1.com&#x27;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;exclude2.com&#x27;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;*.exclude2.com&#x27;</span> <span class="hljs-comment">#1.0.4åŠä»¥ä¸Šç‰ˆæœ¬æ”¯æŒ</span><br></code></pre></td></tr></table></figure><h5 id="é…ç½®é¡¹è§£é‡Š"><a href="#é…ç½®é¡¹è§£é‡Š" class="headerlink" title="é…ç½®é¡¹è§£é‡Š"></a>é…ç½®é¡¹è§£é‡Š</h5><ul><li><strong>enable</strong> - å¼€å¯æˆ–è€…å…³é—­æ’ä»¶ï¼Œé»˜è®¤æ˜¯å¼€  <code>true</code>.</li><li><strong>field</strong> - è®¾ç½®ç”Ÿæ•ˆæ’ä»¶èŒƒå›´ï¼Œä¸€å…±æœ‰ä¸¤ç§é€‰é¡¹ â€˜siteâ€™ å’Œ â€˜postâ€™ï¼Œ é»˜è®¤æ˜¯å…¨ç«™ <code>site</code>.<ul><li>â€˜postâ€™ - ä»…åœ¨å†…å®¹é¡µå¯ç”¨</li><li>â€˜siteâ€™ - åœ¨å…¨ç«™éƒ½å¯ç”¨</li></ul></li><li><strong>exclude</strong> - æ’é™¤ä¸éœ€è¦è½¬æ¢çš„åŸŸåï¼Œç»å¯¹åŒ¹é…ï¼Œå¸¦ <code>www</code> å’Œä¸å¸¦çš„æ˜¯éœ€è¦åŠ ä¸¤æ¡.<ul><li>â€˜exclude1.comâ€™ ä¸åŒ…æ‹¬ <code>www.exclude1.com</code> å’Œ <code>en.exclude1.com</code>.</li><li>â€˜*.exclude2.comâ€™ åŒ…æ‹¬ <code>www.exclude2.com</code> å’Œ <code>en.exclude2.com</code>.</li></ul></li></ul><hr><h4 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h4><ul><li>v1.0.4<ul><li>æ”¯æŒæ’é™¤é€šé…ç¬¦åŸŸå</li></ul></li><li>v1.0.6<ul><li>ä¿®æ”¹<code>?</code>(search)ä¸º<code>#</code>(hash)é¿å…æŸäº›CDNä¸ç¼“å­˜<code>go</code>é¡µé¢</li></ul></li></ul><hr><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>å‚è€ƒäº†å®˜æ–¹æ’ä»¶ <code>hexo-filter-nofollow</code> çš„å®ç°å¹¶ç»§æ‰¿äº†å®ƒçš„åŠŸèƒ½ã€‚<br>ä¹Ÿå°±æ˜¯æœ¬æ’ä»¶ä¹ŸåŒ…å«äº† <code>nofollow</code> åŠŸèƒ½ã€‚</p><p>å‚è€ƒå®ç°ï¼š<a href="https://github.com/hexojs/hexo-filter-nofollow">hexo-filter-nofollow</a></p><p>æºç åœ°å€ï¼š<a href="https://github.com/naicfeng/hexo-filter-links">GitHub</a></p><p>æ¼”ç¤ºåœ°å€ï¼šä¸Šé¢ä¸¤ä¸ªé“¾æ¥å°±æ˜¯å•¦~</p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>hexo-filter-links</tag>
      
      <tag>plugins</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é›¶æˆæœ¬æ­å»ºä¸€ä¸ªæœåŠ¡å™¨/ç½‘ç«™çŠ¶æ€æ£€æµ‹é¡µ</title>
    <link href="/read/create_server_status_website.html"/>
    <url>/read/create_server_status_website.html</url>
    
    <content type="html"><![CDATA[<p>æ¼”ç¤ºåœ°å€ï¼š<a href="https://status.wuyang.ws/">https://status.wuyang.ws</a></p><h2 id="æ³¨å†Œè´¦æˆ·å’Œæ·»åŠ æ£€æµ‹é¡¹ç›®"><a href="#æ³¨å†Œè´¦æˆ·å’Œæ·»åŠ æ£€æµ‹é¡¹ç›®" class="headerlink" title="æ³¨å†Œè´¦æˆ·å’Œæ·»åŠ æ£€æµ‹é¡¹ç›®"></a>æ³¨å†Œè´¦æˆ·å’Œæ·»åŠ æ£€æµ‹é¡¹ç›®</h2><h3 id="æ³¨å†Œè´¦æˆ·"><a href="#æ³¨å†Œè´¦æˆ·" class="headerlink" title="æ³¨å†Œè´¦æˆ·"></a>æ³¨å†Œè´¦æˆ·</h3><ol><li><p>å…ˆè¦æœ‰ä¸€ä¸ª <a href="https://github.com/" title="GitHub">GitHub</a> æˆ– <a href="https://gitlab.com/" title="GitLab">GitLab</a> æˆ– <a href="https://bitbucket.org/" title="Bitbucket">Bitbucket</a> è´¦å·</p></li><li><p>ç„¶åå» <a href="https://uptimerobot.com/">https://uptimerobot.com</a> æ³¨å†Œä¸€ä¸ªè´¦æˆ·</p></li><li><p>ç™»å½• <a href="https://vercel.com/login">https://vercel.com/login</a> (ç”¨ä¸Šé¢çš„è´¦æˆ·ç›´æ¥ç™»å½•)</p></li></ol><h3 id="æ·»åŠ éœ€è¦æ£€æµ‹çš„ç½‘ç«™-æœåŠ¡å™¨"><a href="#æ·»åŠ éœ€è¦æ£€æµ‹çš„ç½‘ç«™-æœåŠ¡å™¨" class="headerlink" title="æ·»åŠ éœ€è¦æ£€æµ‹çš„ç½‘ç«™/æœåŠ¡å™¨"></a>æ·»åŠ éœ€è¦æ£€æµ‹çš„ç½‘ç«™/æœåŠ¡å™¨</h3><blockquote><p>uptimerobotå…è´¹æ”¯æŒ50ä¸ªç½‘ç«™/æœåŠ¡å™¨çš„æ£€æµ‹ï¼Œå¹¶ä¸”æä¾›API</p></blockquote><p>ç™»å½•uptimerobotåç‚¹å‡»â€œAdd New Monitorâ€æ·»åŠ éœ€è¦æ£€æµ‹çš„æœåŠ¡</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/1532070197.jpg" alt="2.jpg"></p><p>æ·»åŠ å®Œæ¯•å°±å¯ä»¥ä½¿ç”¨è‡ªå¸¦çš„ Status pages ï¼Œä¸è¿‡åœ°å€è¢«sheä¼šzhuä¹‰é«˜wallæŒ¡äº†â€¦â€¦ï¼ˆæ‰€ä»¥æ‰æœ‰äº†è¿™ç¯‡æ°´æ–‡ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/2288733366.jpg" alt="3.jpg"></p><h3 id="è·å–APIå¯†é’¥"><a href="#è·å–APIå¯†é’¥" class="headerlink" title="è·å–APIå¯†é’¥"></a>è·å–APIå¯†é’¥</h3><p>åœ¨uptimerobotç½‘ç«™ç‚¹å‡»å¤´éƒ¨ â€œMy Settingsâ€è¿›å…¥è®¾ç½®ï¼Œæ‹‰åˆ°æœ€ä¸‹é¢â€œAPI Settingsâ€ç‚¹å‡»â€œShow/hide it.â€<br>å¤åˆ¶ä½ çš„APIå¤‡ç”¨</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/3242396119.jpg" alt="4.jpg"></p><h3 id="åˆ›å»ºç½‘ç«™"><a href="#åˆ›å»ºç½‘ç«™" class="headerlink" title="åˆ›å»ºç½‘ç«™"></a>åˆ›å»ºç½‘ç«™</h3><h3 id="åœ¨vercelåˆ›å»ºé¡¹ç›®"><a href="#åœ¨vercelåˆ›å»ºé¡¹ç›®" class="headerlink" title="åœ¨vercelåˆ›å»ºé¡¹ç›®"></a>åœ¨vercelåˆ›å»ºé¡¹ç›®</h3><p>ä»¥GitHubä¸ºä¾‹<br>Forkè¿™ä¸ªé¡¹ç›® <a href="https://github.com/yb/uptime-status">https://github.com/yb/uptime-status</a><br>ä¿®æ”¹public/config.jså†…çš„ApiKeysä¸ºåˆšæ‰è·å–åˆ°çš„</p><p>åœ¨vercelé€‰æ‹©â€œNew Projectâ€<br>ç„¶ååœ¨â€œImport Git Repositoryâ€é€‰æ‹©åˆšæ‰Forkçš„åº“<br>ç‚¹å‡»â€œImportâ€ï¼Œåé¢éƒ½é»˜è®¤ä¸‹ä¸€æ­¥ï¼Œå³å¯åˆ›å»ºæˆåŠŸ</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/3575079124.jpg" alt="5.jpg"></p><h3 id="ç»‘å®šåŸŸå"><a href="#ç»‘å®šåŸŸå" class="headerlink" title="ç»‘å®šåŸŸå"></a>ç»‘å®šåŸŸå</h3><p>åˆ›å»ºå®Œæ¯•ä¼šè‡ªåŠ¨è½¬åˆ°â€œOverviewâ€é¡µ<br>åœ¨å½“å‰é¡µç‚¹å‡»â€œView Domainsâ€å³å¯ç»‘å®šè‡ªå·±çš„åŸŸå<br>ç»‘å®šçš„åŸŸåå¯ä»¥ç”¨Cnameæˆ–è€…NSæ–¹å¼æ¥å…¥<br>æ£€æµ‹åˆ°åŸŸåæŒ‡å‘æˆåŠŸåä¼šè‡ªåŠ¨ç”³è¯·Letâ€™s Encryptè¯ä¹¦ï¼Œæ”¯æŒSSLè®¿é—®</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/03/1346083044.jpg" alt="6.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>åˆ†äº«å»æ—¥å¿—è®°å½•ç‰ˆæœ¬çš„LSPosed</title>
    <link href="/read/lsposed.html"/>
    <url>/read/lsposed.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>æˆ‘ä»¬å¹¶ä¸èƒ½ä¿è¯æ¨¡å—ä½œè€…ä¸æ»¥ç”¨æ—¥å¿—åŠŸèƒ½ï¼æ‰€ä»¥æ—¥å¸¸ä½¿ç”¨éœ€è¦å®Œå…¨ç¦ç”¨æ—¥å¿—ï¼</p></blockquote><h3 id="ä¿®æ”¹å†…å®¹"><a href="#ä¿®æ”¹å†…å®¹" class="headerlink" title="ä¿®æ”¹å†…å®¹"></a>ä¿®æ”¹å†…å®¹</h3><p>1.ä¿®æ”¹äº†ç®¡ç†å™¨å›¾æ ‡<br>2.ä¿®æ”¹äº†ç®¡ç†å™¨åŒ…å(org.lsposed.manager)<br>3.ç¦ç”¨äº†å…¨éƒ¨æ—¥å¿—</p><p>å…¶ä»–éƒ¨åˆ†ä¿æŒä¸å®˜æ–¹çš„åŒæ­¥</p><span id="more"></span><h3 id="æœ€è¿‘æ›´æ–°æ—¥æœŸ"><a href="#æœ€è¿‘æ›´æ–°æ—¥æœŸ" class="headerlink" title="æœ€è¿‘æ›´æ–°æ—¥æœŸ"></a>æœ€è¿‘æ›´æ–°æ—¥æœŸ</h3><p><a href="https://github.com/naicfeng/LSPosed/commits/LSPosed"><img src="https://img.shields.io/github/last-commit/naicfeng/LSPosed/LSPosed" alt="LSPosedæ›´æ–°æ—¥æœŸ" title="LSPosedæ›´æ–°æ—¥æœŸ"></a></p><h3 id="ç•Œé¢é¢„è§ˆ"><a href="#ç•Œé¢é¢„è§ˆ" class="headerlink" title="ç•Œé¢é¢„è§ˆ"></a>ç•Œé¢é¢„è§ˆ</h3><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/02/3149512836.jpg" alt="ä¸»é¡µé¢"></p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2021/02/576053060.jpg" alt="å…³äºé¡µé¢"></p><h3 id="ç‰¹åˆ«è¯´æ˜"><a href="#ç‰¹åˆ«è¯´æ˜" class="headerlink" title="ç‰¹åˆ«è¯´æ˜"></a>ç‰¹åˆ«è¯´æ˜</h3><p>ä¸æ¥å—ä»»ä½•åé¦ˆï¼Œå¦‚æœ‰é—®é¢˜è¯·ä½¿ç”¨å®˜æ–¹(Debug)ç‰ˆå¹¶<strong>æºå¸¦æ—¥å¿—</strong>å‘<a href="https://github.com/LSPosed/LSPosed/issues" title="å®˜æ–¹Issues">å®˜æ–¹Issues</a>åé¦ˆ</p><p><em>ä»ç¨³å®šç‰ˆ1.2.0å¼€å§‹ï¼Œç¨³å®šç‰ˆåªå‘ä¸€ä¸ªzipåŒ…ï¼Œå†…å«äº†æœ€æ–°çš„ç®¡ç†å™¨ã€‚åˆ·å®Œzipå¼€æœºåä¼šè‡ªåŠ¨æ›´æ–°ç®¡ç†å™¨ã€‚</em></p><h3 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h3><p>ä¸‹è½½åœ°å€ï¼š<a href="https://disk.cuojue.org/s/kshm7yc7" title="LSPosedä¸‹è½½">æœ¬ç«™ç½‘ç›˜</a> å¯†ç ï¼šlsp</p><blockquote><p>å¦‚æœæ‚¨è§‰å¾—æœ‰ç”¨ï¼Œå¸Œæœ›ç•™è¨€æ”¯æŒä¸€ä¸‹å“Ÿ~</p></blockquote><p><strong>å®˜æ–¹æ˜¯ä» 5000 å¼€å§‹è®¡ç¼–è¯‘ç‰ˆæœ¬å·çš„ï¼Œæˆ‘æ˜¯ä» 2000 å¼€å§‹è®¡çš„ã€‚ç½‘ç›˜ä¸€èˆ¬éƒ½æ˜¯å½“å¤©éšå®˜æ–¹æ›´æ–°çš„ï¼Œä¸è¦çœ‹ç¼–è¯‘ç‰ˆæœ¬å·æ¯”è¾ƒå°ä»¥ä¸ºæ˜¯éå¸¸å¤è€çš„ç‰ˆæœ¬ï¼Œè¦çœ‹ä¸Šä¼ æ—¥æœŸï¼</strong></p><p>æºç åœ°å€ï¼š<a href="https://github.com/naicfeng/LSPosed">GitHub</a></p>]]></content>
    
    
    <categories>
      
      <category>é—²è¨€ç¢è¯­</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LSPosed</tag>
      
      <tag>Xposed</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Typechoç®€å•å¢åŠ é¡µé¢æ‰§è¡Œæ—¶é—´</title>
    <link href="/read/typecho-add-total.html"/>
    <url>/read/typecho-add-total.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ‰§è¡Œæ—¶é—´åªèƒ½åšä¸ªå‚è€ƒï¼Œå¹¶ä¸æ˜¯ç‰¹åˆ«ç²¾ç¡®ï¼Œå› ä¸ºè¾“å‡ºäº†æ—¶é—´ä¹‹åï¼Œè¿˜è¿›è¡Œäº†è¿ç®—ã€‚</p></blockquote><span id="more"></span><p>æ‰“å¼€æ ¹ç›®å½• <code>index.php</code></p><p>åœ¨<code>/** è½½å…¥é…ç½®æ”¯æŒ */</code>ä¸Šé¢åŠ ä¸Š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* åŠ è½½æ—¶é—´</span><br><span class="hljs-comment">* <span class="hljs-doctag">@return</span> bool</span><br><span class="hljs-comment">*/</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">timer_start</span>(<span class="hljs-params"></span>) </span>&#123;<br><span class="hljs-keyword">global</span> <span class="hljs-variable">$timestart</span>;<br><span class="hljs-variable">$mtime</span>     = explode( <span class="hljs-string">&#x27; &#x27;</span>, microtime() );<br><span class="hljs-variable">$timestart</span> = <span class="hljs-variable">$mtime</span>[<span class="hljs-number">1</span>] + <span class="hljs-variable">$mtime</span>[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br>timer_start();<br></code></pre></td></tr></table></figure><p>æ‰“å¼€<code>æ¨¡æ¿æ–‡ä»¶/footer.php</code></p><p>åœ¨åˆé€‚ä½ç½®åŠ ä¸Š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">Total <span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">echo</span> timer_stop();<span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨æœ€ååŠ ä¸Š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">timer_stop</span>(<span class="hljs-params"> <span class="hljs-variable">$display</span> = <span class="hljs-number">0</span>, <span class="hljs-variable">$precision</span> = <span class="hljs-number">3</span> </span>) </span>&#123;<br><span class="hljs-keyword">global</span> <span class="hljs-variable">$timestart</span>, <span class="hljs-variable">$timeend</span>;<br><span class="hljs-variable">$mtime</span>     = explode( <span class="hljs-string">&#x27; &#x27;</span>, microtime() );<br><span class="hljs-variable">$timeend</span>   = <span class="hljs-variable">$mtime</span>[<span class="hljs-number">1</span>] + <span class="hljs-variable">$mtime</span>[<span class="hljs-number">0</span>];<br><span class="hljs-variable">$timetotal</span> = number_format( <span class="hljs-variable">$timeend</span> - <span class="hljs-variable">$timestart</span>, <span class="hljs-variable">$precision</span> );<br><span class="hljs-variable">$r</span>         = <span class="hljs-variable">$timetotal</span> &lt; <span class="hljs-number">1</span> ? <span class="hljs-variable">$timetotal</span> * <span class="hljs-number">1000</span> . <span class="hljs-string">&quot; ms&quot;</span> : <span class="hljs-variable">$timetotal</span> . <span class="hljs-string">&quot; s&quot;</span>;<br><span class="hljs-keyword">if</span> ( <span class="hljs-variable">$display</span> ) &#123;<br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$r</span>;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-variable">$r</span>;<br>&#125;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>å³å¯</p><p>ä»£ç ç½‘ä¸Šæœçš„ï¼Œå…·ä½“å‡ºå¤„å·²ç»æ— ä»è€ƒç©¶ï¼Œ<a href="https://cuojue.org/read/typecho-fastcgi_cache.html/comment-page-1#comment-410" title="æœ‰è¯„è®ºéœ€è¦">æœ‰è¯„è®ºéœ€è¦</a>ï¼Œåˆ†äº«å‡ºæ¥å§~</p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€ç¯‡å¿«é€Ÿä¸Šæ‰‹Clashçš„ç®€å•æ•™ç¨‹</title>
    <link href="/read/clash.html"/>
    <url>/read/clash.html</url>
    
    <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p><a href="https://github.com/Dreamacro/clash" title="Clash">Clash</a> æ˜¯ä¸€ä¸ªåŸºäºè§„åˆ™çš„æµé‡è¿‡æ»¤ç½‘ç»œè°ƒè¯•ç¨‹åºã€‚<br>å¯è®¾ç½®å¤šä¸ªæµé‡å‡ºå£ã€‚<br>å¯æ ¹æ®IPã€åŸŸåè§„åˆ™æŒ‡å®šæµé‡å‡ºå£ã€‚<br>å…¥å£æ”¯æŒSocks5/http(S)/Redirç­‰åè®®<br>å‡ºå£æ”¯æŒSS(R)/Vmess/Socks5/http/snellç­‰åè®®<br>æ§åˆ¶æä¾›äº†RESTful API</p><p>ç”±äºæ˜¯åŸºäºè§„åˆ™åˆ†æµçš„ç½‘ç»œè°ƒè¯•å·¥å…·ï¼Œæ‰€ä»¥ä½¿ç”¨æ¯”è¾ƒæ–¹ä¾¿ï¼</p><h2 id="è§„åˆ™"><a href="#è§„åˆ™" class="headerlink" title="è§„åˆ™"></a>è§„åˆ™</h2><p>æ¨èè§„åˆ™é¡¹ç›®ï¼š<a href="https://github.com/ConnersHua/Profiles" title="ç¥æœºè§„åˆ™">ç¥æœºè§„åˆ™</a><br>é…ç½®è‡ªåŠ¨è½¬æ¢é¡¹ç›®ï¼š<a href="https://github.com/tindy2013/subconverter" title="è‡ªåŠ¨è½¬æ¢é…ç½®">è‡ªåŠ¨è½¬æ¢é…ç½®</a></p><p>æœ¬ç«™å…¬ç›Šè½¬æ¢ï¼š<strong><a href="https://sub.789.st/">https://sub.789.st</a></strong><br>å¯ç›´æ¥è½¬æ¢å¤šç§è®¢é˜…é“¾æ¥ä¸ºClashé…ç½®</p><p><a href="https://github.com/Dreamacro/clash/blob/master/README.md" title="å®˜æ–¹é…ç½®æ–‡ä»¶ä¾‹">å®˜æ–¹é…ç½®æ–‡ä»¶ä¾‹</a></p><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><p>ç”¨æ³•å¾ˆç®€å•ï¼Œä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶<br>è¿™é‡Œæ¨èæœ¬ç«™ç¼–è¯‘çš„ <a href="https://github.com/naicfeng/clash/releases" title="ClashR">ClashR</a> æ¯”å®˜æ–¹å¤šå¢åŠ äº†å¯¹Råè®®çš„æ”¯æŒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">clash -d .<br></code></pre></td></tr></table></figure><p>å‚æ•°Dä»£è¡¨æŒ‡å®šé…ç½®æ–‡ä»¶ç›®å½•ï¼Œæ³¨æ„åé¢çš„ç‚¹ï¼Œä»£è¡¨äº†å½“å‰ç›®å½•<br>è¦æˆåŠŸçš„è¿è¡Œï¼Œé™¤äº†é…ç½®æ–‡ä»¶ï¼Œè¿˜éœ€è¦ä¸€ä¸ª<code>Country.mmdb</code>æ–‡ä»¶ï¼Œè¿™æ˜¯ä¸€ä»½IPåœ°å€åº“ï¼Œæ ¹æ®è¿™ä»½åœ°å€åº“ï¼ŒClashå¯ä»¥åŒºåˆ†IPå½’å±ï¼Œåšå‡ºåˆ†æµ</p><p>è™½ç„¶è¿è¡Œèµ·æ¥äº†ï¼Œä½†æ˜¯åªæœ‰å‘½ä»¤è¡Œï¼Œæ²¡æœ‰GUIï¼Œæ— æ³•é…ç½®ï¼Œç”±äºç¨‹åºæ”¯æŒRESTful APIï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨ç½‘é¡µé…ç½®</p><p>å¯ç›´æ¥ç”¨æœ¬ç«™æä¾›çš„åœ°å€ï¼š<strong><a href="http://c.789.st/">http://c.789.st</a></strong></p><p>####Country.mmdbä¸‹è½½</p><p><a href="https://disk.cuojue.org/cloud/ClashR_Core/Country.mmdb.zip" title="æœ¬ç«™ç½‘ç›˜ä¸‹è½½">æœ¬ç«™ç½‘ç›˜ä¸‹è½½</a> å·²å¤±æ•ˆ</p><h2 id="è·¯ç”±å™¨"><a href="#è·¯ç”±å™¨" class="headerlink" title="è·¯ç”±å™¨"></a>è·¯ç”±å™¨</h2><p><strong>Clashæ”¯æŒé€æ˜ä»£ç†</strong><br>æ‰€ä»¥åœ¨è·¯ç”±å™¨ä¸Šå¯ç›´æ¥è¿è¡Œclashæ›¿æ¢SSï¼Œå¹¶ä½¿ç”¨RESTful APIæ¥ç®¡ç†<br>ç”±äºè·¯ç”±å™¨ç§ç±»ç¹å¤šï¼Œè¿™é‡Œæš‚æ—¶ç•¥è¿‡ï¼Œå¯æœç´¢å‚è€ƒè·¯ç”±å™¨SSé…ç½®æŒ‡å—</p><h2 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h2><p>å¦è¿˜æœ‰å¾ˆå¤šå„å¹³å°çš„GUIå®¢æˆ·ç«¯<br>å¦‚ï¼šwindows / Mac OS / Android ç­‰ï¼Œå‘å¸ƒåœ°å€åœ¨ä¸‹æ–¹</p><p><a href="https://github.com/Fndroid/clash_for_windows_pkg" title="windows">windows</a><br><a href="https://github.com/yichengchen/clashX/releases" title="Mac OS">Mac OS</a><br><a href="https://github.com/naicfeng/ClashRForAndroid/releases" title="Android">Android</a></p><h2 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h2><p><a href="https://disk.cuojue.org/s/r8h5ohzu" title="æœ¬ç«™ç½‘ç›˜">æœ¬ç«™ç½‘ç›˜</a> å¯†ç ï¼šcuojue</p><p><a href="https://github.com/naicfeng/clash/releases" title="ClashR">GitHub</a></p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>clash</tag>
      
      <tag>clashr</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åˆ†äº«å…¨å¹³å°ClashR Coreå®¢æˆ·ç«¯ä¸‹è½½</title>
    <link href="/read/ClashR_Core.html"/>
    <url>/read/ClashR_Core.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>å®˜æ–¹å·²æ”¯æŒssråè®®ï¼Œè¯·ä½¿ç”¨å®˜æ–¹ç‰ˆ<br>å»ºè®®å¼ƒç”¨ssråè®®</p></blockquote><h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><p>å…¼å®¹<code>Clash</code>å’Œ<code>ClashR</code>é…ç½®æ–‡ä»¶</p><h3 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h3><p>ç›´æ¥æ›¿æ¢åŸäºŒè¿›åˆ¶æ–‡ä»¶å³å¯</p><h3 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h3><p>ç›´æ¥æ›¿æ¢åŸ.exeæ–‡ä»¶å³å¯</p><p>å¦‚ä½¿ç”¨GUIå®¢æˆ·ç«¯ <strong><a href="https://github.com/Fndroid/clash_for_windows_pkg" title="clash_for_windows_pkg">clash_for_windows_pkg</a></strong><br>å¯è¿›å…¥<code>Clash.for.Windows\resources\static\files</code><br>æ›¿æ¢<code>clash-win64.exe</code>æ–‡ä»¶ï¼Œæ”¯æŒè®¢é˜…ClashRé…ç½®</p><p>æœ¬ç«™æä¾›æ‰“åŒ…å¥½çš„clashR_for_windows_pkgä¸‹è½½ï¼š</p><p>[hide]<br><a href="https://disk.cuojue.org/cloud/ClashR_for_Windows" title="æœ¬ç«™ç½‘ç›˜">æœ¬ç«™ç½‘ç›˜ä¸‹è½½</a></p><p>[/hide]</p><h3 id="å¹¿å‘Šæ—¶é—´"><a href="#å¹¿å‘Šæ—¶é—´" class="headerlink" title="å¹¿å‘Šæ—¶é—´"></a>å¹¿å‘Šæ—¶é—´</h3><p>æ¨èä¸€ä¸ª<code>åœ¨å„ç§è®¢é˜…æ ¼å¼ä¹‹é—´è¿›è¡Œè½¬æ¢çš„å®ç”¨ç¨‹åº</code>é¡¹ç›® <strong><a href="https://github.com/tindy2013/subconverter" title="SubConverter">SubConverter</a></strong><br>æœ¬ç«™å…¬ç›Šåœ¨çº¿é…ç½®è½¬æ¢ <strong><a href="https://cuojue.org/sub">https://cuojue.org/sub</a></strong></p><h2 id="æ”¯æŒçš„Rç®—æ³•"><a href="#æ”¯æŒçš„Rç®—æ³•" class="headerlink" title="æ”¯æŒçš„Rç®—æ³•"></a>æ”¯æŒçš„Rç®—æ³•</h2><p><strong>Encrypting algorithm</strong></p><ul><li>aes-128-cfb</li><li>aes-192-cfb</li><li>aes-256-cfb</li><li>aes-128-ctr</li><li>aes-192-ctr</li><li>aes-256-ctr</li><li>aes-128-ofb</li><li>aes-192-ofb</li><li>aes-256-ofb</li><li>des-cfb</li><li>bf-cfb</li><li>cast5-cfb</li><li>rc4-md5</li><li>chacha20</li><li>chacha20-ietf</li><li>salsa20</li><li>camellia-128-cfb</li><li>camellia-192-cfb</li><li>camellia-256-cfb</li><li>idea-cfb</li><li>rc2-cfb</li><li>seed-cfb</li></ul><p><strong>Obfs</strong></p><ul><li>plain</li><li>http_simple</li><li>http_post</li><li>random_head</li><li>tls1.2_ticket_auth</li></ul><p><strong>Protocol</strong></p><ul><li>origin</li><li>verify_sha1 aka. one time auth(OTA)</li><li>auth_sha1_v4</li><li>auth_aes128_md5</li><li>auth_aes128_sha1</li></ul><p><em>ps:æ¡ä»¶æœ‰é™ï¼Œä»…æµ‹è¯• auth_sha1_v4ï¼Œauth_aes128_md5 é€šè¿‡</em></p><h2 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h2><p>ä¸‹è½½åœ°å€ï¼š</p><p><a href="https://disk.cuojue.org/s/r8h5ohzu" title="æœ¬ç«™ç½‘ç›˜">æœ¬ç«™ç½‘ç›˜</a> å¯†ç ï¼šcuojue</p><p><a href="https://github.com/naicfeng/Clash/releases" title="GitHub">GitHub</a></p><h2 id="Androidç‰ˆ"><a href="#Androidç‰ˆ" class="headerlink" title="Androidç‰ˆ"></a>Androidç‰ˆ</h2><p>åˆ†äº«ä¸€ä¸ªClashR for Androidå®¢æˆ·ç«¯<br><a href="https://cuojue.org/read/ClashR_for_Android.html">https://cuojue.org/read/ClashR_for_Android.html</a></p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>clash</tag>
      
      <tag>clashr</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åˆ†äº«ä¸€ä¸ªClashR for Androidå®¢æˆ·ç«¯</title>
    <link href="/read/ClashR_for_Android.html"/>
    <url>/read/ClashR_for_Android.html</url>
    
    <content type="html"><![CDATA[<p>æœäº†ä¸€ä¸‹ï¼Œå‘ç°æ²¡æœ‰æœ€æ–°ç‰ˆçš„ClashR Androidå®¢æˆ·ç«¯ è‡ªå·±ç¼–è¯‘äº†ä¸€ä¸ªï¼Œåˆ†äº«ç»™æœ‰éœ€è¦çš„æœ‹å‹å§</p><span id="more"></span><p>fork è‡ª <a href="https://github.com/Kr328/ClashForAndroid" title="ClashForAndroid">ClashForAndroid</a></p><p>###ã€æœ€è¿‘æ›´æ–°ï¼š2021å¹´01æœˆ23æ—¥ã€‘<br><strong>ps:ä¸€ç›´æœ‰æœ‹å‹ä»¬é—®æˆ‘ä½•æ—¶å†æ›´æ–°ï¼Œæˆ‘æƒ³è¯´å·²ç»æ²¡åŠæ³•æ›´æ–°äº†ï¼Œå®˜æ–¹å·²ç»é—­æºäº†ã€‚</strong><br><strong><del>ç›®å‰çš„ç‰ˆæœ¬ç°åœ¨è¿˜å¤Ÿç”¨ï¼Œå³ä½¿ä¸‹æ¬¡æ›´æ–°ä¹Ÿæ˜¯æ›´æ–°å…¼å®¹æ–°é…ç½®æ–‡ä»¶æ ¼å¼</del></strong></p><details><summary>å†å²å†…å®¹</summary><h2 id="ä¿®æ”¹å†…å®¹"><a href="#ä¿®æ”¹å†…å®¹" class="headerlink" title="ä¿®æ”¹å†…å®¹"></a>ä¿®æ”¹å†…å®¹</h2><p>åŒæ­¥ <a href="https://github.com/Kr328/ClashForAndroid" title="Clash for Android">Clash for Android</a> 1.1.10 ä»£ç <br>åŒæ­¥ <a href="https://github.com/Kr328/clash" title="clash Branch:android">clash Branch:android</a> c8ab24e ä»£ç </p><p>ä¿®æ­£äº†é…ç½®æ–‡ä»¶å’Œä¸€èˆ¬æ‰˜ç®¡çš„clashrå‘½åä¸åŒ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs go">Protocol      <span class="hljs-keyword">string</span> <span class="hljs-string">`proxy:&quot;protocol&quot;`</span><br>ProtocolParam <span class="hljs-keyword">string</span> <span class="hljs-string">`proxy:&quot;protocol-param&quot;`</span><br>Obfs          <span class="hljs-keyword">string</span> <span class="hljs-string">`proxy:&quot;obfs&quot;`</span><br>ObfsParam     <span class="hljs-keyword">string</span> <span class="hljs-string">`proxy:&quot;obfs-param&quot;`</span><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸º</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs go">Protocol      <span class="hljs-keyword">string</span> <span class="hljs-string">`proxy:&quot;protocol&quot;`</span><br>ProtocolParam <span class="hljs-keyword">string</span> <span class="hljs-string">`proxy:&quot;protocolparam&quot;`</span><br>Obfs          <span class="hljs-keyword">string</span> <span class="hljs-string">`proxy:&quot;obfs&quot;`</span><br>ObfsParam     <span class="hljs-keyword">string</span> <span class="hljs-string">`proxy:&quot;obfsparam&quot;`</span><br></code></pre></td></tr></table></figure><p>ä¿®å¤äº†ç›´æ¥ç¼–è¯‘SSRæ— æ³•è¿æ¥çš„é—®é¢˜ï¼Œæ›¿æ¢ä¸ºdevä»£ç <br>see:<br><a href="https://github.com/sh4d0wfiend/clash/tree/dev" title="sh4d0wfiend/clash/tree/dev">sh4d0wfiend/clash/tree/dev</a><br><a href="https://github.com/sh4d0wfiend/clash/tree/feat-ssr" title="sh4d0wfiend/clash/tree/feat-ssr">sh4d0wfiend/clash/tree/feat-ssr</a></p><p>ä¿®å¤éƒ¨åˆ†Råè®®æ— æ³•è¿æ¥</p></details><h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><h4 id="æœ‰ä¸€å®šçš„åŸºç¡€ï¼š"><a href="#æœ‰ä¸€å®šçš„åŸºç¡€ï¼š" class="headerlink" title="æœ‰ä¸€å®šçš„åŸºç¡€ï¼š"></a>æœ‰ä¸€å®šçš„åŸºç¡€ï¼š</h4><p>å¯ç›´æ¥åœ¨çº¿è½¬æ¢è®¢é˜… <strong><a href="https://sub.789.st/">https://sub.789.st</a></strong><br>(æ³¨ï¼šå·²åˆ‡æ¢åˆ°æ–°ç‰ˆé…ç½®æ ¼å¼ï¼Œä¸æ”¯æŒ1.3.3ä¹‹å‰çš„ç‰ˆæœ¬)</p><h4 id="æ²¡æœ‰åŸºç¡€ï¼š"><a href="#æ²¡æœ‰åŸºç¡€ï¼š" class="headerlink" title="æ²¡æœ‰åŸºç¡€ï¼š"></a>æ²¡æœ‰åŸºç¡€ï¼š</h4><p><a href="https://cuojue.org/read/clash.html">ä¸€ç¯‡å¿«é€Ÿä¸Šæ‰‹Clashçš„ç®€å•æ•™ç¨‹</a></p><h2 id="æ”¯æŒçš„Rç®—æ³•"><a href="#æ”¯æŒçš„Rç®—æ³•" class="headerlink" title="æ”¯æŒçš„Rç®—æ³•"></a>æ”¯æŒçš„Rç®—æ³•</h2><details><summary>æ”¯æŒçš„Rç®—æ³•</summary><p><em>Not support AEAD method yet.</em></p><p><strong>Encrypting algorithm</strong></p><ul><li>aes-128-cfb</li><li>aes-192-cfb</li><li>aes-256-cfb</li><li>aes-128-ctr</li><li>aes-192-ctr</li><li>aes-256-ctr</li><li>aes-128-ofb</li><li>aes-192-ofb</li><li>aes-256-ofb</li><li>des-cfb</li><li>bf-cfb</li><li>cast5-cfb</li><li>rc4-md5</li><li>chacha20</li><li>chacha20-ietf</li><li>salsa20</li><li>camellia-128-cfb</li><li>camellia-192-cfb</li><li>camellia-256-cfb</li><li>idea-cfb</li><li>rc2-cfb</li><li>seed-cfb</li><li>none</li></ul><p><strong>Obfs</strong></p><ul><li>plain</li><li>http_simple</li><li>http_post</li><li>random_head</li><li>tls1.2_ticket_auth</li></ul><p><strong>Protocol</strong></p><ul><li>origin</li><li>verify_sha1 aka. one time auth(OTA)</li><li>auth_sha1_v4</li><li>auth_aes128_md5</li><li>auth_aes128_sha1</li><li>auth_chain_a</li><li>auth_chain_b</li></ul></details><h2 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h2><p><strong>v1.1.10</strong><br>åˆå§‹ç¼–è¯‘ç‰ˆæœ¬</p><p><strong>v1.1.10R</strong><br>ä¿®å¤éƒ¨åˆ†ç®—æ³•è¿æ¥å¤±è´¥(æ”¹ç”¨mzz2017ç‰ˆrç®—æ³•,é“¾æ¥åœ°å€æ•æ„Ÿè¯)</p><p><strong>v1.1.10R2</strong><br>æ›´æ–°<a href="https://github.com/Dreamacro/clash/releases/tag/v0.19.0" title="core(v0.19.0R)">core(v0.19.0R)</a><br>æ”¯æŒTrojanåè®®ï¼ˆå®éªŒæ€§ï¼Œæ— æ¡ä»¶æœªæµ‹è¯•ï¼‰</p><p><strong>v1.1.10R3</strong><br>ä¿®å¤R2è§„åˆ™æ— æ•ˆ</p><p><strong>v1.2.13R</strong><br>åŒæ­¥å®˜æ–¹æ›´æ–°</p><p><strong>v1.2.14R</strong><br>æ›´æ–°Core</p><p><strong>v1.3.3R2</strong><br>æ›´æ–°åŒæ­¥åˆ°é—­æºå‰çš„æœ€åä¸€ä¸ªç‰ˆæœ¬1.3.3<br>æ›´æ–°coreæ”¯æŒæœ€æ–°çš„é…ç½®æ–‡ä»¶æ ¼å¼ï¼ˆæ”¯æŒ PROCESS-NAME å­—æ®µï¼‰</p><p><strong>v1.3.4R</strong><br>æ›´æ–° ssr ä¾èµ–ï¼ˆb52844fï¼‰<br>æ›´æ–°å†…ç½®Country.mmdb<br>æ›´æ–°æ”¯æŒSSR Cipherï¼ˆnoneï¼‰<br>æ›´æ–°æ”¯æŒSSR Protocolï¼ˆauth_chain_aï¼Œauth_chain_bï¼‰<br>ä¿®å¤ç•Œé¢æ˜¾ç¤ºssråè®®ä¸ºunknown</p><blockquote><p><strong>ps:ç”±äºSSRåè®®è¿‡äºé™ˆæ—§ä¸”æ— äººç»´æŠ¤ã€‚<br>å¦‚æ— å¿…è¦ï¼Œä¸æ¨èä½¿ç”¨SSRåè®®ï¼Œè¯·ä½¿ç”¨<a href="https://github.com/Kr328/ClashForAndroid/releases" title="å®˜æ–¹ç‰ˆ">å®˜æ–¹ç‰ˆ</a>+SSåè®®</strong></p></blockquote><h2 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h2><p>ä¸‹è½½åœ°å€ï¼š</p><p><a href="https://disk.cuojue.org/s/jfuupjd7" title="æœ¬ç«™ç½‘ç›˜">æœ¬ç«™ç½‘ç›˜</a> å¯†ç ï¼šcuojue</p><p><a href="https://github.com/naicfeng/ClashRForAndroid/releases" title="GitHub">GitHub</a></p><h2 id="å¼€æºåœ°å€"><a href="#å¼€æºåœ°å€" class="headerlink" title="å¼€æºåœ°å€"></a>å¼€æºåœ°å€</h2><p>ClashRForAndroidï¼š<br><a href="https://github.com/naicfeng/ClashRForAndroid">https://github.com/naicfeng/ClashRForAndroid</a><br><a href="https://github.com/goomadao/ClashForAndroid">https://github.com/goomadao/ClashForAndroid</a><br>ClashForAndroidï¼š<br><a href="https://github.com/Kr328/ClashForAndroid">https://github.com/Kr328/ClashForAndroid</a></p><p>Clashï¼š<br><a href="https://github.com/Dreamacro/clash">https://github.com/Dreamacro/clash</a><br>ClashRï¼š<br><a href="https://github.com/goomadao/clash">https://github.com/goomadao/clash</a><br><a href="https://github.com/sh4d0wfiend/clash">https://github.com/sh4d0wfiend/clash</a></p><p>Råè®®ç›¸å…³ï¼ˆå› å«æœ‰æ•æ„Ÿè¯ä»…æ”¾ä½œè€…ä¸»é¡µï¼‰ï¼š<br><a href="https://github.com/mzz2017">https://github.com/mzz2017</a></p><h2 id="å…¶ä»–æ“ä½œç³»ç»Ÿ"><a href="#å…¶ä»–æ“ä½œç³»ç»Ÿ" class="headerlink" title="å…¶ä»–æ“ä½œç³»ç»Ÿ"></a>å…¶ä»–æ“ä½œç³»ç»Ÿ</h2><p>åˆ†äº«å…¨å¹³å°ClashR Coreå®¢æˆ·ç«¯ä¸‹è½½<br><a href="https://cuojue.org/read/ClashR_Core.html">https://cuojue.org/read/ClashR_Core.html</a></p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>clash</tag>
      
      <tag>clashr</tag>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¼€å¯å…¨ç«™ç¼“å­˜åå…³äºhandsomeä¸»é¢˜çš„éƒ¨åˆ†ä¿®æ”¹</title>
    <link href="/read/typecho-cache-handsome.html"/>
    <url>/read/typecho-cache-handsome.html</url>
    
    <content type="html"><![CDATA[<p>æ€»ä½“æ¥è¯´ï¼Œç”±phpå®ç°çš„å®æ—¶åé¦ˆï¼Œcookiesç­‰æ¸²æŸ“ï¼Œéœ€è¦æ›¿æ¢æˆç”±javascriptæ¥æœ¬åœ°æ¸²æŸ“</p><h2 id="å·¦ä¾§è¾¹æ "><a href="#å·¦ä¾§è¾¹æ " class="headerlink" title="å·¦ä¾§è¾¹æ "></a>å·¦ä¾§è¾¹æ </h2><h3 id="æ—¶é—´é—®å€™"><a href="#æ—¶é—´é—®å€™" class="headerlink" title="æ—¶é—´é—®å€™"></a>æ—¶é—´é—®å€™</h3><p>å·¦ä¾§è¾¹æ åªæœ‰å¤´åƒå³ä¾§åç§°ç‚¹å‡»ä¼šå‡ºç°ä¸Šä¸‹åˆå’Œæ™šä¸Šçš„é—®å€™ï¼Œå»æ‰å³å¯</p><p><code>/usr/themes/handsome/component/aside.php</code><br>æ³¨é‡Šæ‰<code>&lt;!-- dropdown --&gt;</code>è¿™ä¸€æ®µ</p><h2 id="å³ä¾§è¾¹æ "><a href="#å³ä¾§è¾¹æ " class="headerlink" title="å³ä¾§è¾¹æ "></a>å³ä¾§è¾¹æ </h2><h3 id="æœ€åæ´»åŠ¨"><a href="#æœ€åæ´»åŠ¨" class="headerlink" title="æœ€åæ´»åŠ¨"></a>æœ€åæ´»åŠ¨</h3><p>å³ä¾§è¾¹æ çš„æœ€åæ´»åŠ¨ä¼šå®šæ ¼åœ¨ç¼“å­˜é‚£ä¸€åˆ»ï¼Œä¿®æ”¹ä¸ºç¼“å­˜æ—¶é—´ï¼Œæ–¹ä¾¿æŸ¥çœ‹é¡µé¢ç¼“å­˜äº†å¤šä¹…</p><p><code>/usr/themes/handsome/component/sidebar.php</code><br>ä¿®æ”¹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;li class=&quot;list-group-item text-second&quot;&gt;&lt;span class=&quot;blog-info-icons&quot;&gt; &lt;i data-feather=&quot;activity&quot;&gt;&lt;/i&gt;&lt;/span&gt; &lt;span<br>                       class=&quot;badge<br>           pull-right<span class="hljs-string">&quot;&gt;&lt;?php //echo Utils::getLatestTime(<span class="hljs-subst">$this</span>); ?&gt;&lt;/span&gt;&lt;?php _me(&quot;</span>æœ€åæ´»åŠ¨<span class="hljs-string">&quot;) ?&gt;&lt;/li&gt;</span><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php">      &lt;li class=&quot;list-group-item text-second&quot;&gt;&lt;span class=&quot;blog-info-icons&quot;&gt; &lt;i data-feather=&quot;activity&quot;&gt;&lt;/i&gt;&lt;/span&gt; &lt;span<br>                  class=&quot;badge<br>      pull-right<span class="hljs-string">&quot; id=&quot;</span>cacheuptime<span class="hljs-string">&quot;&gt;loading&lt;/span&gt;&lt;?php _me(&quot;</span>ç¼“å­˜æ—¶é—´<span class="hljs-string">&quot;) ?&gt;&lt;/li&gt;</span><br><span class="hljs-string">&lt;script&gt;var cacheuptime = &#x27;&lt;?=time()*1000?&gt;&#x27;;&lt;/script&gt;</span><br></code></pre></td></tr></table></figure><p>åˆé€‚ä½ç½®åŠ ä¸Š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDateDiff</span>(<span class="hljs-params">dateTimeStamp</span>)</span>&#123;&lt;?php <span class="hljs-keyword">if</span>(Typecho_Widget::widget(<span class="hljs-string">&#x27;Widget_User&#x27;</span>)-&gt;hasLogin()):?&gt;<span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ByPsaa&quot;</span>;&lt;?php endif;?&gt;<span class="hljs-keyword">var</span> minute=<span class="hljs-number">1000</span>*<span class="hljs-number">60</span>;<span class="hljs-keyword">var</span> hour=minute*<span class="hljs-number">60</span>;<span class="hljs-keyword">var</span> day=hour*<span class="hljs-number">24</span>;<span class="hljs-keyword">var</span> halfamonth=day*<span class="hljs-number">15</span>;<span class="hljs-keyword">var</span> month=day*<span class="hljs-number">30</span>;<span class="hljs-keyword">var</span> now=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime();<span class="hljs-keyword">var</span> diffValue=now-dateTimeStamp;<span class="hljs-keyword">var</span> monthC=diffValue/month;<span class="hljs-keyword">var</span> weekC=diffValue/(<span class="hljs-number">7</span>*day);<span class="hljs-keyword">var</span> dayC=diffValue/day;<span class="hljs-keyword">var</span> hourC=diffValue/hour;<span class="hljs-keyword">var</span> minC=diffValue/minute;<span class="hljs-keyword">if</span>(hourC&gt;<span class="hljs-number">48</span>)&#123;result=<span class="hljs-string">&quot;å‰å¤©&quot;</span>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(hourC&gt;<span class="hljs-number">24</span>)&#123;result=<span class="hljs-string">&quot;æ˜¨å¤©&quot;</span>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(hourC&gt;=<span class="hljs-number">1</span>)&#123;result=<span class="hljs-built_in">parseInt</span>(hourC)+<span class="hljs-string">&quot;ä¸ªå°æ—¶å‰&quot;</span>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(minC&gt;=<span class="hljs-number">1</span>)&#123;result=<span class="hljs-built_in">parseInt</span>(minC)+<span class="hljs-string">&quot;åˆ†é’Ÿå‰&quot;</span>&#125;<span class="hljs-keyword">else</span> result=<span class="hljs-string">&quot;åˆšåˆš&quot;</span>;<span class="hljs-keyword">return</span> result&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ShowCachetime</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span>(cacheuptime)!==<span class="hljs-string">&#x27;undefined&#x27;</span>)&#123;<span class="hljs-keyword">if</span>(cacheuptime&gt;<span class="hljs-number">0</span>)&#123;$(<span class="hljs-string">&#x27;#cacheuptime&#x27;</span>).text(getDateDiff(cacheuptime));&#125;cacheuptime=<span class="hljs-number">0</span>;&#125;&#125;<br>ShowCachetime();<br></code></pre></td></tr></table></figure><p>å¦‚æœå¼€å¯äº†pjaxåŠ è½½ï¼Œè¿˜éœ€è¦åœ¨pjaxå›è°ƒåŠ å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">ShowCachetime();<br></code></pre></td></tr></table></figure><h2 id="æ–‡ç« é¡µ"><a href="#æ–‡ç« é¡µ" class="headerlink" title="æ–‡ç« é¡µ"></a>æ–‡ç« é¡µ</h2><p>é¡µé¢æµè§ˆç»Ÿè®¡æ”¹ä¸ºjavascriptæ–¹å¼</p><p><a href="https://cuojue.org/read/typecho-PostViews.html">Typechoçš„é¡µé¢æµè§ˆç»Ÿè®¡ js ç‰ˆ</a></p><h2 id="è¯„è®ºä¿¡æ¯"><a href="#è¯„è®ºä¿¡æ¯" class="headerlink" title="è¯„è®ºä¿¡æ¯"></a>è¯„è®ºä¿¡æ¯</h2><p>è¯„è®ºä¿®æ”¹ä¸ºjavascriptæ–¹å¼è·å–cookies</p><p><a href="https://cuojue.org/read/typecho_comments_author_javascript.html">ä¿®æ”¹typechoä¿å­˜è¯„è®ºç”¨æˆ·ä¿¡æ¯ä¸ºjavascriptæ¨¡å¼</a></p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨nginx_fastcgi_cacheçš„æ—¶å€™å…³äºCookieçš„å¤„ç†</title>
    <link href="/read/fastcgi_cache_fix_cookies.html"/>
    <url>/read/fastcgi_cache_fix_cookies.html</url>
    
    <content type="html"><![CDATA[<h2 id="äº§ç”Ÿé—®é¢˜"><a href="#äº§ç”Ÿé—®é¢˜" class="headerlink" title="äº§ç”Ÿé—®é¢˜"></a>äº§ç”Ÿé—®é¢˜</h2><p>æœ¬ç«™ä½¿ç”¨äº†fastcgi_cacheæ¥ç¼“å­˜æ‰€æœ‰é¡µé¢ï¼Œå¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯set-cookieä¹Ÿè¢«ç¼“å­˜äº†ï¼Œå…¶ä»–ç”¨æˆ·å†æ¬¡è®¿é—®ä¼šå¯¼è‡´è¢«è®¾ç½®ç¼“å­˜çš„cookieï¼Œæœ€ç»ˆéœ€è¦å®ç°çš„æ•ˆæœå¦‚ä¸‹</p><p><strong>åœ¨ç¼“å­˜miss/bypassçš„çŠ¶æ€ä¸‹ï¼Œè¾“å‡ºset-cookie</strong><br><strong>åœ¨ç¼“å­˜hitçš„çŠ¶æ€ä¸‹ï¼Œä¸¢å¼ƒset-cookie</strong><br>miss:é¦–æ¬¡è®¿é—®ï¼Œæ— ç¼“å­˜<br>bypass:æ¡ä»¶ä¸ç¬¦ï¼Œè·³è¿‡ç¼“å­˜<br>hit:ç¼“å­˜å‘½ä¸­</p><p>è¦è¾¾åˆ°è¿™ç§æ•ˆæœï¼Œç›®å‰nginxçš„fastcgi_cacheæ²¡æœ‰ç»™å‡ºè§£å†³æ–¹æ¡ˆï¼Œè¦ä¹ˆå°±æ˜¯ç›´æ¥ä¸¢å¼ƒæ‰€æœ‰çš„cookie</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">fastcgi_hide_header <span class="hljs-string">&quot;Set-Cookie&quot;</span><span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>è¿™æ ·å¯¼è‡´äº†æ‰€æœ‰cookieså…¨éƒ¨è¢«ä¸¢å¼ƒï¼Œé€ æˆæ— æ³•ç™»é™†ç­‰é—®é¢˜</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>æŸ¥é˜…äº†ä¸€ä¸‹ï¼Œå‘ç°äº†è§£å†³æ–¹æ³•ï¼Œé‚£å°±æ˜¯ä½¿ç”¨nginx_luaæ¨¡å—å®ç°</p><p>åœ¨serveræ®µå¤–å¢åŠ </p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">fastcgi_ignore_headers</span> Cache-Control Expires Set-Cookie;<br>map $upstream_bytes_received $hide_cookie &#123;default &#x27;&#x27;;&#x27;&#x27; Set-Cookie;&#125;<br></code></pre></td></tr></table></figure><p>åœ¨serveræ®µå†…å¢åŠ </p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs lasso">header_filter_by_lua_block &#123;<br>   ngx.<span class="hljs-keyword">header</span><span class="hljs-meta">[</span>ngx.<span class="hljs-built_in">var</span>.hide_cookie<span class="hljs-meta">]</span> = nil;<br>&#125;<br></code></pre></td></tr></table></figure><p>å®Œç¾å®ç°<br><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2020/02/2818833632.png" alt="æœªå‘½ä¸­ç¼“å­˜"><br>æœªå‘½ä¸­ç¼“å­˜ï¼Œè¾“å‡ºcookie</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2020/02/1784695453.png" alt="å‘½ä¸­ç¼“å­˜"><br>å‘½ä¸­ç¼“å­˜ï¼Œä¸¢å¼ƒset-cookieå¤´</p><h2 id="å¹¿å‘Šæ—¶é—´"><a href="#å¹¿å‘Šæ—¶é—´" class="headerlink" title="å¹¿å‘Šæ—¶é—´"></a>å¹¿å‘Šæ—¶é—´</h2><p>æ¨èä¸€ä¸‹æˆ‘çš„Typechoçš„fastcgi_cacheç¼“å­˜æ’ä»¶</p><p><a href="https://cuojue.org/read/typecho-fastcgi_cache.html">Typechoçš„fastcgi_cacheç¼“å­˜æ’ä»¶</a></p><p>å‚è€ƒï¼š<a href="https://serverfault.com/questions/680650/nginx-fastcgi-cache-hide-set-cookie-when-serving-from-cache" title="Nginx fastcgi_cache hide Set-Cookie when serving from cache - Server Fault">Nginx fastcgi_cache hide Set-Cookie when serving from cache - Server Fault</a></p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
      <tag>fastcgi_cache</tag>
      
      <tag>cookies</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Typechoçš„é¡µé¢æµè§ˆç»Ÿè®¡ js ç‰ˆ</title>
    <link href="/read/typecho-PostViews.html"/>
    <url>/read/typecho-PostViews.html</url>
    
    <content type="html"><![CDATA[<p>å¦‚ä¸Šä¸€ç¯‡æ–‡ç« æ‰€å†™ï¼Œå¦‚æœå¯ç”¨äº†fastcgi_cacheç¼“å­˜ä¹‹åï¼Œæ‰€æœ‰â€œéjsæ–¹å¼çš„è®¿é—®ç»Ÿè®¡æ’ä»¶ä¼šå¤±æ•ˆâ€ï¼Œæ‰€ä»¥æ”¹é€ ä¸€ä¸‹ç»Ÿè®¡æ–¹æ³•ï¼Œæ”¹ä¸ºjsæ–¹å¼</p><span id="more"></span><p><a href="https://cuojue.org/read/typecho-fastcgi_cache.html">https://cuojue.org/read/typecho-fastcgi_cache.html</a></p><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><p>é¦–å…ˆå®‰è£… PostViews æ’ä»¶ï¼ˆæœ¬æ–‡æœ«ä¸‹è½½ï¼‰</p><h2 id="ä¿®æ”¹æ–‡ä»¶"><a href="#ä¿®æ”¹æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹æ–‡ä»¶"></a>ä¿®æ”¹æ–‡ä»¶</h2><p>å®‰è£…æ’ä»¶åï¼Œä¼šè‡ªåŠ¨ç»Ÿè®¡æµè§ˆè®°å½•ï¼Œä½†æ˜¯é¡µé¢æ— æ³•æ˜¾ç¤ºï¼Œè¿˜éœ€è¦ä¿®æ”¹æ–‡ä»¶ï¼Œè®©å®ƒæ˜¾ç¤ºåœ¨é¡µé¢ä¸Š</p><p>å…·ä½“æ¨¡æ¿è¦å…·ä½“ä¿®æ”¹ï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªæœ¬ç«™æ¨¡æ¿<code>handsome</code>çš„ä¾‹å­</p><h3 id="ä¿®æ”¹post-php"><a href="#ä¿®æ”¹post-php" class="headerlink" title="ä¿®æ”¹post.php"></a>ä¿®æ”¹post.php</h3><p><code>/usr/themes/handsome/post.php</code><br>ä¿®æ”¹ç¬¬67è¡Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">echo</span> get_post_view(<span class="hljs-keyword">$this</span>) <span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;span id=<span class="hljs-string">&quot;post-views&quot;</span>&gt;loading&lt;/span&gt;<span class="hljs-meta">&lt;?php</span> <span class="hljs-comment">//echo get_post_view($this) <span class="hljs-meta">?&gt;</span></span><br></code></pre></td></tr></table></figure><p>å¹¶ä¸”åœ¨ä¸‹ä¸€è¡ŒåŠ ä¸Š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;script&gt;<span class="hljs-keyword">var</span> cid = <span class="hljs-meta">&lt;?=</span><span class="hljs-keyword">$this</span>-&gt;cid<span class="hljs-meta">?&gt;</span>;&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>å¦‚æ­¤ä¾¿å¯ç»Ÿè®¡æ–‡ç« æµè§ˆæ¬¡æ•°</p><h3 id="æ·»åŠ PJAXå›è°ƒå‡½æ•°"><a href="#æ·»åŠ PJAXå›è°ƒå‡½æ•°" class="headerlink" title="æ·»åŠ PJAXå›è°ƒå‡½æ•°"></a>æ·»åŠ PJAXå›è°ƒå‡½æ•°</h3><p>å¦‚æœä½¿ç”¨äº†pjaxåˆ·æ–°ï¼Œè¿˜éœ€è¦åœ¨é€‚å½“ä½ç½®åŠ ä¸Š<br><code>PostViews();</code></p><p>å¦‚æœ¬ç«™æ¨¡æ¿<code>handsome</code>åˆ™åªéœ€åœ¨åå°æ¨¡æ¿è®¾ç½®PJAXå›è°ƒå‡½æ•°å¡«å…¥å³å¯</p><h2 id="æ’ä»¶ä¸‹è½½"><a href="#æ’ä»¶ä¸‹è½½" class="headerlink" title="æ’ä»¶ä¸‹è½½"></a>æ’ä»¶ä¸‹è½½</h2><p>é“¾æ¥ï¼š<a href="https://disk.cuojue.org/s/mubudsgv" title="PostViews.zip">PostViews.zip</a> å¯†ç ï¼šev65</p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PostViews</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Typechoçš„fastcgi_cacheç¼“å­˜æ’ä»¶</title>
    <link href="/read/typecho-fastcgi_cache.html"/>
    <url>/read/typecho-fastcgi_cache.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ’ä»¶éœ€è¦ WEB æœåŠ¡å™¨ä¸º Nginx å¹¶ä¸”éœ€è¦ ngx_cache_purge æ¨¡å—æ”¯æŒ</p><h2 id="æ’ä»¶ç‰¹æ€§"><a href="#æ’ä»¶ç‰¹æ€§" class="headerlink" title="æ’ä»¶ç‰¹æ€§"></a>æ’ä»¶ç‰¹æ€§</h2><p>ç›´æ¥åœ¨nginxå±‚ç¼“å­˜ï¼Œåª²ç¾é™æ€é¡µé¢é€Ÿåº¦<br>æ”¯æŒæ‰€æœ‰é¡µé¢ç¼“å­˜<br>æ”¯æŒå†…å®¹ä¿®æ”¹ä¹‹åè‡ªåŠ¨æ›´æ–°å†…å®¹ã€åˆ†ç±»ã€é¦–é¡µç¼“å­˜<br>æ”¯æŒè¯„è®ºç”Ÿæ•ˆæ›´æ–°ç¼“å­˜<br>æ”¯æŒç™»å½•çŠ¶æ€ä¸‹ä¸ç¼“å­˜<br>æ”¯æŒæœç´¢ç­‰åŠ¨æ€é¡µé¢ä¸ç¼“å­˜</p><h2 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h2><p>v1.0<br>åˆå§‹ç‰ˆæœ¬<br>v1.1<br>ä¿®å¤è¯„è®ºåˆ†é¡µåˆ·æ–°<br>å¢åŠ Tagé¡µé¢åˆ·æ–°<br>å¢åŠ è‡ªå®šä¹‰åˆ·æ–°åç¼€</p><h2 id="å·²çŸ¥é—®é¢˜"><a href="#å·²çŸ¥é—®é¢˜" class="headerlink" title="å·²çŸ¥é—®é¢˜"></a>å·²çŸ¥é—®é¢˜</h2><p>éjsæ–¹å¼çš„è®¿é—®ç»Ÿè®¡æ’ä»¶ä¼šå¤±æ•ˆ</p><h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><p>éœ€è¦ä¿®æ”¹nginxé…ç½®æ–‡ä»¶ï¼Œæ·»åŠ </p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-comment">#ä¸‹é¢2è¡Œçš„ä¸­çš„wpcacheè·¯å¾„è¯·è‡ªè¡Œæå‰åˆ›å»ºï¼Œå¦åˆ™å¯èƒ½ä¼šè·¯å¾„ä¸å­˜åœ¨è€Œæ— æ³•å¯åŠ¨nginxï¼Œmax_sizeè¯·æ ¹æ®åˆ†åŒºå¤§å°è‡ªè¡Œè®¾ç½®</span><br><span class="hljs-attribute">fastcgi_cache_path</span> /www/server/nginx/fastcgi_cache_dir levels=<span class="hljs-number">1</span>:<span class="hljs-number">2</span> keys_zone=fcache:<span class="hljs-number">250m</span> inactive=<span class="hljs-number">1d</span> max_size=<span class="hljs-number">1G</span>;<br><span class="hljs-attribute">fastcgi_temp_path</span> /www/server/nginx/fastcgi_cache_dir/temp;<br><span class="hljs-attribute">fastcgi_cache_key</span> <span class="hljs-string">&quot;$scheme$request_method$host$request_uri&quot;</span>;<br><span class="hljs-attribute">fastcgi_cache_use_stale</span> <span class="hljs-literal">error</span> timeout invalid_header http_500;<br><span class="hljs-comment">#å¿½ç•¥ä¸€åˆ‡nocacheç”³æ˜ï¼Œé¿å…ä¸ç¼“å­˜ä¼ªé™æ€ç­‰</span><br><span class="hljs-attribute">fastcgi_ignore_headers</span> Cache-Control Expires Set-Cookie;<br><span class="hljs-comment">#Psï¼šå¦‚æœæ˜¯å¤šä¸ªç«™ç‚¹ï¼Œä»¥ä¸Šå†…å®¹ä¸è¦é‡å¤æ·»åŠ ï¼Œå¦åˆ™ä¼šå†²çªï¼Œå¯ä»¥è€ƒè™‘å°†ä»¥ä¸Šå†…å®¹æ·»åŠ åˆ°nginx.confé‡Œé¢ï¼Œé¿å…åŠ äº†å¤šæ¬¡ã€‚</span><br></code></pre></td></tr></table></figure><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs nginx">server<br>&#123;<br>***ç•¥***<br><span class="hljs-attribute">set</span> $skip_cache <span class="hljs-number">0</span>;<br><span class="hljs-comment">#postè®¿é—®ä¸ç¼“å­˜</span><br><span class="hljs-attribute">if</span> ($request_method = POST) &#123;<br><span class="hljs-attribute">set</span> $skip_cache <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-comment">#åŠ¨æ€æŸ¥è¯¢ä¸ç¼“å­˜</span><br><span class="hljs-attribute">if</span> ($query_string != <span class="hljs-string">&quot;&quot;</span>) &#123;<br><span class="hljs-attribute">set</span> $skip_cache <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-comment">#pjaxæŸ¥è¯¢ç¼“å­˜</span><br><span class="hljs-attribute">if</span> ($query_string <span class="hljs-regexp">~ &quot;_pjax=(.*)&quot;)</span> &#123;<br><span class="hljs-attribute">set</span> $skip_cache <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">#åå°ç­‰ç‰¹å®šé¡µé¢ä¸ç¼“å­˜ï¼ˆå…¶ä»–éœ€æ±‚è¯·è‡ªè¡Œæ·»åŠ å³å¯ï¼‰</span><br><span class="hljs-attribute">if</span> ($request_uri <span class="hljs-regexp">~* &quot;/admin/|/action/|/search/|/feed/|baidu_sitemap.xml|sitemap.xml&quot;)</span> &#123;<br><span class="hljs-attribute">set</span> $skip_cache <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-comment">#å¯¹ç™»å½•çš„ç”¨æˆ·ä¸å±•ç¤ºç¼“å­˜</span><br><span class="hljs-attribute">if</span> ($http_cookie <span class="hljs-regexp">~* &quot;typecho_authCode&quot;)</span> &#123;<br><span class="hljs-attribute">set</span> $skip_cache <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-attribute">location</span> <span class="hljs-regexp">~ [^/]\.php(/|$)</span><br><span class="hljs-regexp"></span>&#123;<br><span class="hljs-attribute">try_files</span> $uri =<span class="hljs-number">404</span>;<br><span class="hljs-attribute">fastcgi_pass</span>  unix:/tmp/php-cgi-74.sock;<br><span class="hljs-attribute">fastcgi_index</span> index.php;<br><span class="hljs-attribute">include</span> fastcgi.conf;<br><span class="hljs-attribute">include</span> pathinfo.conf;<br><span class="hljs-comment">#æ–°å¢çš„ç¼“å­˜è§„åˆ™</span><br><span class="hljs-attribute">fastcgi_cache_bypass</span> $skip_cache;<br><span class="hljs-attribute">fastcgi_no_cache</span> $skip_cache;<br><span class="hljs-attribute">add_header</span> X-Cuojue-Cache <span class="hljs-string">&quot;$upstream_cache_status From $host&quot;</span>;<br><span class="hljs-attribute">fastcgi_cache</span> fcache;<br><span class="hljs-attribute">fastcgi_cache_valid</span> <span class="hljs-number">200</span> <span class="hljs-number">1d</span>;<br>&#125;<br><br>location ~* /&#123;åå°è®¾ç½®çš„token&#125;/_clean_cache(/.*) &#123;<br><span class="hljs-attribute">fastcgi_cache_purge</span> fcache <span class="hljs-string">&quot;$scheme$request_method$host<span class="hljs-variable">$1</span>$is_args$args&quot;</span>;<br>&#125;<br>***ç•¥***<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šçš„</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nginx">location ~* /&#123;åå°è®¾ç½®çš„token&#125;/_clean_cache(/.*) &#123;<br><span class="hljs-attribute">fastcgi_cache_purge</span> fcache <span class="hljs-string">&quot;$scheme$request_method$host<span class="hljs-variable">$1</span>$is_args$args&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>éœ€è¦å’Œåå°è®¾ç½®çš„tokenä¸€è‡´ï¼Œä¾‹å¦‚åå°è®¾ç½®<code>1150AE6A4F7938AE754D</code>åˆ™è¿™é‡Œè®¾ç½®ä¸º</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">location</span> <span class="hljs-regexp">~* /1150AE6A4F7938AE754D/_clean_cache(/.*)</span> &#123;<br><span class="hljs-attribute">fastcgi_cache_purge</span> fcache <span class="hljs-string">&quot;$scheme$request_method$host<span class="hljs-variable">$1</span>$is_args$args&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç¼“å­˜æ•ˆæœ"><a href="#ç¼“å­˜æ•ˆæœ" class="headerlink" title="ç¼“å­˜æ•ˆæœ"></a>ç¼“å­˜æ•ˆæœ</h3><p>æ›¿æ¢æ–°çš„é…ç½®ï¼Œå¹¶ä¸”é‡è½½Nginxä¹‹åï¼Œè®¿é—®å‰å°é¡µé¢ï¼ŒæŸ¥çœ‹headerï¼Œä¼šå¤šå‡ºä¸€ä¸ª X-Cuojue-Cache æ ‡å¿—ã€‚</p><p>X-Cuojue-Cache ä¸€èˆ¬ä¼šæœ‰3ä¸ªçŠ¶æ€ï¼šMISSã€HITã€BYPASSã€‚</p><ul><li><p><strong>MISSè¡¨ç¤ºæœªå‘½ä¸­</strong><br>å³è¿™ä¸ªé¡µé¢è¿˜æ²¡è¢«ç¼“å­˜ï¼Œæ–°å‘å¸ƒæˆ–åˆšè¢«åˆ é™¤çš„é¡µé¢ï¼Œé¦–æ¬¡è®¿é—®å°†å‡ºç°è¿™ä¸ªçŠ¶æ€ï¼ˆå›¾ç•¥ï¼‰ã€‚</p></li><li><p><strong>HITè¡¨ç¤ºç¼“å­˜å‘½ä¸­</strong><br>æ‰“å¼€ä¸€ä¸ªä¼šç¼“å­˜çš„é¡µé¢ï¼Œæ¯”å¦‚æ–‡ç« å†…å®¹htmlé¡µé¢ï¼ŒF5åˆ·æ–°å‡ æ¬¡å³å¯åœ¨F12å¼€å‘è€…æ¨¡å¼å½“ä¸­çš„Headerå¤´éƒ¨ä¿¡æ¯ä¸­çœ‹åˆ°å¦‚å›¾ç¼“å­˜å‘½ä¸­çŠ¶æ€ï¼š<br><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2020/02/2906163519.png" alt="HIT"></p></li><li><p><strong>BYPASSè¡¨ç¤ºç¼“å­˜é»‘åå•</strong><br>å³é¡µé¢è·¯å¾„åœ¨Nginxè§„åˆ™ä¸­è¢«è®¾ç½®æˆä¸ç¼“å­˜ï¼ˆset $skip_cache 1;ï¼‰ï¼Œæ¯”å¦‚typechoåå°å’Œæœç´¢ï¼š<br><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2020/02/4256031367.png" alt="BYPASS"></p></li></ul><p><em>å¦‚æœä½ å‘ç°æƒ³è¦ç¼“å­˜çš„é¡µé¢å´æ˜¯è¿™ä¸ªçŠ¶æ€ï¼Œå°±å¯ä»¥å»æ£€æŸ¥æ’é™¤è§„åˆ™ä¸­æ˜¯ä¸æ˜¯åŒ…å«äº†è¿™ä¸ªè·¯å¾„ï¼åä¹‹ï¼Œå¦‚æœä½ å‘ç°åå°ç™»å½•ä¸äº†ï¼Œæˆ–è€…å„ç§ç™»é™†æ€ä¸¢å¤±é—®é¢˜ï¼Œåˆ™åº”è¯¥åˆ°æ’é™¤è§„åˆ™ä¸­åŠ ä¸Šè¯¥é¡µé¢è·¯å¾„çš„å…³é”®å­—ã€‚</em></p><h3 id="ç¼“å­˜åˆ·æ–°"><a href="#ç¼“å­˜åˆ·æ–°" class="headerlink" title="ç¼“å­˜åˆ·æ–°"></a>ç¼“å­˜åˆ·æ–°</h3><h4 id="è‡ªåŠ¨åˆ·æ–°"><a href="#è‡ªåŠ¨åˆ·æ–°" class="headerlink" title="è‡ªåŠ¨åˆ·æ–°"></a>è‡ªåŠ¨åˆ·æ–°</h4><p>åå°é…ç½®å®Œæˆåï¼Œæ¶‰åŠæ–‡ç« ï¼Œè¯„è®ºç­‰æ›´æ–°ï¼Œä¼šè‡ªåŠ¨åˆ·æ–°å¯¹åº”ç¼“å­˜ã€‚é»˜è®¤ç¼“å­˜24å°æ—¶åè¿‡æœŸã€‚<br>è‡ªåŠ¨åˆ·æ–°ç¼“å­˜æ˜¯è®¿é—®å¯¹åº”çš„åˆ·æ–°åœ°å€å®ç°çš„ï¼Œæ‰€ä»¥ä»¥ä¸Šçš„nginxé…ç½®å’Œåå°tokenä¸€å®šè¦ä¸€è‡´ï¼Œå¦‚ä¸ä¸€è‡´ï¼Œç¼“å­˜æ˜¯ä¸ä¼šåˆ·æ–°çš„ã€‚</p><h3 id="æ‰‹åŠ¨åˆ·æ–°"><a href="#æ‰‹åŠ¨åˆ·æ–°" class="headerlink" title="æ‰‹åŠ¨åˆ·æ–°"></a>æ‰‹åŠ¨åˆ·æ–°</h3><p>æ‰‹åŠ¨åˆ·æ–°ï¼Œå¯ä»¥æ‹¼åˆåœ°å€è§„åˆ™ã€‚<br>å®šä¹‰tokenä¸ºï¼š<code>ABCD1234</code><br>å®šä¹‰é¡µé¢ä¸ºï¼š<code>https://cuojue.org/read/typecho-fastcgi_cache.html</code><br>åˆ™åˆ·æ–°åœ°å€æ˜¯ï¼š<code>https://cuojue.org/ABCD1234/_clean_cache/read/typecho-fastcgi_cache.html</code><br>è®¿é—®è¿™ä¸ªåœ°å€å°±ä¼šåˆ·æ–°ï¼Œæ’ä»¶å†…ä¹Ÿæ˜¯æ¨¡æ‹Ÿè®¿é—®è¿™ä¸ªåœ°å€ï¼Œå®ç°çš„åˆ·æ–°ã€‚<br>è¿™ä¸ªåœ°å€ï¼Œåœ¨æœ‰ç¼“å­˜çš„æ—¶å€™ï¼Œè®¿é—®ä¼šè¿”å›<code>200</code>åˆ·æ–°æˆåŠŸï¼Œåœ¨ä¸å­˜åœ¨ç¼“å­˜çš„æ—¶å€™ï¼Œä¼šè¿”å›æ­£å¸¸çš„<code>404</code>æœªæ‰¾åˆ°é¡µé¢é”™è¯¯ã€‚<br>æ‰€ä»¥å¦‚æœæ²¡æœ‰é…ç½®æ­£ç¡®ï¼Œç¼“å­˜æ˜¯ä¸ä¼šåˆ·æ–°çš„ã€‚<br>ç¼“å­˜keyå°±æ˜¯urlï¼Œå¦‚æœurlå˜åŒ–äº†ï¼Œæ—§çš„ç¼“å­˜ä¹Ÿä¸ä¼šåˆ·æ–°ã€‚</p><h3 id="è¿›é˜¶æ“ä½œ"><a href="#è¿›é˜¶æ“ä½œ" class="headerlink" title="è¿›é˜¶æ“ä½œ"></a>è¿›é˜¶æ“ä½œ</h3><h4 id="è¯„è®ºè€…ä¿¡æ¯è¢«ç¼“å­˜ä¿®å¤"><a href="#è¯„è®ºè€…ä¿¡æ¯è¢«ç¼“å­˜ä¿®å¤" class="headerlink" title="è¯„è®ºè€…ä¿¡æ¯è¢«ç¼“å­˜ä¿®å¤"></a>è¯„è®ºè€…ä¿¡æ¯è¢«ç¼“å­˜ä¿®å¤</h4><p>typechoä¸»é¢˜ä¸€èˆ¬ä½¿ç”¨phpçš„å‡½æ•°è·å–cookiesæ¥å¡«å……è¯„è®ºè€…ä¿¡æ¯ï¼Œå¯¼è‡´äº†å¦‚æœç”¨æˆ·è¯„è®ºäº†æ–‡ç« ï¼Œå°±ä¼šç¼“å­˜è¯„è®ºè€…çš„ä¿¡æ¯ï¼Œå¦‚ä½•ä¿®å¤å‚è€ƒä¸‹é¢çš„æ–‡ç« <br><a href="https://cuojue.org/read/typecho_comments_author_javascript.html">https://cuojue.org/read/typecho_comments_author_javascript.html</a></p><h4 id="Set-Cookieå¤´å¤„ç†"><a href="#Set-Cookieå¤´å¤„ç†" class="headerlink" title="Set-Cookieå¤´å¤„ç†"></a>Set-Cookieå¤´å¤„ç†</h4><p>ä½¿ç”¨äº†fastcgi_cacheæ¥ç¼“å­˜æ‰€æœ‰é¡µé¢ï¼Œå¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯set-cookieä¹Ÿè¢«ç¼“å­˜äº†ï¼Œå…¶ä»–ç”¨æˆ·å†æ¬¡è®¿é—®ä¼šå¯¼è‡´è¢«è®¾ç½®ç¼“å­˜çš„cookieï¼Œè§£å†³æ–¹æ³•è§ä¸‹æ–‡ã€‚<br><a href="https://cuojue.org/read/fastcgi_cache_fix_cookies.html">https://cuojue.org/read/fastcgi_cache_fix_cookies.html</a></p><h2 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h2><p>é“¾æ¥ï¼š<a href="https://disk.cuojue.org/s/xddxbbdx" title="Ncache.zip">Ncache.zip</a> å¯†ç ï¼šncache</p><p>å‚è€ƒï¼š<br><a href="https://zhangge.net/5042.html" title="Nginxå¼€å¯fastcgi_cacheç¼“å­˜åŠ é€Ÿï¼Œæ”¯æŒhtmlä¼ªé™æ€é¡µé¢ | å¼ æˆˆåšå®¢">Nginxå¼€å¯fastcgi_cacheç¼“å­˜åŠ é€Ÿï¼Œæ”¯æŒhtmlä¼ªé™æ€é¡µé¢ | å¼ æˆˆåšå®¢</a><br><a href="https://cuojue.org/read/typecho-cache-memcache.html" title="ä¸ºtypechoå¢åŠ ç¼“å­˜åŠŸèƒ½,æ”¯æŒmemcachedç¼“å­˜">ä¸ºtypechoå¢åŠ ç¼“å­˜åŠŸèƒ½,æ”¯æŒmemcachedç¼“å­˜</a></p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
      <tag>fastcgi_cache</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nginx/OpenLiteSpeedæ¥å®ç°QUICå’ŒHTTP/3æ”¯æŒ</title>
    <link href="/read/quic_http3.html"/>
    <url>/read/quic_http3.html</url>
    
    <content type="html"><![CDATA[<p>ç½‘ä¸Šå¤§éƒ¨åˆ†æ˜¯é‡‡ç”¨caddyæ¥ç›‘å¬UDP443ç«¯å£å®ç°çš„quicæ”¯æŒï¼Œå¤§å¤šæ•°ç‰ˆæœ¬å¤ªè¿‡äºè€æ—§ã€‚<br>ä»Šå¤©é‡‡ç”¨Dockeréƒ¨ç½²OpenLiteSpeedæ¥å®ç°QUICå’ŒHTTP/3æ”¯æŒã€‚<br>ç›®å‰æ”¯æŒçš„ç‰ˆæœ¬æœ‰ï¼šgQUIC(43,46),h3-Q050,h3-24,h3-25</p><p>æˆ‘æœ¬æœºä½¿ç”¨çš„WebServeræ˜¯nginxï¼Œæ‰€ä»¥é…ç½®nginxç›‘å¬ TCP:443 é…ç½®OpenLiteSpeedç›‘å¬ UDP:443 å¹¶ä¸”åå‘ä»£ç†åˆ°æœ¬æœºNginx</p><p>é¦–å…ˆæœºå™¨ç¯å¢ƒå®‰è£…Dockerå’Œgitï¼Œè¿™å°±ä¸è¯´äº†</p><h2 id="Git-clone-OLStack"><a href="#Git-clone-OLStack" class="headerlink" title="Git clone OLStack"></a>Git clone OLStack</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/LLStack/OLStack.git<br><span class="hljs-built_in">cd</span> OLStack<br></code></pre></td></tr></table></figure><h2 id="ç¼–è¾‘é…ç½®æ–‡ä»¶"><a href="#ç¼–è¾‘é…ç½®æ–‡ä»¶" class="headerlink" title="ç¼–è¾‘é…ç½®æ–‡ä»¶"></a>ç¼–è¾‘é…ç½®æ–‡ä»¶</h2><p>ç¼–è¾‘ .env å’Œ docker-compose.ymlæ–‡ä»¶<br>è¿™é‡Œåªéœ€è¦litespeedæ‰€ä»¥ä¿®æ”¹ä¸º</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">&#x27;3&#x27;</span><br><span class="hljs-attr">services:</span><br><br>  <span class="hljs-attr">litespeed:</span><br>    <span class="hljs-attr">build:</span><br>      <span class="hljs-attr">context:</span> <span class="hljs-string">./Dockerfile/build/$&#123;LITESPEED&#125;/$&#123;PHPVER&#125;/</span><br>      <span class="hljs-attr">args:</span><br>        <span class="hljs-attr">extensions:</span> <span class="hljs-string">vim</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">litespeed</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">llstack/olstack:$&#123;LITESPEED&#125;-$&#123;PHPVER&#125;</span><br>    <span class="hljs-attr">env_file:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">.env</span><br>    <span class="hljs-attr">volumes:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">./Configfile/lsws/conf:/usr/local/lsws/conf</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">./Configfile/lsws/admin-conf:/usr/local/lsws/admin/conf</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">./bin/container:/usr/local/bin</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">./sites:/var/www/vhosts/</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">./certs:/etc/letsencrypt/</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">/www/server/panel/vhost/cert:/etc/certs/</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">./logs/lsws/:/usr/local/lsws/logs/</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">443</span><span class="hljs-string">:443/udp</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">7080</span><span class="hljs-string">:7080</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">TZ=$&#123;TimeZone&#125;</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br></code></pre></td></tr></table></figure><p>è¿è¡Œ <code>docker-compose up --build</code>å’Œ<code>docker-compose up -d</code>å¯åŠ¨å®¹å™¨</p><h2 id="ä¿®æ”¹é…ç½®"><a href="#ä¿®æ”¹é…ç½®" class="headerlink" title="ä¿®æ”¹é…ç½®"></a>ä¿®æ”¹é…ç½®</h2><p>è¿›åå° <a href="https://0.0.0.0:7080/">https://0.0.0.0:7080</a> é»˜è®¤ç”¨æˆ·åæ˜¯<code>admin</code>å¯†ç æ˜¯<code>123456</code></p><p>ä¿®æ”¹è™šæ‹Ÿä¸»æœºæ¨¡æ¿centralConfigLog/ssl<br>æŒ‰å›¾æ‰€ç¤ºï¼Œä¿®æ”¹sslè¯ä¹¦çš„è·¯å¾„å’Œå„é¡¹é…ç½®<br><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2020/02/3654111390.png" alt="ä¿®æ”¹sslè¯ä¹¦çš„è·¯å¾„å’Œå„é¡¹é…ç½®1"></p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2020/02/2847812440.png" alt="ä¿®æ”¹sslè¯ä¹¦çš„è·¯å¾„å’Œå„é¡¹é…ç½®2"></p><p>ä¿®æ”¹è™šæ‹Ÿä¸»æœºæ¨¡æ¿centralConfigLog/å¤–éƒ¨åº”ç”¨ç¨‹åº<br>æŒ‰å›¾æ‰€ç¤ºï¼Œæ·»åŠ ä»£ç†<br><strong>è¿™é‡Œçš„åœ°å€æ˜¯Dockerè®¿é—®æœ¬åœ°çš„åœ°å€ï¼Œè¯·ä¿®æ”¹ä¸ºä½ æœ¬æœºç›¸å¯¹åº”çš„åœ°å€</strong><br><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2020/02/3902866201.png" alt="æ·»åŠ ä»£ç†"></p><p>ä¿®æ”¹è™šæ‹Ÿä¸»æœºæ¨¡æ¿centralConfigLog/èµ„æºé›†<br>æŒ‰å›¾æ‰€ç¤ºï¼Œæ·»åŠ ä»£ç†èµ„æºé›†å®šä¹‰<br><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2020/02/1793199179.png" alt="æ·»åŠ ä»£ç†èµ„æºé›†å®šä¹‰"></p><p>æ¥ä¸‹æ¥å°±å¯ä»¥åœ¨SSHæ·»åŠ ä¸»æœºäº†<br>è¿›å…¥ <strong>OLStack ç›®å½•</strong> æ‰§è¡Œ<br><code>bash bin/domain.sh -add &lt;your_domain.com&gt;</code></p><h2 id="Nginxæ·»åŠ è¾“å‡ºå¤´"><a href="#Nginxæ·»åŠ è¾“å‡ºå¤´" class="headerlink" title="Nginxæ·»åŠ è¾“å‡ºå¤´"></a>Nginxæ·»åŠ è¾“å‡ºå¤´</h2><p>æ·»åŠ å¥½åè¿˜éœ€è¦åœ¨nginxæ·»åŠ <br><code>add_header alt-svc &#39;quic=&quot;:443&quot;; ma=2592000; v=&quot;43,46&quot;, h3-Q043=&quot;:443&quot;; ma=2592000, h3-Q046=&quot;:443&quot;; ma=2592000, h3-Q050=&quot;:443&quot;; ma=2592000, h3-24=&quot;:443&quot;; ma=2592000, h3-25=&quot;:443&quot;; ma=2592000&#39;;</code></p><h2 id="æµ‹è¯•ä¸€ä¸‹"><a href="#æµ‹è¯•ä¸€ä¸‹" class="headerlink" title="æµ‹è¯•ä¸€ä¸‹"></a>æµ‹è¯•ä¸€ä¸‹</h2><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2020/02/170113123.png" alt="http3æµ‹è¯•"></p><p>æµ‹è¯•åœ°å€ï¼š<a href="https://http3check.net/">https://http3check.net</a></p><p>å‚è€ƒï¼š<a href="https://www.llstack.com/ols/">https://www.llstack.com/ols/</a></p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é›¶æˆæœ¬æ­å»ºè‡ªæœ‰å…¬ç§å…¼å¤‡äº‘ç›˜(Cloudreve)</title>
    <link href="/read/cuojue_netdisk.html"/>
    <url>/read/cuojue_netdisk.html</url>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆæ”¾å‡ ä¸ªæ —å­ï¼š<br><a href="https://disk.cuojue.org/" title="CuoJue NetDisk">CuoJue NetDisk</a><br><a href="https://disk.cuojue.org/s/liej2ccz" title="ç§»åŠ¨äº‘ä¸»æœºå‚¨å­˜çš„æ–‡ä»¶åˆ†äº«">OneNETå¯¹è±¡å‚¨å­˜çš„æ–‡ä»¶åˆ†äº«</a><br><a href="https://disk.cuojue.org/s/whw549l5" title="ç§»åŠ¨äº‘ä¸»æœºå‚¨å­˜çš„æ–‡ä»¶åˆ†äº«">OneNETäº‘ä¸»æœºè¿œç¨‹å‚¨å­˜çš„æ–‡ä»¶åˆ†äº«</a></p><blockquote><p>ä¸‹è½½çš„æ—¶å€™å¯é€šè¿‡æä¾›æ–¹åŸŸååˆ†è¾¨å‚¨å­˜åŒºåŸŸ<br>æ ‡é¢˜å†™çš„é›¶æˆæœ¬åªæ˜¯äº‘ç›˜å‚¨å­˜ç©ºé—´é›¶æˆæœ¬ï¼Œäº‘ç›˜ç³»ç»Ÿè¿˜æ˜¯éœ€è¦è‡ªè¡Œæ­å»º</p></blockquote><h2 id="æ­å»ºCloudreve"><a href="#æ­å»ºCloudreve" class="headerlink" title="æ­å»ºCloudreve"></a>æ­å»ºCloudreve</h2><p>æ­å»ºè¿™ä¸ªç©æ„ï¼Œç›´æ¥çœ‹å®˜æ–¹æ–‡æ¡£å§ <a href="https://cloudreve.github.io/docs/#/install" title="å®‰è£… - Cloudreveæ–‡æ¡£">å®‰è£… - Cloudreveæ–‡æ¡£</a></p><p>éœ€è¦PHP+MYSQLç¯å¢ƒï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸æ”¯æŒPHP7.4ï¼ˆThinkPHPæ¡†æ¶ä¸å…¼å®¹ï¼‰ï¼Œç›®å‰åœ¨PHP7.2ä¸‹è¿è¡Œè‰¯å¥½</p><h2 id="å¢åŠ ä¸Šä¼ ç­–ç•¥"><a href="#å¢åŠ ä¸Šä¼ ç­–ç•¥" class="headerlink" title="å¢åŠ ä¸Šä¼ ç­–ç•¥"></a>å¢åŠ ä¸Šä¼ ç­–ç•¥</h2><h3 id="å¢åŠ ç§»åŠ¨-OneNET-å¯¹è±¡å‚¨å­˜"><a href="#å¢åŠ ç§»åŠ¨-OneNET-å¯¹è±¡å‚¨å­˜" class="headerlink" title="å¢åŠ ç§»åŠ¨ OneNET å¯¹è±¡å‚¨å­˜"></a>å¢åŠ ç§»åŠ¨ OneNET å¯¹è±¡å‚¨å­˜</h3><blockquote><p>æœ¬ç¯‡æ–‡ç« çš„æ ¸å¿ƒéƒ¨åˆ†ç¬¬ä¸€èŠ‚<br>æˆªæ­¢ç›®å‰ 2020-1-2 æœ¬æœåŠ¡è¿˜æ˜¯å…è´¹çš„ï¼ˆå…è´¹ç©ºé—´10GB+æµé‡è´¹å…¨å…ï¼‰</p></blockquote><ol><li><p>æ³¨å†Œåœ°å€ï¼š<a href="https://open.iot.10086.cn/cloud/console/object-storage/index">https://open.iot.10086.cn/cloud/console/object-storage/index</a><br>æ³¨å†Œåå¯å…è´¹é¢†å–å¯¹è±¡å‚¨å­˜å’Œäº‘æœåŠ¡å™¨ç­‰èµ„æºï¼Œè¿™é‡Œå…ˆå¼€é€šå¯¹è±¡å‚¨å­˜</p></li><li><p>åˆ›å»ºä¸€ä¸ªå¯¹è±¡å‚¨å­˜å®¹å™¨å’ŒAccessKey</p></li><li><p>åœ¨Cloudreveåå°é…ç½®</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>ä¸Šä¼ ç­–ç•¥åç§°</td><td>è‡ªå·±å–åå­—</td></tr><tr><td>AWSAccessKeyId</td><td>å¡«å†™è·å–åˆ°çš„AccessKeyId</td></tr><tr><td>AWSSecretKey</td><td>å¡«å†™è·å–åˆ°çš„SecretKey</td></tr><tr><td>å­˜å‚¨æ¡¶åç§°</td><td>å¡«å†™å®¹å™¨åç§°</td></tr><tr><td>ä¸‹è½½æ ¹URL</td><td>https://å®¹å™¨åç§°.oos-cn-wuxi.heclouds.com/</td></tr><tr><td>ä¸Šä¼ æœåŠ¡å™¨URL</td><td>https://å®¹å™¨åç§°.oos-cn-wuxi.heclouds.com/</td></tr><tr><td>å‚¨å­˜åŒºåŸŸ</td><td>oos-cn-wuxi</td></tr><tr><td>EndPoint</td><td><a href="https://oos-cn-wuxi.heclouds.com/">https://oos-cn-wuxi.heclouds.com/</a></td></tr></tbody></table></li><li><p>é…ç½®å®Œæ¯•åä¿®æ”¹ç”¨æˆ·ç»„ä¸Šä¼ ç­–ç•¥ç„¶åæµ‹è¯•ä¸€ä¸‹ä¸Šä¼ </p></li></ol><h3 id="å¢åŠ ç§»åŠ¨-OneNET-äº‘ä¸»æœºå‚¨å­˜"><a href="#å¢åŠ ç§»åŠ¨-OneNET-äº‘ä¸»æœºå‚¨å­˜" class="headerlink" title="å¢åŠ ç§»åŠ¨ OneNET äº‘ä¸»æœºå‚¨å­˜"></a>å¢åŠ ç§»åŠ¨ OneNET äº‘ä¸»æœºå‚¨å­˜</h3><blockquote><p>æœ¬ç¯‡æ–‡ç« çš„æ ¸å¿ƒéƒ¨åˆ†ç¬¬äºŒèŠ‚<br>æˆªæ­¢ç›®å‰ 2020-1-2 æœ¬æœåŠ¡è¿˜æ˜¯å…è´¹çš„ï¼ˆå…è´¹äº‘ä¸»æœºæœ€å¤§4æ ¸8G/å…è´¹äº‘ç›˜æœ€å¤§å®¹é‡2TB/å…è´¹æ–‡ä»¶å‚¨å­˜æ— é™å®¹é‡ï¼‰</p></blockquote><ol><li><p>æœåŠ¡å™¨é…ç½®å¥½ç¯å¢ƒ</p><ul><li>å¯é€‰æ‹©<a href="https://www.bt.cn/?invite_code=MV90ZGtxcGQ=" title="å®å¡”é¢æ¿">å®å¡”é¢æ¿</a>ä¸€é”®å®‰è£…</li><li>å¯é€‰æ‹©<a href="https://lnmp.org/" title="LNMPä¸€é”®å®‰è£…åŒ…">LNMPä¸€é”®å®‰è£…åŒ…</a></li><li>å¯é€‰æ‹©<a href="https://oneinstack.com/" title="OneinStackä¸€é”®å®‰è£…å·¥å…·">OneinStackä¸€é”®å®‰è£…å·¥å…·</a></li></ul></li><li><p>ç¯å¢ƒé…ç½®å¥½åå®‰è£…cloudreveè¿œç¨‹å­˜å‚¨æœåŠ¡ç«¯<br>ç›´æ¥ä¸‹è½½æºç  <a href="https://github.com/cloudreve/remote-server">https://github.com/cloudreve/remote-server</a> éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œåªéœ€è¦PHPç¯å¢ƒï¼Œä¸éœ€è¦æ•°æ®åº“<br>è¯¦ç»†çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://github.com/cloudreve/Cloudreve/wiki/%E8%BF%9C%E7%A8%8B%E5%AD%98%E5%82%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%90%AD%E5%BB%BA">https://github.com/cloudreve/Cloudreve/wiki/%E8%BF%9C%E7%A8%8B%E5%AD%98%E5%82%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%90%AD%E5%BB%BA</a><br>éœ€è¦æ³¨æ„ï¼š1ã€ä¸»æœºå°äº†80å’Œ443ç«¯å£ï¼Œéœ€è¦ç”¨å…¶ä»–ç«¯å£è®¿é—®ã€‚2ã€å¦‚æœæºç«™é…ç½®äº†HTTPSè®¿é—®ï¼Œåˆ™è¿œç¨‹ä¸Šä¼ ä¹Ÿå¿…é¡»é…ç½®HTTPS</p></li><li><p>ä¿®æ”¹ä¸Šä¼ å¤§å°é…ç½®<br>åœ¨<code>upload.php</code>æ–‡ä»¶ç¬¬69è¡Œæœ‰æ£€æµ‹ä¸Šä¼ æ–‡ä»¶å¤§å°ï¼Œè¿™é‡Œéœ€è¦ä¿®æ”¹æˆå’Œåå°å¡«å†™çš„ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´å¹¶ä¸”è¶…è¿‡äº†è¿™é‡Œçš„é™åˆ¶ä¼šæç¤ºä¸Šä¼ æ–‡ä»¶è¿‡å¤§ã€‚<br><code>if($chunk &amp;&amp; $this-&gt;fileSize &gt; 4194350)</code><br>æˆ‘æ”¹æˆäº†300M<br><code>if($chunk &amp;&amp; $this-&gt;fileSize &gt; 314572800)</code><br>ä¸‹é¢çš„åˆ†ç‰‡æ–‡ä»¶å¤§å°ä¹Ÿéœ€è¦ä¿®æ”¹ï¼ˆå¯èƒ½æ˜¯ä¸ªBUGï¼Œåˆ†ç‰‡å¤§å°4Mï¼Œå®é™…ä¸Šä¼ åˆ†ç‰‡å¤§å°10Mï¼Œå¯¼è‡´æ‹¼åˆçš„æ–‡ä»¶é”™è¯¯ï¼‰</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs php"> <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">combineChunk</span>(<span class="hljs-params"><span class="hljs-variable">$chunkList</span></span>)</span>&#123;<br><span class="hljs-variable">$fileName</span> = <span class="hljs-string">&quot;file_&quot;</span>.md5(uniqid());<br><span class="hljs-variable">$fileObj</span>=fopen (<span class="hljs-string">&#x27;chunks/&#x27;</span>.<span class="hljs-keyword">$this</span>-&gt;policy[<span class="hljs-string">&quot;uid&quot;</span>].<span class="hljs-string">&quot;/&quot;</span>.<span class="hljs-variable">$fileName</span>,<span class="hljs-string">&quot;a+&quot;</span>);<br><span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$chunkList</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$key</span> =&gt; <span class="hljs-variable">$value</span>) &#123;<br><span class="hljs-variable">$chunkObj</span> = fopen(<span class="hljs-string">&#x27;chunks/&#x27;</span>.<span class="hljs-keyword">$this</span>-&gt;policy[<span class="hljs-string">&quot;uid&quot;</span>].<span class="hljs-string">&quot;/&quot;</span>.<span class="hljs-variable">$value</span>, <span class="hljs-string">&quot;rb&quot;</span>);<br><span class="hljs-keyword">if</span>(!<span class="hljs-variable">$fileObj</span> || !<span class="hljs-variable">$chunkObj</span>)&#123;<br><span class="hljs-built_in">self</span>::setError(<span class="hljs-string">&quot;æ–‡ä»¶åˆ›å»ºå¤±è´¥&quot;</span>);<br>&#125;<br><span class="hljs-variable">$content</span> = fread(<span class="hljs-variable">$chunkObj</span>, <span class="hljs-number">4195304</span>);<br>fwrite(<span class="hljs-variable">$fileObj</span>, <span class="hljs-variable">$content</span>, <span class="hljs-number">4195304</span>);<br><span class="hljs-keyword">unset</span>(<span class="hljs-variable">$content</span>);<br>fclose(<span class="hljs-variable">$chunkObj</span>);<br>unlink(<span class="hljs-string">&#x27;chunks/&#x27;</span>.<span class="hljs-keyword">$this</span>-&gt;policy[<span class="hljs-string">&quot;uid&quot;</span>].<span class="hljs-string">&quot;/&quot;</span>.<span class="hljs-variable">$value</span>);<br>&#125;<br>fclose(<span class="hljs-variable">$fileObj</span>);<br><span class="hljs-keyword">$this</span>-&gt;generateFile(<span class="hljs-variable">$fileName</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ”¹æˆ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs php"> <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">combineChunk</span>(<span class="hljs-params"><span class="hljs-variable">$chunkList</span></span>)</span>&#123;<br><span class="hljs-variable">$fileName</span> = <span class="hljs-string">&quot;file_&quot;</span>.md5(uniqid());<br><span class="hljs-variable">$fileObj</span>=fopen (<span class="hljs-string">&#x27;chunks/&#x27;</span>.<span class="hljs-keyword">$this</span>-&gt;policy[<span class="hljs-string">&quot;uid&quot;</span>].<span class="hljs-string">&quot;/&quot;</span>.<span class="hljs-variable">$fileName</span>,<span class="hljs-string">&quot;a+&quot;</span>);<br><span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$chunkList</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$key</span> =&gt; <span class="hljs-variable">$value</span>) &#123;<br><span class="hljs-variable">$chunkObj</span> = fopen(<span class="hljs-string">&#x27;chunks/&#x27;</span>.<span class="hljs-keyword">$this</span>-&gt;policy[<span class="hljs-string">&quot;uid&quot;</span>].<span class="hljs-string">&quot;/&quot;</span>.<span class="hljs-variable">$value</span>, <span class="hljs-string">&quot;rb&quot;</span>);<br><span class="hljs-keyword">if</span>(!<span class="hljs-variable">$fileObj</span> || !<span class="hljs-variable">$chunkObj</span>)&#123;<br><span class="hljs-built_in">self</span>::setError(<span class="hljs-string">&quot;æ–‡ä»¶åˆ›å»ºå¤±è´¥&quot;</span>);<br>&#125;<br><span class="hljs-variable">$content</span> = fread(<span class="hljs-variable">$chunkObj</span>, <span class="hljs-number">10485760</span>);<br>fwrite(<span class="hljs-variable">$fileObj</span>, <span class="hljs-variable">$content</span>, <span class="hljs-number">10485760</span>);<br><span class="hljs-keyword">unset</span>(<span class="hljs-variable">$content</span>);<br>fclose(<span class="hljs-variable">$chunkObj</span>);<br>unlink(<span class="hljs-string">&#x27;chunks/&#x27;</span>.<span class="hljs-keyword">$this</span>-&gt;policy[<span class="hljs-string">&quot;uid&quot;</span>].<span class="hljs-string">&quot;/&quot;</span>.<span class="hljs-variable">$value</span>);<br>&#125;<br>fclose(<span class="hljs-variable">$fileObj</span>);<br><span class="hljs-keyword">$this</span>-&gt;generateFile(<span class="hljs-variable">$fileName</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>é…ç½®CORSè·¨åŸŸè®¿é—®<br>nginxé…ç½®å¦‚ä¸‹</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">location</span> / &#123;<br><span class="hljs-attribute">set</span> $origin <span class="hljs-string">&#x27;*&#x27;</span>;<span class="hljs-comment">#å†™å…¥éœ€è¦è·¨åŸŸçš„è¯·æ±‚åœ°å€</span><br><span class="hljs-attribute">if</span> ($request_method = <span class="hljs-string">&#x27;OPTIONS&#x27;</span>) &#123;<br><span class="hljs-attribute">add_header</span> <span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span> $origin;<br><span class="hljs-attribute">add_header</span> <span class="hljs-string">&#x27;Access-Control-Allow-Methods&#x27;</span> <span class="hljs-string">&#x27;GET, POST, OPTIONS&#x27;</span>;<br><span class="hljs-attribute">add_header</span> <span class="hljs-string">&#x27;Access-Control-Max-Age&#x27;</span> <span class="hljs-number">1728000</span>;<br><span class="hljs-attribute">add_header</span> <span class="hljs-string">&#x27;Content-Type&#x27;</span> <span class="hljs-string">&#x27;text/plain charset=UTF-8&#x27;</span>;<br><span class="hljs-attribute">add_header</span> <span class="hljs-string">&#x27;Content-Length&#x27;</span> <span class="hljs-number">0</span>;<br><span class="hljs-attribute">return</span> <span class="hljs-number">204</span>;<br>      &#125;<br><br><span class="hljs-attribute">if</span> ($request_method = <span class="hljs-string">&#x27;POST&#x27;</span>) &#123;<br><span class="hljs-attribute">add_header</span> <span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span> $origin;<br><span class="hljs-attribute">add_header</span> <span class="hljs-string">&#x27;Access-Control-Allow-Methods&#x27;</span> <span class="hljs-string">&#x27;GET, POST, OPTIONS&#x27;</span>;<br><span class="hljs-attribute">add_header</span> <span class="hljs-string">&#x27;Access-Control-Allow-Headers&#x27;</span> <span class="hljs-string">&#x27;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#x27;</span>;<br>      &#125;<br><br><span class="hljs-attribute">if</span> ($request_method = <span class="hljs-string">&#x27;GET&#x27;</span>) &#123;<br><span class="hljs-attribute">add_header</span> <span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span> $origin;<br><span class="hljs-attribute">add_header</span> <span class="hljs-string">&#x27;Access-Control-Allow-Methods&#x27;</span> <span class="hljs-string">&#x27;GET, POST, OPTIONS&#x27;</span>;<br><span class="hljs-attribute">add_header</span> <span class="hljs-string">&#x27;Access-Control-Allow-Headers&#x27;</span> <span class="hljs-string">&#x27;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#x27;</span>;<br>      &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è¿œç¨‹ä¸‹è½½é…ç½®X-Sendfileå‡è½»æœåŠ¡å™¨å‹åŠ›<br>è¿™é‡Œéœ€è¦ä¸‹è½½æˆ‘ä¿®æ”¹å¥½çš„file.phpæ›¿æ¢åˆ°è¿œç¨‹æœåŠ¡ç«¯æ ¹ç›®å½•ä¸‹ <a href="https://disk.cuojue.org/s/0jrnbp4z" title="ç‚¹å‡»è¿™é‡Œä¸‹è½½">ç‚¹å‡»è¿™é‡Œä¸‹è½½</a><br>å¼€å¯SendfileåŠŸèƒ½åè¿˜å¯ä»¥é…ç½®Web Serveræƒé™ç¦æ­¢å¤–éƒ¨ç›´æ¥è®¿é—®uploadsç›®å½•<br>ä¾‹å¦‚nginx</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">location</span> <span class="hljs-title">~ ^/(thumbs</span>|uploads)<br>&#123;<br>    internal;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="å¢åŠ å¾®è½¯-OneDrive-å‚¨å­˜"><a href="#å¢åŠ å¾®è½¯-OneDrive-å‚¨å­˜" class="headerlink" title="å¢åŠ å¾®è½¯ OneDrive å‚¨å­˜"></a>å¢åŠ å¾®è½¯ OneDrive å‚¨å­˜</h3><p>ã€€ã€€ä»¥ä¸Šä¸¤ä¸ªä¸Šä¼ ç­–ç•¥æ¯•ç«Ÿæ˜¯ç¾Šæ¯›ï¼Œä¸çŸ¥é“å“ªå¤©å°±æ”¶è´¹äº†ï¼Œæ‰€ä»¥è¿˜å¯ä»¥å¢åŠ å…¶ä»–å‚¨å­˜ä¸€èµ·ä½¿ç”¨<br>ã€€ã€€åœ¨ç¼–è¾‘é¡µé¢è·å–åˆ°åº”ç”¨IDå’Œæœºå¯†åï¼Œå¡«å…¥å¯¹åº”é€‰é¡¹ï¼Œç„¶åä¿å­˜çš„æ—¶å€™ä¼šè¦æ±‚ç™»å½•è·å–æƒé™</p><p>ã€€ã€€è€Œä¸”Onedriveæ˜¯å¼‚æ­¥ä¸Šä¼ ï¼Œéœ€è¦å…ˆä¼ åˆ°æœåŠ¡å™¨ï¼Œç„¶åä¸­è½¬ä¸Šä¼ åˆ°OneDriveï¼Œâ€œè¿™å¯¹è™šæ‹Ÿä¸»æœºä¸€ç‚¹ä¹Ÿä¸å‹å¥½ï¼Œæ¯•ç«Ÿéœ€è¦è¿è¡Œä¸€ä¸ªäºŒè¿›åˆ¶å®¢æˆ·ç«¯â€</p><p>ã€€ã€€å¼‚æ­¥å®¢æˆ·ç«¯é…ç½®ç›´æ¥çœ‹å®˜æ–¹æ–‡æ¡£ <a href="https://github.com/cloudreve/Cloudreve/wiki/Onedrive%E5%AF%B9%E6%8E%A5%E8%AF%B4%E6%98%8E">https://github.com/cloudreve/Cloudreve/wiki/Onedrive%E5%AF%B9%E6%8E%A5%E8%AF%B4%E6%98%8E</a></p><h3 id="å¢åŠ ä¸ƒç‰›äº‘ã€é˜¿é‡Œäº‘ã€åˆæ‹äº‘"><a href="#å¢åŠ ä¸ƒç‰›äº‘ã€é˜¿é‡Œäº‘ã€åˆæ‹äº‘" class="headerlink" title="å¢åŠ ä¸ƒç‰›äº‘ã€é˜¿é‡Œäº‘ã€åˆæ‹äº‘"></a>å¢åŠ ä¸ƒç‰›äº‘ã€é˜¿é‡Œäº‘ã€åˆæ‹äº‘</h3><p>ã€€ã€€è¿™äº›é…ç½®ç›¸å¯¹ç®€å•ï¼Œçœç•¥â€¦â€¦</p>]]></content>
    
    
    <categories>
      
      <category>é—²è¨€ç¢è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>è¾¹å›°æ‰°ç€ï¼Œè¾¹å‰è¿›</title>
    <link href="/read/108.html"/>
    <url>/read/108.html</url>
    
    <content type="html"><![CDATA[<p>æœ‰æ—¶å€™ï¼Œä½ ä¼šä¸ä¼šå¸Œæœ›</p><p>æœ‰äººèƒ½å‘Šè¯‰ä½ ï¼Œæ€ä¹ˆåšæ‰æ˜¯æ­£ç¡®çš„</p><p>ä½“é¢çš„å·¥ä½œ</p><p>å¯é çš„å¯¹è±¡</p><p>ç¾å¥½çš„æœªæ¥</p><span id="more"></span><p>å¥½åƒäººç”Ÿæœ‰ä¸€ä¸ªæ ‡å‡†ç­”æ¡ˆ</p><p>æˆ‘ä»¬éƒ½æƒ³å¾—åˆ°æ›´é«˜çš„åˆ†æ•°</p><p>å¯æ˜¯äººç”Ÿè¿™å›äº‹ï¼Œå“ªæœ‰ä»€ä¹ˆè€æ‰‹</p><p>æˆ‘ä»¬éƒ½æ˜¯ç¬¬ä¸€æ¬¡ä¸Šåœº</p><p>ä¸è¿‡å°±æ˜¯è¾¹å›°æ‰°ç€ï¼Œè¾¹å‰è¿›å§</p><blockquote><p>â€œä½ çŸ¥é“äººç±»æœ€å¤§çš„æ­¦å™¨æ˜¯ä»€ä¹ˆå—ï¼Ÿâ€ â€œæ˜¯è±å‡ºå»çš„å†³å¿ƒã€‚â€</p></blockquote><blockquote><p>å‡è®¾æˆ‘æŠ½åˆ°äº†é»‘æ¡ƒ10ï¼Œé‚£ä¹ˆåˆ°åº•è¯¥å°±æ­¤åœæ‰‹ï¼Œè¿˜æ˜¯ç»§ç»­æŠ½å‘¢ï¼Œå¦‚æœæ˜¯ä½ ï¼Œç›¸ä¿¡ä¹Ÿä¼šå¾ˆå›°æƒ‘å§ï¼Ÿ10è¿™ä¸ªæ•°å­—ï¼Œè¯´å¤§ä¸å¤§è¯´å°ä¸å°çš„ï¼Œä¸‹ä¸€å¼ è¯´ä¸å®šä¼šæŠ½åˆ°æ›´å¥½çš„ç‰Œã€‚å¦‚æœæŠ½åˆ°Aï¼Œæˆ–æ˜¯4ï¼Œå°±ä¸ä¼šè¿™ä¹ˆçƒ¦æ¼äº†ã€‚</p></blockquote><blockquote><p>â€”â€”ã€Šé‡‘è‰²æ¢¦ä¹¡ã€‹</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>é—²è¨€ç¢è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>cnBeta.COM 2019å¹´æ–°å¹´çŒ®è¯</title>
    <link href="/read/107.html"/>
    <url>/read/107.html</url>
    
    <content type="html"><![CDATA[<blockquote><h3 id="å„ä½äº²çˆ±çš„è®¿å®¢æœ‹å‹ï¼šæ–°å¹´å¥½ï¼"><a href="#å„ä½äº²çˆ±çš„è®¿å®¢æœ‹å‹ï¼šæ–°å¹´å¥½ï¼" class="headerlink" title="å„ä½äº²çˆ±çš„è®¿å®¢æœ‹å‹ï¼šæ–°å¹´å¥½ï¼"></a>å„ä½äº²çˆ±çš„è®¿å®¢æœ‹å‹ï¼šæ–°å¹´å¥½ï¼</h3></blockquote><blockquote><p>æˆ‘ä»¬ä» 2006 å¹´å¼€å§‹è¿ç»­ 12 å¹´ï¼Œä»¥ä¸€ç¯‡çŒ®è¯ä½œä¸ºæ–°ä¸€å¹´çš„èµ·ç‚¹ï¼Œä»Šå¹´ä¹Ÿä¸ä¾‹å¤–ã€‚ä½†ä»Šå¹´å› ä¸ºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œç»§ç»­å†™ä¸€ç¯‡è¡Œç¤¼å¦‚ä»ªçš„æ–‡ç« ï¼Œä¸ä»…å¤§å®¶ä¸è§å¾—ä¼šèµè¯†ï¼Œè¿æˆ‘è‡ªå·±ä¹Ÿéƒ½æ„å…´é˜‘çŠã€‚æ‰€ä»¥ï¼Œä»¥ä¸‹çš„æ–‡å­—ï¼Œä¸å…¶è¯´æ˜¯æ€»ç»“è¿‡å»å±•æœ›æœªæ¥ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ä»½åœ¨å›°éš¾å¹´ä»£çš„ç”Ÿå­˜æŒ‡å—ï¼ŒåŒæ—¶ä¹Ÿå†™ç»™æˆ‘è‡ªå·±ï¼Œå¹¶ä¸å¤§å®¶å…±å‹‰ã€‚</p></blockquote><span id="more"></span><h2 id="è¿‡å»çš„å¥½æ—¶å…‰"><a href="#è¿‡å»çš„å¥½æ—¶å…‰" class="headerlink" title="è¿‡å»çš„å¥½æ—¶å…‰"></a>è¿‡å»çš„å¥½æ—¶å…‰</h2><p>ã€€ã€€â€œä¸–ç•Œæ­£é¢ä¸´ç™¾å¹´æœªæœ‰ä¹‹å¤§å˜å±€â€ã€‚è™½ç„¶ä»æƒå¨äººå£«è®²â€œLå½¢â€è‡³ä»Šå·²ç»æœ‰å‡ å¹´æ—¶é—´ï¼Œæˆ‘ç›¸ä¿¡å¤§å¤šæ•°äººè¿˜æ²¡æœ‰åšå¥½è¿‡è‹¦æ—¥å­çš„å‡†å¤‡ï¼Œå› ä¸ºè¿™å’Œæˆ‘ä»¬ç”Ÿé•¿èµ·æ¥çš„ç¯å¢ƒéå¸¸ä¸åŒã€‚</p><p>ã€€ã€€å¦‚æœä½ å’Œæˆ‘ä¸€æ ·æ˜¯ 80-90-00 åï¼Œä½ ä¸€å®šä¸é™Œç”Ÿä¸€äº›å…¬ä¼—å·çˆ†æ¬¾æ–‡ç« çš„è®ºè°ƒï¼šæˆ‘ä»¬çš„çˆ¶æ¯è¾ˆæˆé•¿äºæåº¦åŒ®ä¹ä¸­ï¼Œå› æ­¤ä»–ä»¬è‡ªç§ï¼Œå–œæ¬¢å›¤ç§¯ä¸œè¥¿ï¼Œå¯¹å®¶æ—å†…å¤–åŒé‡æ ‡å‡†ï¼Œéµå¾ªä¼ ç»Ÿç¤¼æ•™æ¡æ¢ï¼Œè€Œè¿™é€ å°±äº†è®¸å¤šå®¶åº­æ‚²å‰§ã€‚ä½œä¸ºåè¾ˆï¼Œæˆ‘ä»¬å¯ä¸èƒ½åƒä»–ä»¬é‚£æ ·ï¼Œäº‘äº‘ã€‚</p><p>ã€€ã€€ä¸ç®¡ä½ æ˜¯å¦èµåŒè¿™ç§è®ºè°ƒï¼Œä½†æˆ‘ä»¬æˆé•¿äºä¸€ä¸ªåŸºæœ¬ä¸Šè¿˜ç®—å¯Œè¶³çš„ç¤¾ä¼šï¼Œ<strong>æˆ‘ä»¬æœ‰èƒ½åŠ›å»æ€è€ƒé™¤äº†åƒé¥±è‚šå­ä¹‹å¤–æ›´â€œé«˜å±‚æ¬¡â€çš„è¯é¢˜ï¼Œè¿™å¯èƒ½æ˜¯å¾ˆå¤šäººéƒ½è®¤åŒçš„ã€‚</strong></p><p>ã€€ã€€åœ¨æ¼«é•¿çš„äººç±»å†å²ä¸Šï¼Œç»å¤§éƒ¨åˆ†æ—¶é—´ï¼Œäººç±»éƒ½æ´»åœ¨å¯æ‚²çš„æˆ˜ä¹±ã€è´«ç©·å’Œä¸è‡ªç”±ä¸­ï¼›åƒè¿‘å‡ åå¹´è¿™æ ·ï¼Œå…¨çƒæ€»ä½“ä¸Šè¿æ¥è¾ƒé•¿æœŸçš„å’Œå¹³ã€ç¹è£ä¸å¼€æ”¾ï¼Œæ˜¯æå…¶ç½•è§çš„ã€‚</p><p>ã€€ã€€å‡ ä¹è¿ç»­çš„ä¸‰æ¬¡ç§‘æŠ€é©å‘½æ”¯æ’‘äº†è¿™æ®µéš¾å¾—çš„å¢é•¿æ—¶å…‰ï¼Œä»¥è‡³äºç¦å±±å¯ä»¥åœ¨ 80 å¹´ä»£æœ«æå‡ºâ€œå†å²çš„ç»ˆç»“â€è®ºï¼ˆä»–ç°åœ¨å·²ç»å¼€å§‹åæ€è¿™ä¸ªè®ºç‚¹ï¼‰ã€‚ç°ä»Šç¤¾ä¼šçš„ä¸»åŠ›ç”Ÿäº 1980 å¹´ä»£æˆ–å¾€åï¼ŒåŸºæœ¬æ²¡æœ‰ä»€ä¹ˆå…³äºè‹¦éš¾çš„ç«¥å¹´è®°å¿†ã€‚</p><p>ã€€ã€€â€œä»“å»ªå®è€ŒçŸ¥ç¤¼èŠ‚â€ã€‚åœ¨å…¨çƒåŒ–åŸºç¡€ä¸Šï¼Œä¸€äº›æ— å…³è‡ªèº«æ¸©é¥±ï¼Œå¹¶è¶…è¶Šäº†æœ¬åœ°ç¤¾åŒºçš„ï¼Œçº¯ç²¹åˆ©ä»–å’Œå›½é™…ä¸»ä¹‰çš„æ€æ½®å¾—ä»¥å…´èµ·ã€‚ç¤¾ä¼šåˆ†å±‚ä»ç²—ç²åˆ°ç»†è…»ï¼Œæ€§åˆ«ã€ç§æ—ã€æ€§å–å‘ç­‰åŸæœ¬â€œå°ä¼—â€çš„é—®é¢˜å¾—åˆ°æ›´å¤šå…³ç…§ï¼Œä¸€äº›çœ‹ä¼¼ç‰¢ä¸å¯ç ´çš„â€œç¥–å®—ä¹‹æ³•â€ä¹Ÿæ‘‡æ‘‡æ¬²å èµ·æ¥ã€‚</p><p>ã€€ã€€å©šå§»å®¶åº­è§‚åœ¨å˜åŒ–ã€‚çº¯ç²¹åŸºäºå®¶åº­æ¡ä»¶çš„â€œé—¨å½“æˆ·å¯¹â€ä»¥åŠç›¸äº²éƒ½ä¸å†æ—¶å…´ï¼Œç”šè‡³æœ‰äººå‘¼å”¤ä¼ ç»Ÿå©šå§»å…³ç³»çš„è§£ä½“ã€‚â€œå…»å„¿é˜²è€â€ä¹Ÿä¸è¡Œäº†ï¼Œå­©å­æ˜¯ç‹¬ç«‹çš„ä¸ªä½“ï¼Œå®¶é•¿ä¸èƒ½å†è¦æ±‚å…»è‚²è¦â€œæ”¶å›æˆæœ¬â€ã€‚</p><p>ã€€ã€€æ²‰æººäºè™šæ‹Ÿäº’åŠ¨ï¼ŒåŠ ä¸Šé¡¾å½±è‡ªæ€œå¼çš„â€œçˆ±æ— èƒ½â€ï¼Œè®©æ–°ç”Ÿä»£çš„æˆ‘ä»¬äº§ç”Ÿäº†æ›´å¤šç‹¬è‡ªç”Ÿæ´»å’Œæ¶ˆè´¹çš„éœ€æ±‚ã€‚ä¸€ä¸ªäººåƒé¥­ï¼Œçœ‹ç”µå½±ï¼Œå”±Kâ€¦â€¦è¦äº¤å‹ï¼Œä¹Ÿæ˜¯ä¸Šç½‘æ‰¾å®Œå…¨åˆå¿ƒæ„çš„â€œåŒæ¸©å±‚â€ï¼Œæˆ–æ˜¯å¹²è„†æ‰¾èµ·äº†â€œçˆ±è±†â€å’Œâ€œçº¸ç‰‡äººâ€ã€‚è€—è´¹èƒ½é‡ï¼Œç›¸äº’å¦¥ååœ°å’ŒçœŸäººäº’åŠ¨ï¼Œå»ºç«‹é•¿ä¹…è”ç³»ï¼Œä¼¼ä¹å˜å¾—è¶Šæ¥è¶Šä¸å¿…è¦ã€‚</p><p>ã€€ã€€<strong>å…¶å®ƒä¸€äº›ä¸ºé˜²ä¸æ—¶ä¹‹éœ€æ‰€åšçš„â€œå†—ä½™å¤‡ä»½â€ä¹Ÿæ˜¯è¯´æ‰”å°±æ‰”ã€‚</strong>2008 å¹´çš„å¤§éƒ¨åˆ†ä¸­å›½äººä¾ç„¶æœ‰æé«˜çš„å‚¨è“„ç‡ï¼Œè¿è€å¸ˆä¸Šè¯¾éƒ½æ˜¯è¿™ä¹ˆè®²çš„ã€‚10 å¹´ä¹‹åä¸€å›å¤´ï¼ŒçŒ›ç„¶å‘ç°ï¼Œåˆ«è¯´å‚¨è“„äº†ï¼Œè¿â€œå…­ä¸ªé’±åŒ…â€éƒ½æ‚‰æ•°æç©ºï¼ŒçŒ®ç»™äº†æˆ¿å­ã€‚</p><p>ã€€ã€€ç¯é¡¾å››å‘¨ï¼Œå¾ˆå¤šå¹´è½»äººèƒŒè´Ÿç€æ²‰é‡çš„æˆ¿è´·ï¼Œå·²ç»æ¯«ä¸ç¨€å¥‡ã€‚æ‰€æœ‰è¿˜æ²¡æœ‰è¿˜å®Œæ‰€æœ‰å€ºåŠ¡çš„äººï¼Œä»–ä»¬çš„æ—¥å¸¸ç”Ÿæ´»éƒ½ç›¸å½“ç´§ç»·ï¼Œå®¹ä¸å¾—è´¢åŠ¡ä¸Šå‡ºç°åŠç‚¹é—ªå¤±ï¼Œä¸€æ—¦é•¿æœŸå¤±ä¸šï¼Œæ²¡æœ‰æ”¶å…¥ï¼ŒåŸæœ¬è§„åˆ’å¥½çš„å¹¸ç¦ç”Ÿæ´»éƒ½ä¼šæ¯äºä¸€æ—¦ã€‚</p><p>ã€€ã€€è‡³äºæ—©å‡ å¹´çš„â€œå¤§ä¼—åˆ›ä¸šâ€æ½®ï¼Œæˆ‘ä»¬å·²ç»è¿ç»­å¤šå¹´è¯´è¿‡ï¼Œæ­¤åˆ»ä¹Ÿæ— éœ€å†æã€‚ä½†æ˜¯ï¼Œé’å¹´å’Œä¸­å¹´è‹¥æ˜¯è¯¯å…¥ P2P è´·æ¬¾æ·±å‘ï¼Œè€å¹´äººè‹¥æ˜¯æ·±é™·ä¼ é”€éª—å±€ï¼Œåˆ™é€ æˆçš„æŸå¤±æ›´å¤§æ›´æƒ¨ï¼Œæ›´éš¾ä»¥æŒ½å›ã€‚2018 è¿™ä¸€å¹´ï¼Œæ— æ•°æ­£ç›´ã€å–„è‰¯ã€è€å®çš„æ™®é€šäººå’ŒèƒŒåæ•´ä¸ªå®¶åº­å› æ­¤æ²¦é™·ï¼Œä»¤äººæ— æ¯”ç—›å¿ƒã€‚</p><p>ã€€ã€€ä»…ä»…æ˜¯â€œç”Ÿäºå®‰ä¹â€ï¼Œè¶³ä»¥è®©æˆ‘ä»¬æ•´æ•´ä¸€ä»£äººï¼ŒæŠŠè‡ªå·±æµ®å…‰æ å½±çš„ç”Ÿæ´»ï¼Œå»ºç«‹åœ¨ä¸€ä¸ªæ·±æ·±ä¾èµ–ç»æµæŒç»­å¢é•¿ï¼Œæ”¶å…¥æŒç»­æ”¹å–„çš„åŸºç¡€ä¸Šã€‚è¿™æ ·çš„åŸºç¡€ï¼Œæ˜¯ä½•ç­‰çš„è„†å¼±ã€‚</p><hr><h2 id="æ ¹æœ¬æ€§çš„æ”¹å˜"><a href="#æ ¹æœ¬æ€§çš„æ”¹å˜" class="headerlink" title="æ ¹æœ¬æ€§çš„æ”¹å˜"></a>æ ¹æœ¬æ€§çš„æ”¹å˜</h2><p>ã€€ã€€ç°åœ¨ï¼Œæˆ‘ä»¬ç»ˆäºè¦åšå¥½é˜²å†²å‡»å§¿åŠ¿ï¼Œå‡†å¤‡è¿æ¥ä¹Ÿè®¸æ˜¯ç”Ÿå‘½ä¸­ç¬¬ä¸€ä¸ªçœŸæ­£çš„é€†å¢ƒï¼Œå»æƒ³è¿‡å»ä¸æ„¿æƒ³ï¼Œè§‰å¾—ä¸å¯èƒ½å‘ç”Ÿçš„äº‹ã€‚</p><p>ã€€ã€€å®è§‚å±‚é¢ï¼Œæˆ‘ä»¬ä¸å¤šè®¨è®ºã€‚ç„¶è€Œï¼Œå…·ä½“åˆ°æ¯ä¸ªäººçš„åˆ‡èº«åˆ©ç›Šï¼Œ<strong>â€œè£å‘˜â€ä¸¤å­—æˆä¸ºç»•ä¸è¿‡å»çš„ä¸€ä¸ªåå„¿ã€‚</strong></p><p>ã€€ã€€ã€Šåå¤æ—¶æŠ¥ã€‹çš„æŠ¥é“ç§°ï¼Œä» 2018 å¹´ 10 æœˆå¼€å§‹ï¼ŒåŒ—äº¬æ¯å¤©ç™»æŠ¥æ³¨é”€çš„å…¬å¸æœ‰ 2000 å®¶å·¦å³ï¼Œæ­¤å‰æ¯å¤©æœ€å¤šä¹Ÿä¸è¶…è¿‡ 500 å®¶ã€‚æ®ä¸å®Œå…¨ç»Ÿè®¡ï¼Œä¸Šæµ·ã€å¹¿å·ã€æ·±åœ³ç­‰ä¸€çº¿åŸå¸‚å…¬å¸æ³¨é”€æ•°é‡ï¼Œå’ŒåŒ—äº¬åŸºæœ¬æŒå¹³ã€‚</p><p>ã€€ã€€å·¥ä½œå²—ä½æ•°é‡æŒç»­ä¸‹é™ï¼Œæ„å‘³ç€æˆ‘ä»¬ç»´æŒåœ¨ä»¥å¾€çš„ç”Ÿæ´»æ°´å¹³å’Œç¤¾ä¼šå±‚çº§ä¸Šè¶Šæ¥è¶Šéš¾ï¼Œç”šè‡³ç«äº‰çƒˆåº¦åŠ å‰§äº†ï¼Œå´è¿é¥­ç¢—éƒ½ä¿ä¸ä½ã€‚</p><p>ã€€ã€€åˆ›æ–°ä¹åŠ›å¸¦æ¥çš„å¢é•¿è¡°é€€ï¼Œè®©åŸæœ¬çš„äº’åˆ©å¤šèµ¢å˜ä¸ºé›¶å’Œæ¸¸æˆï¼Œè¿™æ„å‘³ç€äººä¸äººï¼Œå›½ä¸å›½ï¼Œç¤¾ä¼šå„å‚ä¸è€…ä¹‹é—´çº·çº·<strong>æ”¶èµ·äº†åŸæœ¬æ¸©æƒ…çš„é¢å­”ï¼Œæ‘©æ“¦å¢å¤šï¼Œæˆ¾æ°”æ¨ªè¡Œã€‚</strong></p><p>ã€€ã€€ç¤¾ä¼šä¸»æµæ€æ½®å°†æ›´å€¾å‘é—­å…³è‡ªå®ˆï¼Œæ”¾å¼ƒé‚£äº›ç»†è…»çš„åˆ†å±‚ï¼Œå¯¹å°ä¼—äººç¾¤çš„å…³ç…§ï¼Œå› ä¸ºå†ä¹Ÿè´Ÿæ‹…ä¸èµ·ã€‚åƒæ³•å›½â€œé»„èƒŒå¿ƒâ€ä¸€æ ·ï¼Œè¶Šæ¥è¶Šå¤šæ¥è‡ªåº•å±‚çš„åæŠ—ï¼Œåªæ˜¯ä¸ºäº†è§£å†³æœ€åŸºæœ¬çš„åƒé¥­é—®é¢˜ã€‚ä¸–ç•Œä»å…¨çƒåŒ–çš„é«˜ç©ºä¸­ç °ç„¶å åœ°ã€‚</p><p>ã€€ã€€å¯¹æ¯ä¸ªäººè€Œè¨€ï¼Œè¡°é€€æ„å‘³ç€<strong>æ‰€æœ‰äººéƒ½åªä¸ºè‡ªå·±ï¼Œæ”¶èµ·å–„æ„ï¼ŒæŒç»­åˆ©ä»–çš„åŠ¨æœºä¸å¤å­˜åœ¨ã€‚</strong>å½“è‡ªä¿éƒ½æˆé—®é¢˜çš„æ—¶å€™ï¼Œè°éƒ½æ²¡æœ‰å¤šä½™çš„çˆ±å¿ƒåŒ€ç»™åˆ«äººï¼Œæœ¬æ¥å°±æ˜¯æ€€ç–‘è®ºçš„äººä¼šå¾—æ„äºâ€œåŠæ—¶æ­¢æŸâ€ï¼Œè€Œæ›´å¤šäººåˆ™é™·å…¥åŠ é€Ÿæ’¤é€€å’Œäº’ç›¸è¸©è¸ã€‚</p><p>ã€€ã€€è¿‡å»ä¸€å¹´ï¼Œæ˜¯ä»€ä¹ˆåˆºç—›äº†æˆ‘ä»¬çš„ç¥ç»ï¼Œä¼¤åŠäº†æˆ‘ä»¬æœ€ä¸ºçè§†çš„å®‰å…¨æ„Ÿï¼Ÿç­”æ¡ˆä¹Ÿè®¸æœ‰å¾ˆå¤šï¼Œä½†é‡åº†é‚£è¾†ä»å¤§æ¡¥å å…¥é•¿æ±Ÿçš„å…¬äº¤è½¦ï¼Œç›¸ä¿¡è‚¯å®šæ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚</p><p>ã€€ã€€äº‹æ•…ä¸€ç»å‘ç”Ÿï¼Œå¤§é‡ç°åœºä¿¡æ¯è¢«å¹¿æ³›ä¼ æ’­ï¼Œä»¥è‡´äººå¿ƒæƒ¶æƒ¶ã€‚ç„¶è€Œå‡ºäºäººç±»çš„è‡ªä¿æœºåˆ¶ï¼Œæˆ‘ä»¬ä¼šå¾ˆå¿«å¿˜è®°å¤§å¤šæ•°äº‹ä»¶çš„å†²å‡»ï¼Œåªæœ‰äº‹ä»¶å—å®³è€…å’Œå®¶å±ä»¬ï¼Œæ‰¿å—æ°¸æ— æ­¢å¢ƒçš„å¤±å»å’Œæ‚²ä¼¤ã€‚å°½ç®¡ä½ æœ‰æœºä¼šä¸Šçƒ­æœï¼Œä½†æœ€ç»ˆæ‰¿æ‹…ä¸€åˆ‡çš„è¿˜æ˜¯ä½ è‡ªå·±ã€‚</p><p>ã€€ã€€è™½ç„¶æˆ‘ä»¬è¿˜èƒ½çœ‹åˆ°æœ‰äº›ç¾¤ä½“ï¼Œæ¯”å¦‚åœ¨æ ¡å­¦ç”Ÿï¼Œå¯èƒ½ä¾ç„¶æ²‰æµ¸åœ¨ç®€å•æ¸©é¦¨çš„æ—¥å¸¸ç”Ÿæ´»é‡Œï¼Œä¹Ÿå¯ä»¥å› ä¸ºæ›´å®å¤§çš„è®®é¢˜è€Œå…´å¥‹ï¼›ä½†è¿™ææ€•æºäºä»–ä»¬ä»ç„¶è¡£é£Ÿæ— å¿§ï¼Œè¿˜æ²¡æœ‰ç»å—ç¤¾ä¼šçš„ä¸¥å³»è€ƒéªŒã€‚é‚£ç§è€ƒéªŒçš„é™ä¸´ï¼Œå°†å¯èƒ½è®©ä»–ä»¬ä¸€å¤œä¹‹é—´å®Œå…¨ã€å½»åº•åœ°æ”¹å˜æƒ³æ³•ã€‚</p><p>ã€€ã€€æ—©ä¸€ç‚¹äº§ç”Ÿå±æœºæ„Ÿï¼Œæ˜¯å¥½äº‹ã€‚</p><hr><h2 id="æ— æœ›çš„â€œè‡ªæˆ‘æå‡â€"><a href="#æ— æœ›çš„â€œè‡ªæˆ‘æå‡â€" class="headerlink" title="æ— æœ›çš„â€œè‡ªæˆ‘æå‡â€"></a>æ— æœ›çš„â€œè‡ªæˆ‘æå‡â€</h2><p>ã€€ã€€1930 å¹´ä»£â€œå¤§è§æ¡â€æœŸé—´ï¼Œå¤§éƒ¨åˆ†ç¾å›½äººé™·å…¥å›°çª˜ï¼Œä¸æ˜¯å› ä¸ºä»–ä»¬èƒ½åŠ›ä¸è¶³ï¼Œè€Œæ˜¯å› ä¸ºä»–ä»¬èµ–ä»¥ç”Ÿå­˜çš„å¤§ç¯å¢ƒï¼Œå’ŒåŸºäºæ­¤å»ºæ„å‡ºæ¥çš„ç”Ÿå­˜ç»éªŒï¼Œå‘ç”Ÿäº†æ ¹æœ¬æ”¹å˜ã€‚</p><p>ã€€ã€€è¿™äº›è¢«æ”¹å˜çš„ç”Ÿå­˜ç»éªŒé‡Œï¼Œå…¶ä¸­å°±æœ‰è¿™ä¹ˆä¸€æ¡â€”â€”</p><p>ã€€ã€€<strong>å¯„å¸Œæœ›äºè‡ªæˆ‘æå‡ï¼ŒçŸ¥è¯†ç§¯ç´¯ï¼Œå……å…¶é‡åªèƒ½é™¶å†¶æ€§æƒ…ï¼Œå¯¹æ”¹å–„å¢ƒé‡å…¶å®æ²¡å¤šå¤§å¸®åŠ©ã€‚</strong>æœ‰å­¦é¾„å­©å­çš„å®¶é•¿ï¼Œå¦‚æœæƒ³è®©å­©å­éµå¾ªè€ƒå¥½å¤§å­¦â€”â€”æ‰¾å¥½å·¥ä½œçš„è·¯çº¿ï¼Œä¹Ÿå°†è¶Šæ¥è¶Šç©ä¸è½¬ã€‚</p><p>ã€€ã€€åŸæœ¬åªè¦ä½ æŒæ¡æ›´å¤šæŠ€èƒ½ï¼Œæ¯”åˆ«äººä¼šçš„æ›´å¤šï¼Œå°±èƒ½ä¿è¯æœ‰æ›´å¥½çš„å·¥ä½œï¼Œæ›´é«˜çš„æ”¶å…¥ã€‚å¦‚æœè¿æ°”ä¸å¥½çš„è¯ï¼Œæœªæ¥å¯èƒ½ä¸ç®¡ä½ æ€æ ·åŠªåŠ›ï¼Œæœ€åçš„ç»“å±€è·Ÿé‚£äº›æ›¾ç»çœ‹ä¸èµ·çš„â€œç¤¾ä¼šåº•å±‚â€ä¹Ÿå·®ä¸å¤ªå¤šã€‚</p><p>ã€€ã€€å½“å¹´ï¼Œåœ¨ç¾å›½å¤§è¡—ä¸Šæœ‰è¥¿è£…é©å±¥çš„æ±‚èŒè€…æŒ‚ç‰Œå†™é“ï¼šâ€œæˆ‘æ‡‚ä¸‰é—¨æ‰‹è‰ºï¼Œä¼šä¸‰é—¨è¯­è¨€ï¼Œå¤±ä¸šä¸‰ä¸ªæœˆï¼Œåªæƒ³æ‰¾ä¸€ä»½å·¥ä½œã€‚â€</p><p>ã€€ã€€è€Œå¤§å¤šæ•°æ›¾ä»äº‹å…‰é²œä½“é¢æ´»è®¡çš„äººï¼Œå”¯ä¸€èƒ½åšçš„å°±æ˜¯æ¨¡ä»¿ä¸Šç­ä¸€æ ·ï¼Œæ¯å¤©å‡†ç‚¹ç©¿ç€å¥—è£…å‡ºé—¨ï¼Œå“ªæ€•åªæ˜¯å‡ºå»é—²é€›ï¼Œæˆ–æ˜¯åˆ°æ²¡äººè®¤è¯†è‡ªå·±çš„åœ°æ–¹ï¼Œè„±ä¸‹å¥—è£…è®¨é¥­åƒã€‚</p><p>ã€€ã€€è§æ¡æ„å‘³ç€ä¼ è¯´ä¸­çš„â€œäººäººå¹³ç­‰â€ï¼Œå°±æ˜¯ä¼šä»¥è¿™æ ·ä¸€ç§æ®‹é…·çš„æ–¹å¼å®ç°ã€‚</p><p>ã€€ã€€ä»Šå¤©ï¼Œè¶Šæ¥è¶Šå¤šçš„äººæŠ¥åæŠ¥ç­ï¼Œå……å®è‡ªå·±ï¼Œå¸Œæœ›æŒæ¡ä¸€äº›æ–°æ‰‹è‰ºï¼Œæ–°æŠ€èƒ½ï¼Œè®©è‡ªå·±å˜æˆæ‰€è°“â€œUç›˜åŒ–ç”Ÿå­˜â€ã€‚ä¸ç®¡æ–°ä¸œå®¶æ˜¯è°ï¼Œéƒ½èƒ½æŠŠè‡ªå·±æˆåŠŸâ€œå–å‡ºå»â€ã€‚</p><p>ã€€ã€€ä¸€äº›è€ç”Ÿå¸¸è°ˆç‰¹åˆ«â€œä¸§â€çš„å…¬ä¼—å·æ–‡ç« å†™åˆ°æœ€åï¼Œå®åœ¨æ²¡æ³•æ”¶å°¾äº†ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä»¥â€œå……å®è‡ªæˆ‘â€â€œè¡ŒåŠ¨â€â€œæ‰“å¡â€å¼ºè¡Œç»“æŸã€‚</p><p>ã€€ã€€ä½†æ˜¯ï¼Œ<strong>è¿™ä¹Ÿè®¸åªèƒ½è®©å„è·¯â€œçŸ¥è¯†ä»˜è´¹â€çš„å¸ƒé“å¸ˆè·ç›Š</strong>â€”â€”â€œU ç›˜â€å£å·çš„æå‡ºè€…ç½—æŒ¯å®‡ï¼Œä¹Ÿç…§ä¾‹ä¼šåœ¨ä»Šå¹´çš„è·¨å¹´å¤œç›´æ’­è‡ªå·±çš„è®²åº§ã€‚</p><p>ã€€ã€€è¿™ç§ç”¨çŸ¥è¯†å¡«è¡¥ç„¦è™‘çš„æƒ…æ™¯ä¸å½“å¹´ä¹Ÿéå¸¸ç±»ä¼¼ï¼Œåªæ˜¯å½“å¹´å¥½æ­¹è¿˜æ²¡æœ‰è¿™ä¹ˆå¤šè´©å–çŸ¥è¯†çš„äººã€‚1933 å¹´ï¼Œç¾å›½å›¾ä¹¦é¦†åä¼šä¼°è®¡ï¼Œè‡ª 1929 å¹´ä»¥æ¥æ–°å¢çš„å€Ÿä¹¦äººå¤§çº¦åœ¨ 200-300 ä¸‡ä¹‹é—´ï¼Œè€Œæ€»çš„å›¾ä¹¦æµé€šå¢é•¿äº†å°†è¿‘ 50%ã€‚</p><p>ã€€ã€€ç›´ç™½çš„è¯´ï¼Œè¿™å°±å¥½åƒä¸€ç¾¤å¥³å­©æ ‘ç«‹äº†ä¸€ä¸ªä»·å€¼è§‚ï¼ˆä¸è®ºæ­£ä¸æ­£ç¡®ï¼‰ï¼Œå°±æ˜¯è¦æ—©æ—©çš„æŠŠè‡ªå·±æ‰“æ‰®å¥½ï¼Œè®©è‡ªå·±â€œå–ç›¸å¥½â€ç„¶åèƒ½â€œå«ä¸ªå¥½äººå®¶â€ã€‚</p><p>ã€€ã€€å¥¹ä»¬å¼€å§‹å‰èµ´åç»§ç»ƒå‡ºé©¬ç”²çº¿å’Œç¿˜è‡€ï¼Œç‡ƒçƒ§å¡è·¯é‡Œï¼Œå¹¶å¯åŠ¨äº†æ®‹é…·çš„å†…éƒ¨ç«äº‰ã€‚ç„¶è€Œï¼Œå¥¹ä»¬è¿™ä¹ˆæ‹¼ï¼Œæœ€ç»ˆèƒ½å–æ‚¦è°å‘¢ï¼Ÿâ€œå¥½ç”·äººâ€çš„å‘éƒ½æ²¡å‡ ä¸ªå¥½å äº†ï¼Œç»ƒå†å¤šä¹Ÿæ²¡æœ‰ç”¨ã€‚</p><p>ã€€ã€€ç°åœ¨è§‰å¾—è‡ªå·±å·¥ä½œä¸å¤Ÿå¥½ï¼Œæˆ–è€…åˆšåˆšè¢«è£ï¼Œæ€»æƒ³ç€é€šè¿‡â€œæ”¹å˜è‡ªå·±ï¼Œè‡ªæˆ‘æå‡â€æ¥æ”¹å–„å¢ƒé‡çš„äººï¼Œä¸ä¸Šé¢è¿™ä¸ªæ¯”å–»ä½•å…¶ç›¸ä¼¼ï¼</p><p>ã€€ã€€å°±ç®—ä½ å†æ€ä¹ˆè‡ªæˆ‘åŠªåŠ›ï¼Œè¶…å¸¸è§„å‘æŒ¥ï¼Œä¸ä¹Ÿåªæ˜¯åœ¨ä¸€å¤§æ‰¹åŒç­‰å®åŠ›çš„åŒé¾„äººå½“ä¸­è‡ªç›¸æ®‹æ€ï¼ŒæŠ«è†æ–©æ£˜ï¼Œåªä¸ºäº†ä¿ä½è‡ªå·±åŸæ¥çš„ç›¸å¯¹åœ°ä½å—ï¼Ÿ</p><p>ã€€ã€€é€šè¿‡æå‡å¤§å®¶çš„åŠ ç­æ ‡å‡†åˆ°996ï¼Œå†åˆ°10106ï¼Œä¸€ç‚¹ä¸€ç‚¹é€¼è¿«æ‰€æœ‰äººä»˜å‡ºæœ¬ä¸åº”è¯¥ä»˜å‡ºçš„ä»£ä»·ï¼Œä¿ä½ä¸€ä¸ªä¹Ÿè®¸æ˜¯æå…¶æ™®é€šçš„èŒä½ï¼Œ<strong>è¿™å°±æ˜¯èŒåœºç«äº‰çš„â€œå†…å·åŒ–â€</strong>ã€‚</p><p>ã€€ã€€ä¸€å¤§æ‰¹æ‰æƒ…ç›¸ä¼¼ï¼Œèƒ½åŠ›é«˜è¶…çš„äººï¼Œåœ¨ä¸€ä¸ªé¡ºé‚çš„æ—¶ä»£é‡Œï¼Œæœ¬åº”è¯¥è¿‡å¾—èˆ’èˆ’æœæœï¼Œåº”è¯¥è·å¾—ä¸è‡ªå·±èƒ½åŠ›ç›¸ç§°çš„å›æŠ¥ï¼Œå´æ— å¥ˆéœ€è¦åœ¨å†…å·çš„è‡ªç›¸æ®‹æ€ä¸­ï¼Œç™½ç™½è€—è´¹ç”Ÿå‘½å’Œæ‰å¹²ã€‚</p><p>ã€€ã€€å¨å»‰Â·æ›¼å½»æ–¯ç‰¹çš„ã€Šå…‰è£ä¸æ¢¦æƒ³ã€‹ä¸€ä¹¦ä¸­å†™é“ï¼šâ€œä¸­äº§é˜¶çº§è·Œè½è¿…é€Ÿå¾—ä»¤äººå¿ƒç—›ã€‚åœ¨åŠ åˆ©ç¦åˆ©äºšæ°´åº“å¹²ç²—æ´»çš„å·¥äººä¸­ï¼Œæœ‰å¥½å¤šæ˜¯å†œåœºä¸»ã€ç‰§å¸ˆã€å·¥ç¨‹å¸ˆï¼Œè¿˜æœ‰ä¸€ä½æ˜¯ä¸­å­¦æ ¡é•¿å’Œä¸€ä¸ªå¯†è‹é‡Œå·æŸé“¶è¡Œçš„å‰ä»»è¡Œé•¿ã€‚â€</p><p>ã€€ã€€æˆ‘æƒ³ï¼Œä»Šåå¦‚æœå‡ºç°å¹¼å„¿å›­è€å¸ˆéƒ½è¦æ±‚åšå£«åå­¦å†ï¼Œæˆ–è€…ä¸€ä¸ªçœ‹å¤§é—¨çš„ä¹Ÿå¾—æœ¬ç§‘211-985ï¼Œæˆ–ä¸ä¹‹ç±»ä¼¼çš„æƒ…å†µï¼Œä¹Ÿè®¸ä¸€ç‚¹éƒ½ä¸å¥‡æ€ªã€‚</p><hr><h2 id="ä¸çœŸå®ç”Ÿæ´»ä¸­çš„äººäº¤æœ‹å‹"><a href="#ä¸çœŸå®ç”Ÿæ´»ä¸­çš„äººäº¤æœ‹å‹" class="headerlink" title="ä¸çœŸå®ç”Ÿæ´»ä¸­çš„äººäº¤æœ‹å‹"></a>ä¸çœŸå®ç”Ÿæ´»ä¸­çš„äººäº¤æœ‹å‹</h2><p>ã€€ã€€å…ˆåˆ«æ€¥ç€é—®â€œé‚£æˆ‘ä»¬å°±æ´»è¯¥æ‰¾ä¸åˆ°å·¥ä½œå—ç©·å—ï¼Ÿâ€è¿™æ ·çš„é—®é¢˜ã€‚</p><p>ã€€ã€€ä¸ºä»€ä¹ˆæˆ‘ä»¬ç°åœ¨ä¸å¤ªèƒ½å¿å—çªç„¶ä¹‹é—´èŠ‚çœå¤ªå¤šå¼€æ”¯ï¼Œçªç„¶â€œå˜ç©·â€çš„ç”Ÿæ´»å‘¢ï¼Ÿå…¶ä¸­ä¸€ä¸ªåŸå› ï¼Œæˆ‘ç›¸ä¿¡æ˜¯<strong>æˆ‘ä»¬æœ‰å¤ªå¤šç”Ÿæ´»ä¸Šçš„ä¾¿åˆ©å’Œå®‰æ…°ï¼Œè¿‡å»æ˜¯é€šè¿‡èŠ±é’±è´­ä¹°çš„æ–¹å¼è·å–çš„ã€‚</strong></p><p>ã€€ã€€ç‰©è´¨å’Œç²¾ç¥é£Ÿç²®çš„ä¸°å¯Œï¼Œè´­ä¹°åŠ›çš„ç›¸å¯¹æå‡ï¼Œä¹Ÿè®©æˆ‘ä»¬è¶Šå‘å­¤ç‹¬ã€‚</p><p>ã€€ã€€è‘—åçš„â€œé‚“å·´æ•°â€è§„å®šäº†æˆ‘ä»¬åªèƒ½å’Œæœ€å¤š 150 äººç»´æŒç´§å¯†çš„äººé™…å…³ç³»ï¼Œä¹Ÿå°±æ˜¯æŒ‡æˆ‘ä»¬â€œçŸ¥é“å¯¹æ–¹æ˜¯è°â€å¹¶ä¸”äº†è§£è‡ªå·±å’Œå¯¹æ–¹ä¹‹é—´çš„å…³ç³»ã€‚</p><p>ã€€ã€€ç„¶è€Œï¼Œæˆ‘ä»¬æŠŠè¿™ 150 äººé…é¢ä¸­çš„ä¸€å¤§éƒ¨åˆ†æ‹¿å‡ºæ¥ï¼Œè´¡çŒ®ç»™äº†æˆ–çœŸå®ã€æˆ–è™šæ‹Ÿã€æˆ–æ˜æ˜Ÿã€æˆ–è‰æ ¹çš„è¿œç¨‹å¶åƒã€‚<strong>è¿½æ˜Ÿåƒç“œåˆ·æŠ–éŸ³ï¼ŒæŒ¤å äº†ç°å®ç”Ÿæ´»ä¸­çš„äººé™…å…³ç³»ã€‚</strong></p><p>ã€€ã€€ç”±ç¾å›½å…¨å›½ç§‘å­¦åŸºé‡‘ä¼šèµ„åŠ©ï¼Œæœå…‹å¤§å­¦å®æ–½çš„è·Ÿè¸ªè°ƒæŸ¥æ˜¾ç¤ºï¼Œ1985 å¹´æ—¶ç¾å›½äººå¹³å‡è¯´è‡ªå·±æœ‰ 3 ä¸ªäº²å¯†æœ‹å‹ã€‚è¿™ä¸€æ•°å­—åœ¨æ–°åƒå¹´ä¼Šå§‹é™åˆ° 2ï¼Œåˆ° 2014 å¹´å·²ç»æ˜¯ 0 ã€‚</p><p>ã€€ã€€<strong>äº§ç”Ÿäºç½‘ç»œä¸Šï¼Œæš‚æ—¶æ²¡æœ‰èµ°åˆ°â€œå¥”ç°â€è¿™ä¸€æ­¥çš„å…³ç³»ï¼Œå¤šæ•°æ˜¯â€œèœ»èœ“ç‚¹æ°´â€</strong>ï¼Œä¸€æ—¦å°±æŸä¸ªè®®é¢˜äº§ç”Ÿé‡å¤§åˆ†æ­§ï¼Œå†·å¤„ç†ä¸€é˜µï¼Œå‘ç°å¯¹æ–¹ä¸ä½ å°±è¿™ä¹ˆæ–­äº†è”ç³»ã€‚</p><p>ã€€ã€€<strong>è€Œè‡³äºè¿œç¦»åœ°é¢çš„å®ä½“æˆ–è™šæ‹Ÿå¶åƒï¼Œåˆ™æ›´æ˜¯ä¸€ç§èŠ±é’±ç ¸å‡ºæ¥çš„å¹»æ¢¦</strong>ï¼Œä»–/å¥¹æ— æ³•é’ˆå¯¹ä½ ä¸ªäººçš„å›°æƒ‘ï¼Œç»™å‡ºå…·ä½“çš„ï¼ŒçœŸåˆ‡å¯æ„Ÿçš„å…³æ€€ã€‚</p><p>ã€€ã€€å¦‚æœä½ å¯ä»¥æˆåŠŸâ€œè‡ªæˆ‘å‚¬çœ â€å°†å¶åƒè¨€è¡Œå¼ºè¡Œè§£è¯»ä¸ºç»™è‡ªå·±è¯´çš„è¯ï¼Œä¹Ÿè®¸è¿˜å¥½ï¼›ä½†ä½ æœ€å¥½ç¥ˆç¥·è¿™ä½çœŸäººå¶åƒåƒä¸‡åˆ«â€œç³Šâ€äº†ï¼Œæˆ–è€…ä½ è¿½çš„åŠ¨ç”»/æ¼«ç”»æ²¡å®Œç»“æ²¡â€œè¿‡æ°”â€ã€‚ä¸ç„¶ï¼Œè¿˜æ˜¯é€ƒè„±ä¸äº†ä¿¡ä»°å´©å¡Œã€‚</p><p>ã€€ã€€é™Œç”Ÿçš„äººä¸äººä¹‹é—´çš„å…³ç³»åœ¨é™æ¸©ï¼Œç¤¾ä¼šå˜å¾—ä¸å†å‹å–„ã€‚æ‰€ä»¥ï¼Œä½ å¿…é¡»ä»å¯¹ä¸å›ºå®šä»–äººçš„å‹å¥½ï¼Œå¯¹å®å¤§å™äº‹çš„å…³æ€€ä¸­é€€å‡ºï¼Œé€€å›åˆ°è‡ªå·±å’Œèº«è¾¹æœ€äº²å¯†çš„äººå½¢æˆçš„åœˆå­é‡Œã€‚</p><p>ã€€ã€€â€”â€”è¿™ä¸ªæœ€äº²å¯†çš„äººï¼Œå½“ç„¶ä¸å¿…é¡»æ˜¯ä½ çš„çˆ¶æ¯äº²å±ï¼Œå¦‚æœæš‚æ—¶æ²¡æœ‰å¦ä¸€åŠä¹Ÿä¸ç”¨æ€¥ç€æ‰¾ã€‚åªæ˜¯ï¼Œä¸ªäººè¦å°½é‡<strong>å°‘ä¸äººäº¤æ¶ï¼Œå¤šäº¤ç°å®ä¸­çš„æœ‹å‹ï¼Œæˆ–è€…ä¸€å¯¹ä¸€çš„ï¼Œæœ‰çº¿ä¸‹äº¤æµæ½œåŠ›çš„ç½‘å‹</strong>ï¼Œå°‘å°†ç²¾åŠ›æ”¾åœ¨å•æ–¹é¢çš„æƒ…æ„Ÿä»˜å‡ºï¼Œå’Œæ¼«æ— è¾¹é™…çš„æµè§ˆä¸Šã€‚</p><p>ã€€ã€€ä¸ä¸äººäº‰åµï¼Œå¯¹æœ‰åˆ©å®³å…³ç³»çš„äººï¼Œæ¯”å¦‚ä¸Šä¸‹çº§ï¼Œå¯ä»¥é¿å…è¿‡å¿«é€æ”¯â€œç¤¾äº¤è´§å¸â€ï¼Œç»™è‡ªå·±æœªæ¥åŸ‹ä¸‹éšå¿§ï¼›å¯¹ç´ ä¸ç›¸è¯†çš„äººï¼Œå¯ä»¥å°½é‡å‡å°‘ä½ é‡åˆ°ä¸€ä¸ªåç¤¾ä¼šäººæ ¼çš„ç–¯å­ï¼Œæˆ–åˆºæ¿€ä»–çˆ†å‘å‡ºæ¥çš„å‡ ç‡ã€‚</p><p>ã€€ã€€è€Œé‚£äº›çœŸå®å¯è§¦çš„å‹è°Šå’Œæƒ…æ„Ÿï¼Œä¹Ÿå°†æ›´ç»å¾—èµ·æ—¶é—´çš„è€ƒéªŒã€‚</p><p>ã€€ã€€æ¥è‡ªç½‘ç»œçš„å‹å–„å¯èƒ½æ— è¿œå¼—å±Šï¼Œä½†å¦‚æœä½ é‡‡ä¿¡äº†è¿™ç§å‹å–„ï¼Œå®ƒä¸€æ—¦è½¬åŒ–ä¸ºç½‘ç»œæš´åŠ›ï¼Œä¼¤å®³ä¹Ÿå°†æ›´ç”šã€‚</p><p>ã€€ã€€ä½ ä¸å¯èƒ½åªé€‰æ‹©ç›¸ä¿¡ç½‘ä¸ŠèµåŒä½ çš„é‚£éƒ¨åˆ†å£°éŸ³ã€‚å¦‚æœä½ é€‰æ‹©å¯¹ç½‘ç»œæ‰¹è¯„å’Œæš´åŠ›ä¸å±‘ä¸€é¡¾ï¼Œé‚£ç½‘å‹ä»¬å¯¹ä½ èµç¾çš„æ•ˆåŠ›ä¹Ÿä¼šè¡°å‡ã€‚</p><p>ã€€ã€€ä¿¡ä»»æ˜¯ä¿æŒäººé™…å…³ç³»é•¿ä¹…çš„åŸºçŸ³ï¼Œä½†ä¿¡ä»»èƒ½å¤Ÿå»ºç«‹çš„å‰æï¼Œæ˜¯ä½ è¦çŸ¥é“ä½ ä»¬æœªæ¥ä¼šæœ‰é‡å¤çš„äº’åŠ¨ã€‚åªæœ‰ä¸ªäººä¸ä¸ªäººä¹‹é—´è¿›è¡Œçš„åŒå‘äº’åŠ¨ï¼Œæ‰èƒ½é¿å…ä¸ä¿¡ä»»çš„åŠ å‰§æ‰©æ•£ã€‚</p><p>ã€€ã€€<strong>èº«è¾¹äººæœ€é‡è¦ï¼Œæ˜¯æ”¯æ’‘è‡ªå·±èµ°ä¸‹å»çš„æœ€å¤§åŠ¨åŠ›</strong>ã€‚è¶Šæ˜¯åœ¨è‰°éš¾çš„æ—¶åˆ»ï¼Œä»–ä»¬è¶Šèƒ½è®©ä½ æŠ±å›¢å–æš–ï¼Œäº‰å–æ´»ä¸‹æ¥ï¼Œçœ‹åˆ°æœªæ¥çš„æ›™å…‰ã€‚</p><p>ã€€ã€€æœ€åï¼Œâ€œç©·åˆ™ç‹¬å–„å…¶èº«ï¼Œè¾¾åˆ™å…¼æµå¤©ä¸‹â€ã€‚å¦‚æœä½ è¿˜æœ‰é‚£ä¹ˆä¸€ä»½å¯¹è¿œå¤§å¿—å‘å’Œç¾å¥½å‰ç¨‹çš„æœŸå¾…ï¼Œåœ¨ä½ å°šä¸èƒ½å®ç°å®ƒçš„æ—¶å€™ï¼Œè¯·å°†å…¶åŸ‹è—äºå¿ƒåº•ï¼Œå¹¶<strong>åƒä¸‡ä¸è¦å¿˜è®°ä½ çš„åˆå¿ƒ</strong>ã€‚</p><p>ã€€ã€€ç¥å¤§å®¶åœ¨æ–°çš„ä¸€å¹´é‡Œï¼Œä¾ç„¶å¹³å®‰å–œä¹ã€‚</p><p>LJ æ‰§ç¬”</p><p>cnBeta.COM å…¨ä½“æˆå‘˜</p><p>è½¬è½½è‡ªï¼š<a href="https://www.cnbeta.com/articles/tech/803761.htm" title="cnBeta 2019æ–°å¹´è´ºè¯">cnBeta 2019æ–°å¹´è´ºè¯</a> ã€åŸæ–‡å·²åˆ ã€‘</p>]]></content>
    
    
    <categories>
      
      <category>é—²è¨€ç¢è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å…±äº«ä¸€æ³¢å¦¹å­å›¾</title>
    <link href="/read/106.html"/>
    <url>/read/106.html</url>
    
    <content type="html"><![CDATA[<p>æ²¡ä»€ä¹ˆå†™çš„</p><p>å‰ä¸¤å¤©åœ¨V2çœ‹åˆ°ä¸€ä¸ªå¤§ä½¬ç”¨çˆ¬è™«çˆ¬äº†30+Gçš„å¦¹å­å›¾<br>é¿å…èµ„æºå¤±æ•ˆï¼Œæˆ‘ä¹Ÿcopyäº†ä¸€ä»½ï¼Œå“ˆå“ˆå“ˆ<br>ç°ç‰¹å…±äº«å‡ºæ¥ï¼Œæœ‰ç¼˜çœ‹åˆ°çš„å¤§ä½¬æ¬¢è¿è‡ªå–</p><span id="more"></span><p>æ¥æºï¼š<a href="https://www.v2ex.com/t/515687">https://www.v2ex.com/t/515687</a></p><p>æˆ‘æ‰“åŒ…ä¸‹è½½åˆ°ç½‘ç›˜äº†ï¼Œå¯ä»¥åœ¨çº¿æµè§ˆç¼©ç•¥å›¾ï¼Œé‡åˆ°å–œæ¬¢çš„ä¹Ÿå¯ä»¥å•å¼ ä¸‹è½½~</p><blockquote><p>æ®ç§‘å­¦ç ”ç©¶è¡¨æ˜ï¼Œå¤šçœ‹ç¾å¥³å¯ä»¥å»¶å¹´ç›Šå¯¿ï¼Œå“ˆå“ˆ_(:Ğ·ã€âˆ )_</p></blockquote><p>å…ˆéšä¾¿æ”¾å‡ å¼ å‡‘æ•°</p><p><img src="https://wuyang.ws/%E5%85%B1%E4%BA%AB/%E5%9B%BE%E7%89%87/%E5%A6%B9%E5%AD%90%E5%9B%BE/2084_721/%E5%8E%9A%E5%8E%9A%E7%9A%84%E6%AF%9B%E8%A1%A3/%E5%8E%9A%E5%8E%9A%E7%9A%84%E6%AF%9B%E8%A1%A3%20%281%29.jpg?proxied&thumbnail=largeSquare"></p><p><img src="https://wuyang.ws/%E5%85%B1%E4%BA%AB/%E5%9B%BE%E7%89%87/%E5%A6%B9%E5%AD%90%E5%9B%BE/2158_441/%E5%81%A5%E8%BA%AB%E6%88%BF%E7%9A%84%E7%BE%8E%E5%B0%91%E5%A5%B3/%E5%81%A5%E8%BA%AB%E6%88%BF%E7%9A%84%E7%BE%8E%E5%B0%91%E5%A5%B3%20%282%29.JPG?proxied&thumbnail=largeSquare"></p><p><img src="https://wuyang.ws/%E5%85%B1%E4%BA%AB/%E5%9B%BE%E7%89%87/%E5%A6%B9%E5%AD%90%E5%9B%BE/20180310144844_3571/%E6%B5%B4%E7%BC%B8%E9%87%8C%E7%9A%84%E7%99%BD%E4%B8%9D/%E6%B5%B4%E7%BC%B8%E9%87%8C%E7%9A%84%E7%99%BD%E4%B8%9D%20%282%29.JPG?proxied&thumbnail=largeSquare"></p><h2 id="ç½‘ç›˜åœ°å€ï¼šLink"><a href="#ç½‘ç›˜åœ°å€ï¼šLink" class="headerlink" title="ç½‘ç›˜åœ°å€ï¼šLink"></a>ç½‘ç›˜åœ°å€ï¼š<a href="https://wuyang.ws/%E5%85%B1%E4%BA%AB/%E5%9B%BE%E7%89%87/" title="Link">Link</a></h2><p><del>psï¼šç½‘ç›˜å³ä¸‹è§’æŒ‰é’®å¯åˆ‡æ¢åˆ°çœ‹å›¾æ¨¡å¼ï¼ˆåˆ—è¡¨å’Œé¢„è§ˆéƒ½æ˜¯ç¼©ç•¥å›¾ï¼ŒåŸå›¾éœ€è¦ç‚¹ä¸‹è½½æŒ‰é’®æˆ–è€…è®¿é—®ä¸‹è½½é“¾æ¥ï¼‰</del><br>ç¨‹åºæ¢äº†ï¼Œæš‚æ— è¿™ä¸ªåŠŸèƒ½</p>]]></content>
    
    
    <categories>
      
      <category>é—²è¨€ç¢è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ºä»€ä¹ˆç°åœ¨å¾ˆå°‘æœ‰ç”·ç”Ÿè¿½å¥³ç”Ÿäº†ï¼Ÿ</title>
    <link href="/read/105.html"/>
    <url>/read/105.html</url>
    
    <content type="html"><![CDATA[<p>æˆ‘å‘äº†ä¸€ä¸ªè¯·æ±‚,</p><p>è¯·æ±‚æ–¹å¼ã€å‚æ•°ã€è·¯å¾„å†™çš„å¾ˆæ¸…æ¥šäº†ï¼Œå¹¶ä¸”è¯·æ±‚äº†å¾ˆå¤šæ¬¡ï¼</p><p>å¥¹å¹¶æ²¡æœ‰å“åº”æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä¸çŸ¥é“æ€ä¹ˆæ˜¾ç¤ºæ•°æ®ï¼Œç»§ç»­åˆå‘äº†è¯·æ±‚ï¼Œå¥¹å“åº”äº†ä¸ª404ï¼Œæˆ‘è§‰å¾—æˆ‘çš„è·¯å¾„æœ‰é—®é¢˜ã€‚</p><p>ç»å¥¹é—ºèœœæŒ‡ç‚¹ï¼Œæˆ‘åº”è¯¥å…ˆå’Œå¥¹æˆä¸ºå¥½æœ‹å‹ã€‚</p><span id="more"></span><p>è¿™æ¬¡æˆ‘æ¢äº†ä¸ªå‚æ•°ï¼šæƒ…äººèŠ‚é‚£å¤©å‘äº†ä¸ª520ï¼Œè¿™æ¬¡ç»™æˆ‘å“åº”äº†ï¼Œç™»ä¸Šä¸»é¡µé¢äº†ï¼Œæ˜Ÿå·´å…‹å’–å•¡å…ï¼Œå½“é¢äº†è§£äº†ä¸‹ï¼Œå›å®¶æˆ‘å¯¹æˆ‘å„ç§çŠ¶å†µè¿›è¡Œäº†å¢åˆ æŸ¥æ”¹ã€‚</p><p>éš”äº†å‡ å¤©åˆå‘äº†è¯·æ±‚ï¼Œè¿™æ¬¡å¥¹æ˜¾ç¤ºæƒé™ä¸è¶³ï¼Œæˆ‘åˆåœ¨è‡ªèº«æ‰¾bugã€‚</p><p>ä¸ç»æ„é—´å‘ç°æœ‰å¥½å‡ ä¸ªäººåŒæ—¶å†ç»™å¥¹å‘è¯·æ±‚ï¼Œä¸”éƒ½å¾—åˆ°å›åº”äº†!</p><p>æœ€åæˆ‘çŸ¥é“æˆ‘è¿™æ ·çš„åˆçº§ç¨‹åºçŒ¿æ— æ³•ç›´è§†è¿™æ ·çš„é«˜å¹¶å‘çš„é—®é¢˜ï¼Œä¸èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨!</p><p>è½¬è½½è‡ªï¼š<br><a href="http://www.coaadmin.cn/life/why-are-few-boys-chasing-girls-now.html" title="ä¸ºä»€ä¹ˆç°åœ¨å¾ˆå°‘æœ‰ç”·ç”Ÿè¿½å¥³ç”Ÿäº†ï¼Ÿ">ä¸ºä»€ä¹ˆç°åœ¨å¾ˆå°‘æœ‰ç”·ç”Ÿè¿½å¥³ç”Ÿäº†ï¼Ÿ</a><br><a href="http://www.789dl.cn/70.html" title="ä¸ºä»€ä¹ˆç°åœ¨å¾ˆå°‘æœ‰ç”·ç”Ÿè¿½å¥³ç”Ÿäº†ï¼Ÿ">ä¸ºä»€ä¹ˆç°åœ¨å¾ˆå°‘æœ‰ç”·ç”Ÿè¿½å¥³ç”Ÿäº†ï¼Ÿ</a></p>]]></content>
    
    
    <categories>
      
      <category>é—²è¨€ç¢è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æ’ä»¶æ›´æ–°ï¼šTypechoçš„Google Authenticatorä¸¤æ­¥éªŒè¯</title>
    <link href="/read/Typecho_Google_Authenticator_02.html"/>
    <url>/read/Typecho_Google_Authenticator_02.html</url>
    
    <content type="html"><![CDATA[<p>0.0.1ç‰ˆå¯æŸ¥çœ‹ä¹‹å‰çš„åšæ–‡<br><a href="https://cuojue.org/read/Typecho_Google_Authenticator.html">https://cuojue.org/read/Typecho_Google_Authenticator.html</a></p><h2 id="æœ¬ç‰ˆç‰¹ç‚¹"><a href="#æœ¬ç‰ˆç‰¹ç‚¹" class="headerlink" title="æœ¬ç‰ˆç‰¹ç‚¹"></a>æœ¬ç‰ˆç‰¹ç‚¹</h2><p>ç›¸å¯¹äº0.0.1ç‰ˆï¼Œ0.0.2ç‰ˆçš„éªŒè¯é€»è¾‘<strong>å…¨éƒ¨æ›´æ–°</strong>ï¼Œæ¨èå‡çº§ï¼<br>æ”¯æŒéªŒè¯æ€ä¿æŒï¼Œä¸€æ¬¡ç™»å½•åï¼Œåœ¨sessionæˆ–cookieæœ‰æ•ˆæœŸå†…æ— éœ€å†æ¬¡éªŒè¯<br>åºŸå¼ƒ0.0.1ä½¿ç”¨çš„ç™»å½•æ¥å£ï¼Œé‡‡ç”¨æ’ä»¶å†…æ³¨å†Œçš„Routeæ¥å¤„ç†otpï¼Œæ— éœ€ç­‰å¾…tpè¿”å›çš„2såéªŒè¯<br>åºŸå¼ƒ0.0.1ä½¿ç”¨çš„æ’å…¥ç‚¹<code>header</code>ï¼Œç›´æ¥é‡‡ç”¨<code>common</code>æ’å…¥</p><span id="more"></span><h4 id="å…¼å®¹æ‰€æœ‰ç¬¦åˆ-RFC6238-è§„èŒƒçš„AuthOTPè½¯ä»¶"><a href="#å…¼å®¹æ‰€æœ‰ç¬¦åˆ-RFC6238-è§„èŒƒçš„AuthOTPè½¯ä»¶" class="headerlink" title="å…¼å®¹æ‰€æœ‰ç¬¦åˆ RFC6238 è§„èŒƒçš„AuthOTPè½¯ä»¶"></a>å…¼å®¹æ‰€æœ‰ç¬¦åˆ <a href="https://tools.ietf.org/html/rfc6238" title="rfc6238">RFC6238</a> è§„èŒƒçš„AuthOTPè½¯ä»¶</h4><ul><li>Microsoft Authenticator</li><li>Google Authenticator</li><li>1Password</li><li>Authy</li><li>KeePass</li><li>LastPass</li><li>â€¦</li></ul><h4 id="åå°æˆªå›¾"><a href="#åå°æˆªå›¾" class="headerlink" title="åå°æˆªå›¾"></a>åå°æˆªå›¾</h4><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2018/11/2777331120.png" alt="åå°æˆªå›¾.png"></p><h4 id="éªŒè¯ç•Œé¢æˆªå›¾"><a href="#éªŒè¯ç•Œé¢æˆªå›¾" class="headerlink" title="éªŒè¯ç•Œé¢æˆªå›¾"></a>éªŒè¯ç•Œé¢æˆªå›¾</h4><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2018/11/86736268.png" alt="éªŒè¯ç•Œé¢æˆªå›¾.png"></p><h2 id="æ›´æ–°è¯´æ˜"><a href="#æ›´æ–°è¯´æ˜" class="headerlink" title="æ›´æ–°è¯´æ˜"></a>æ›´æ–°è¯´æ˜</h2><h4 id="0-0-6"><a href="#0-0-6" class="headerlink" title="0.0.6"></a>0.0.6</h4><ul><li>[change] ä½¿ç”¨ <code>jquery-qrcode</code> æ’ä»¶åœ¨æµè§ˆå™¨ç«¯ç”ŸæˆäºŒç»´ç (ä¸å†ä½¿ç”¨å¤–ç«™çš„APIæ¥ç”ŸæˆäºŒç»´ç ,ä¿è¯Keyçš„å®‰å…¨æ€§).</li></ul><h4 id="0-0-5"><a href="#0-0-5" class="headerlink" title="0.0.5"></a>0.0.5</h4><ul><li>[fix] ä¿®å¤å¯ç”¨æ’ä»¶500é”™è¯¯ï¼Œæ”¹ä¸ºä½¿ç”¨jQueryè·å–SecretKeyæ˜¾ç¤ºäºŒç»´ç </li></ul><h4 id="0-0-4"><a href="#0-0-4" class="headerlink" title="0.0.4"></a>0.0.4</h4><ul><li>[add] æ”¯æŒåå°ç›´æ¥æ˜¾ç¤ºäºŒç»´ç </li><li>[fix] ä¿®æ”¹ä¸ºä½¿ç”¨è”å›¾APIæ˜¾ç¤ºäºŒç»´ç </li><li>[fix] ä¿®å¤åšå®¢åç§°ä¸ºä¸­æ–‡æ—¶æ‰«æäºŒç»´ç æç¤ºé”™è¯¯</li><li>[fix] ä¿®å¤å¸è½½çš„æ—¶å€™æ²¡æœ‰åˆ é™¤è·¯ç”±</li><li>[fix] ç™»å½•æˆåŠŸåä¸»åŠ¨è®¿é—®è·¯ç”±åœ°å€ä¼šæ˜¾ç¤ºä¸€æ¡msg éªŒè¯å¤±è´¥</li></ul><h4 id="0-0-3"><a href="#0-0-3" class="headerlink" title="0.0.3"></a>0.0.3</h4><ul><li>[add] æ›´æ–°æ”¯æŒè®°ä½æœ¬æœº</li></ul><h4 id="0-0-2"><a href="#0-0-2" class="headerlink" title="0.0.2"></a>0.0.2</h4><ul><li>æ”¯æŒtypechoæœ€æ–°ç‰ˆ</li><li>æµç¨‹ä¼˜åŒ–,ç¬¦åˆå¤§å¤šæ•°ç½‘ç«™é€»è¾‘</li><li>å…ˆéªŒè¯ç™»å½•ä¿¡æ¯</li><li>ç„¶åå†éªŒè¯otp</li><li>ä¿®å¤æ’å…¥headerå¯¼è‡´çš„æ–°ç‰ˆcssé”™ä¹±</li><li>æ”¯æŒå¯†ç ç®¡ç†è½¯ä»¶è‡ªåŠ¨å¡«å…… (1passwordç­‰)</li></ul><h3 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h3><p>ä¸‹è½½æ’ä»¶ï¼Œä¿®æ”¹æ–‡ä»¶åä¸º<code>GAuthenticator</code>æ”¾åˆ°<code>/usr/plugins</code>ç›®å½•ï¼Œç„¶ååˆ°åå°å¯ç”¨</p><p>æ’ä»¶é»˜è®¤å…³é—­ï¼Œé¦–æ¬¡å¼€å¯éœ€è¦<strong>æ‰«æäºŒç»´ç ç»‘å®š</strong>ä¹‹å<strong>å¡«å†™æ‰‹æœºä¸Šæ˜¾ç¤ºçš„ä»£ç </strong>ï¼ŒéªŒè¯æˆåŠŸä¹‹åæ‰å¯ä»¥å¯ç”¨</p><h2 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h2><p><strong>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/weicno/typecho-Authenticator/releases" title="GitHub typecho Authenticator">GitHub</a></strong></p><h3 id="è¯·æ³¨æ„ï¼šä»0-0-1å‡çº§åˆ°0-0-2-ç‰ˆæœ¬éœ€è¦å¸è½½é‡æ–°å®‰è£…ï¼"><a href="#è¯·æ³¨æ„ï¼šä»0-0-1å‡çº§åˆ°0-0-2-ç‰ˆæœ¬éœ€è¦å¸è½½é‡æ–°å®‰è£…ï¼" class="headerlink" title="è¯·æ³¨æ„ï¼šä»0.0.1å‡çº§åˆ°0.0.2+ç‰ˆæœ¬éœ€è¦å¸è½½é‡æ–°å®‰è£…ï¼"></a>è¯·æ³¨æ„ï¼šä»0.0.1å‡çº§åˆ°0.0.2+ç‰ˆæœ¬éœ€è¦å¸è½½é‡æ–°å®‰è£…ï¼</h3><hr><p>æœ‰ä»€ä¹ˆé—®é¢˜å¯ä»¥åœ¨æœ¬é¡µé¢å›å¤</p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é€‚ç”¨äºTypechoçš„Google AnalyticsåŠ é€Ÿæ’ä»¶</title>
    <link href="/read/typecho_plugin_ga.html"/>
    <url>/read/typecho_plugin_ga.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ˜¨å¤©åœ¨è…¾è®¯äº‘çš„æ— æœåŠ¡å™¨å‡½æ•°ä¸Šè¯•äº†ä¸€ä¸‹Google AnalyticsåŠ é€Ÿï¼Œå‘ç°è…¾è®¯äº‘çš„æ— æœåŠ¡å™¨å‡½æ•°åœ¨é•¿æ—¶é—´ä¸å…è®¸çš„æƒ…å†µä¸‹ä¼šå›æ”¶èµ„æºï¼Œå†æ¬¡è°ƒç”¨è¦é‡æ–°åŠ è½½ï¼Œé€Ÿåº¦ç‰¹åˆ«æ…¢ (&gt; 2s)ï¼Œå¯¹äºåšå®¢è¿™æ ·çš„å°ç«™æ¥è¯´ï¼Œä¸€å¤©éƒ½æ²¡å‡ ä¸ªäººè®¿é—®ï¼Œç»“æœä¸€èˆ¬æƒ…å†µä¸‹æ¯”ç›´æ¥åŠ è½½GAè¿˜æ…¢ï¼ˆï¼Ÿï¼Ÿï¼Ÿæˆ‘æ˜¯ä¸ºäº†åŠ é€Ÿæ‰ç”¨ä½ çš„å¥½å—ï¼Ÿä½ å´æ›´æ…¢äº†ï¼:roll:ï¼‰</p></blockquote><span id="more"></span><p><a href="https://cuojue.org/read/scf_for_ga.html">åˆ©ç”¨è…¾è®¯äº‘æ— æœåŠ¡å™¨å‡½æ•°åŠ é€ŸGoogle Analytics</a><br>æƒ³äº†è§£å¯ä»¥ç‚¹å‡»çœ‹çœ‹</p><hr><p>ä¸‹é¢æ­£é¢˜ï¼Œç”±äºä»¥ä¸Šé¡¹ç›®è¿‡äºå‘çˆ¹ã€‚é‡æ–°å†™äº†ä¸€ä¸ªåœ¨Typechoä¸‹ç›´æ¥ä½¿ç”¨çš„GAä»£ç†æ’ä»¶ï¼Œå¼‚æ­¥è¿”å›ï¼ˆå¦‚æœä½ çš„æœåŠ¡å™¨æ”¯æŒçš„è¯ï¼‰</p><p>ä¸‹è½½åå¤åˆ¶<code>GoogleAnalytics</code>æ–‡ä»¶å¤¹åˆ°<code>plugins</code><br>åœ¨åå°å®‰è£…åï¼Œå¡«å…¥ä½ çš„ è·Ÿè¸ª ID å³å¯</p><p>å¦‚æœä½ ä½¿ç”¨äº†PjaxåŠ è½½ï¼Œåœ¨Pjaxå›è°ƒå¡«å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">ga(<span class="hljs-built_in">window</span>,<span class="hljs-built_in">document</span>,navigator,location);<br></code></pre></td></tr></table></figure><p>å³å¯ç»Ÿè®¡å…¨ç«™</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/weicno/Typecho-GoogleAnalytics-Plugin" title="GitHub">GitHub</a></p><p>å‚è€ƒé“¾æ¥ï¼š<br><a href="https://www.bfdz.ink/2018/10/23/109/">https://www.bfdz.ink/2018/10/23/109/</a><br><a href="https://stneng.com/google-analytics-%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%EF%BC%88%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%AF%B7%E6%B1%82%EF%BC%89/">https://stneng.com/google-analytics-%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%EF%BC%88%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%AF%B7%E6%B1%82%EF%BC%89/</a></p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>åˆ©ç”¨è…¾è®¯äº‘æ— æœåŠ¡å™¨å‡½æ•°åŠ é€ŸGoogle Analytics</title>
    <link href="/read/scf_for_ga.html"/>
    <url>/read/scf_for_ga.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘é‡æ–°å¼€å§‹æ‰“ç†åšå®¢åï¼Œçœ‹åˆ°è‡ªå·±çš„gaç»Ÿè®¡éƒ½è¢«è‡ªå·±æµè§ˆå™¨æ’ä»¶è¿‡æ»¤äº†:?:é‡æ–°ç»™å¤„ç†ä¸€ä¸‹å§</p></blockquote><p>é¦–å…ˆæ˜¯çœ‹äº†çš„ BFDZ å¤§ä½¬çš„ <a href="https://www.bfdz.ink/2018/10/23/109/" title="Google Analytics åŠ è½½ä¼˜åŒ–">Google Analytics åŠ è½½ä¼˜åŒ–</a> ç„¶åç”¨äº†ä¸¤å¤©ï¼Œè§‰å¾—è¿˜ä¸é”™ï¼Œå‡†å¤‡è‡ªå·±å»ºä¸€ä¸ªï¼Œ<del>ä½†æ˜¯åˆä¸æƒ³å¤§å¼ æ——é¼“çš„éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šé¢</del> <em>ä¸»è¦æ˜¯å› ä¸ºç©·ï¼Œæ²¡é’±</em></p><span id="more"></span><p>ç„¶åçœ‹åˆ°è…¾è®¯äº‘çš„æ— æœåŠ¡å™¨å‡½æ•°æ­£åœ¨æµ‹è¯•ï¼Œç„¶åæ®è¯´ä»¥åè¿˜æ˜¯æœ‰å…è´¹é¢åº¦çš„ï¼Œè¹­ä¸€è¹­</p><blockquote><p>æ— æœåŠ¡å™¨äº‘å‡½æ•°ï¼ˆServerless Cloud Functionï¼ŒSCFï¼‰æ˜¯è…¾è®¯äº‘ä¸ºä¼ä¸šå’Œå¼€å‘è€…ä»¬æä¾›çš„æ— æœåŠ¡å™¨æ‰§è¡Œç¯å¢ƒï¼Œå¸®åŠ©æ‚¨åœ¨æ— éœ€è´­ä¹°å’Œç®¡ç†æœåŠ¡å™¨çš„æƒ…å†µä¸‹è¿è¡Œä»£ç ã€‚æ‚¨åªéœ€ä½¿ç”¨å¹³å°æ”¯æŒçš„è¯­è¨€ç¼–å†™æ ¸å¿ƒä»£ç å¹¶è®¾ç½®ä»£ç è¿è¡Œçš„æ¡ä»¶ï¼Œå³å¯åœ¨è…¾è®¯äº‘åŸºç¡€è®¾æ–½ä¸Šå¼¹æ€§ã€å®‰å…¨åœ°è¿è¡Œä»£ç ã€‚SCF æ˜¯å®æ—¶æ–‡ä»¶å¤„ç†å’Œæ•°æ®å¤„ç†ç­‰åœºæ™¯ä¸‹ç†æƒ³çš„è®¡ç®—å¹³å°ã€‚</p></blockquote><hr><p>##å…ˆåˆ›å»ºä¸€ä¸ªPHPçš„å‡½æ•°<br>ï¼ˆä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºPHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2018/11/1356262822.png" alt="1.png"></p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2018/11/789965526.png" alt="2.png"></p><p>##ç›´æ¥åœ¨çº¿ç¼–è¾‘å‡½æ•°ä»£ç </p><p>ä¿®æ”¹æ‰§è¡Œæ–¹æ³•ä¸º<code>index.ga</code><br>ç„¶ååœ¨ä»£ç æ¡†å¡«å…¥ä»¥ä¸‹ä»£ç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ga</span>(<span class="hljs-params"><span class="hljs-variable">$event</span>, <span class="hljs-variable">$context</span></span>)</span>&#123;<br><br>    <span class="hljs-comment">//æ‹¦æˆªå‚æ•°ä¸å®Œæ•´</span><br>    <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$event</span>-&gt;headers-&gt;referer) || <br>        !<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$event</span>-&gt;headers-&gt;&#123;<span class="hljs-string">&#x27;user-agent&#x27;</span>&#125;) || <br>        !<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;ga) || <br>        !<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;dt) || <br>        !<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;dr) ||  <br>        !<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;ul) ||  <br>        !<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;sd) ||  <br>        !<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;sr) ||  <br>        !<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;vp) || <br>        !<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;z))<br>    &#123;<br>        <span class="hljs-variable">$ret</span> = <span class="hljs-keyword">array</span>(<br>            <span class="hljs-string">&#x27;statusCode&#x27;</span>=&gt;<span class="hljs-number">403</span>,<br>            <span class="hljs-string">&#x27;headers&#x27;</span>=&gt;<span class="hljs-keyword">array</span>(<span class="hljs-string">&quot;content-type&quot;</span>=&gt;<span class="hljs-string">&quot;text/html&quot;</span>),<br>            <span class="hljs-string">&#x27;body&#x27;</span>=&gt;<span class="hljs-string">&#x27;403&#x27;</span>,<br>            <span class="hljs-string">&#x27;isBase64&#x27;</span>=&gt;<span class="hljs-literal">false</span><br>            );<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable">$ret</span>;<br>    &#125;<br><br>    <span class="hljs-comment">//å¤„ç†cookies</span><br>    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$event</span>-&gt;headers-&gt;cookie))&#123;<br>        <span class="hljs-variable">$cookies</span> = <span class="hljs-variable">$event</span>-&gt;headers-&gt;cookie;<br>        <span class="hljs-keyword">if</span>(stripos(<span class="hljs-variable">$cookies</span>,<span class="hljs-string">&#x27;;&#x27;</span>)===<span class="hljs-literal">false</span>)&#123;<br>            <span class="hljs-comment">//æœ¬åŸŸåä¸‹cookieåº”è¯¥åªå­˜åœ¨uuidä¸€ä¸ªå€¼</span><br>            <span class="hljs-variable">$array_uuid</span> = explode(<span class="hljs-string">&#x27;=&#x27;</span>,<span class="hljs-variable">$cookies</span>);<br>            <span class="hljs-keyword">if</span>(count(<span class="hljs-variable">$array_uuid</span>)==<span class="hljs-number">2</span> &amp;&amp; <span class="hljs-variable">$array_uuid</span>[<span class="hljs-number">0</span>]==<span class="hljs-string">&#x27;uuid&#x27;</span>)<span class="hljs-variable">$uuid</span> = <span class="hljs-variable">$array_uuid</span>[<span class="hljs-number">1</span>];<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-comment">//cookieè¢«æäº¤äº†å¤šä¸ªå€¼,åˆ†å‰²å€¼</span><br>            <span class="hljs-variable">$array_cookie</span> = explode(<span class="hljs-string">&#x27;;&#x27;</span>,<span class="hljs-variable">$cookies</span>);<br>            <span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$array_cookie</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$value</span>)&#123;<br>                <span class="hljs-variable">$array_uuid</span> = explode(<span class="hljs-string">&#x27;=&#x27;</span>,<span class="hljs-variable">$value</span>);<br>                <span class="hljs-keyword">if</span>(count(<span class="hljs-variable">$array_uuid</span>)==<span class="hljs-number">2</span> &amp;&amp; <span class="hljs-variable">$array_uuid</span>[<span class="hljs-number">0</span>]==<span class="hljs-string">&#x27;uuid&#x27;</span>)&#123;<br>                    <span class="hljs-variable">$uuid</span> = <span class="hljs-variable">$array_uuid</span>[<span class="hljs-number">1</span>];<br>                    <span class="hljs-keyword">break</span>;<span class="hljs-comment">//å–ç¬¬ä¸€ä¸ªuuid</span><br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$uuid</span>)) &#123;<br>        <span class="hljs-variable">$str</span> = md5(uniqid(mt_rand(), <span class="hljs-literal">true</span>));<br>        <span class="hljs-variable">$uuid</span> = substr(<span class="hljs-variable">$str</span>,<span class="hljs-number">0</span>,<span class="hljs-number">8</span>) . <span class="hljs-string">&#x27;-&#x27;</span>;<br>        <span class="hljs-variable">$uuid</span> .= substr(<span class="hljs-variable">$str</span>,<span class="hljs-number">8</span>,<span class="hljs-number">4</span>) . <span class="hljs-string">&#x27;-&#x27;</span>;<br>        <span class="hljs-variable">$uuid</span> .= substr(<span class="hljs-variable">$str</span>,<span class="hljs-number">12</span>,<span class="hljs-number">4</span>) . <span class="hljs-string">&#x27;-&#x27;</span>;<br>        <span class="hljs-variable">$uuid</span> .= substr(<span class="hljs-variable">$str</span>,<span class="hljs-number">16</span>,<span class="hljs-number">4</span>) . <span class="hljs-string">&#x27;-&#x27;</span>;<br>        <span class="hljs-variable">$uuid</span> .= substr(<span class="hljs-variable">$str</span>,<span class="hljs-number">20</span>,<span class="hljs-number">12</span>);<br>    &#125;<br><br>    <span class="hljs-variable">$url</span>=<span class="hljs-string">&#x27;v=1&amp;t=pageview&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;tid=&#x27;</span>.<span class="hljs-variable">$event</span>-&gt;queryString-&gt;ga.<span class="hljs-string">&#x27;&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;cid=&#x27;</span>.<span class="hljs-variable">$uuid</span>.<span class="hljs-string">&#x27;&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;dl=&#x27;</span>.rawurlencode(rawurldecode(<span class="hljs-variable">$event</span>-&gt;headers-&gt;referer)).<span class="hljs-string">&#x27;&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;uip=&#x27;</span>.rawurlencode(rawurldecode(<span class="hljs-variable">$event</span>-&gt;requestContext-&gt;sourceIp)).<span class="hljs-string">&#x27;&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;ua=&#x27;</span>.rawurlencode(rawurldecode(<span class="hljs-variable">$event</span>-&gt;headers-&gt;&#123;<span class="hljs-string">&#x27;user-agent&#x27;</span>&#125;)).<span class="hljs-string">&#x27;&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;dt=&#x27;</span>.rawurlencode(rawurldecode(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;dt)).<span class="hljs-string">&#x27;&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;dr=&#x27;</span>.rawurlencode(rawurldecode(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;dr)).<span class="hljs-string">&#x27;&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;ul=&#x27;</span>.rawurlencode(rawurldecode(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;ul)).<span class="hljs-string">&#x27;&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;sd=&#x27;</span>.rawurlencode(rawurldecode(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;sd)).<span class="hljs-string">&#x27;&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;sr=&#x27;</span>.rawurlencode(rawurldecode(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;sr)).<span class="hljs-string">&#x27;&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;vp=&#x27;</span>.rawurlencode(rawurldecode(<span class="hljs-variable">$event</span>-&gt;queryString-&gt;vp)).<span class="hljs-string">&#x27;&amp;&#x27;</span>;<br>    <span class="hljs-variable">$url</span>.=<span class="hljs-string">&#x27;z=&#x27;</span>.<span class="hljs-variable">$event</span>-&gt;queryString-&gt;z;<br>    <span class="hljs-variable">$url</span>=<span class="hljs-string">&#x27;https://www.google-analytics.com/collect?&#x27;</span>.<span class="hljs-variable">$url</span>;<br>    <span class="hljs-variable">$ch</span>=curl_init();<br>    curl_setopt(<span class="hljs-variable">$ch</span>, CURLOPT_URL, <span class="hljs-variable">$url</span>);<br>    curl_setopt(<span class="hljs-variable">$ch</span>, CURLOPT_RETURNTRANSFER, <span class="hljs-literal">true</span>);<br>    curl_exec(<span class="hljs-variable">$ch</span>);<br>    curl_close(<span class="hljs-variable">$ch</span>);<br><br>    <span class="hljs-variable">$extime</span> = date(DATE_COOKIE,time()+<span class="hljs-number">368400000</span>);<br>    <span class="hljs-variable">$ret</span> = <span class="hljs-keyword">array</span>(<br>        <span class="hljs-string">&#x27;statusCode&#x27;</span>=&gt;<span class="hljs-number">204</span>,<br>        <span class="hljs-string">&#x27;headers&#x27;</span>=&gt;<span class="hljs-keyword">array</span>(<br>            <span class="hljs-string">&quot;content-type&quot;</span>=&gt;<span class="hljs-string">&quot;image/jpg&quot;</span>,<br>            <span class="hljs-string">&quot;set-cookie&quot;</span>=&gt;<span class="hljs-string">&quot;uuid=<span class="hljs-subst">&#123;$uuid&#125;</span>; expires=<span class="hljs-subst">&#123;$extime&#125;</span>; path=/; HttpOnly&quot;</span><br>            ),<br>        <span class="hljs-string">&#x27;body&#x27;</span>=&gt;<span class="hljs-string">&#x27;is work&#x27;</span>,<br>        <span class="hljs-string">&#x27;isBase64&#x27;</span>=&gt;<span class="hljs-literal">false</span><br>        );<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable">$ret</span>;<br>&#125;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥ä¿å­˜æµ‹è¯•ä¸€ä¸‹ï¼Œåº”è¯¥ä¼šè¾“å‡º403ï¼Œå› ä¸ºæ²¡æœ‰é™„å¸¦å‚æ•°è¢«æ‹¦æˆªäº†</p><h2 id="è§¦å‘æ–¹å¼"><a href="#è§¦å‘æ–¹å¼" class="headerlink" title="è§¦å‘æ–¹å¼"></a>è§¦å‘æ–¹å¼</h2><p>æ·»åŠ ä¸€ä¸ªè§¦å‘æ–¹å¼ï¼Œé€‰æ‹©APIç½‘å…³è§¦å‘<br><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2018/11/1964014910.png" alt="3.png"></p><h2 id="å¯ç”¨å“åº”é›†æˆ"><a href="#å¯ç”¨å“åº”é›†æˆ" class="headerlink" title="å¯ç”¨å“åº”é›†æˆ"></a>å¯ç”¨å“åº”é›†æˆ</h2><p>é»˜è®¤æ·»åŠ APIç½‘å…³åå·²ç»å¯ä»¥è®¿é—®äº†ï¼Œä½†æ˜¯ä¼šè¾“å‡ºjsonï¼Œä¸ºäº†<del>ä¸–ç•Œçš„å’Œå¹³</del>ï¼Œæˆ‘ä»¬è¦è‡ªå®šä¹‰å“åº”å¤´ä¸º204åŠ å¿«ä¸€ä¸‹æµè§ˆå™¨çš„å¤„ç†é€Ÿåº¦<br>è¿›å…¥APIç½‘å…³ç¼–è¾‘ä¸€ä¸‹åˆšæ‰æ–°å»ºçš„ç½‘å…³<br><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2018/11/1765206485.png" alt="4.png"></p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2018/11/2293716392.png" alt="5.png"></p><p>é™¤äº†åç«¯è¿™é‡Œæ‰“é’©ï¼Œå…¶ä»–éƒ½é»˜è®¤ä¸ç”¨æ”¹ï¼ˆè²Œä¼¼è¿›è¿™ä¸ªé¡µé¢é»˜è®¤æ˜¯æ‰“é’©çš„ï¼‰ï¼Œç„¶åæäº¤</p><h4 id="æäº¤åè®°å¾—è¦å‘å¸ƒ"><a href="#æäº¤åè®°å¾—è¦å‘å¸ƒ" class="headerlink" title="æäº¤åè®°å¾—è¦å‘å¸ƒ"></a>æäº¤åè®°å¾—è¦å‘å¸ƒ</h4><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2018/11/1079453171.png" alt="6.png"></p><h2 id="ç»‘å®šè‡ªå®šä¹‰åŸŸå"><a href="#ç»‘å®šè‡ªå®šä¹‰åŸŸå" class="headerlink" title="ç»‘å®šè‡ªå®šä¹‰åŸŸå"></a>ç»‘å®šè‡ªå®šä¹‰åŸŸå</h2><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2018/11/3670626061.png" alt="7.png"></p><p>å¯ä»¥ç»‘å®šè‡ªå®šä¹‰åŸŸåå¹¶ä¸”æ”¯æŒSSLï¼Œå½“ç„¶å¤‡æ¡ˆæ˜¯å¿…é¡»çš„~</p><h2 id="å‰ç«¯åº”ç”¨"><a href="#å‰ç«¯åº”ç”¨" class="headerlink" title="å‰ç«¯åº”ç”¨"></a>å‰ç«¯åº”ç”¨</h2><p>åœ¨åˆé€‚çš„åœ°æ–¹æ’å…¥ä»¥ä¸‹JSä»£ç å³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ga</span>(<span class="hljs-params">a, b, c, d, e</span>) </span>&#123;<br><span class="hljs-keyword">var</span> f = c.screen,<br>g = <span class="hljs-built_in">encodeURIComponent</span>,<br>h = [<span class="hljs-string">&quot;ga=&quot;</span> + a, <span class="hljs-string">&quot;dt=&quot;</span> + g(d.title), <span class="hljs-string">&quot;dr=&quot;</span> + g(d.referrer), <span class="hljs-string">&quot;ul=&quot;</span> + (e.language || e.browserLanguage || e.userLanguage), <span class="hljs-string">&quot;sd=&quot;</span> + f.colorDepth + <span class="hljs-string">&quot;-bit&quot;</span>, <span class="hljs-string">&quot;sr=&quot;</span> + f.width + <span class="hljs-string">&quot;x&quot;</span> + f.height, <span class="hljs-string">&quot;vp=&quot;</span> + <span class="hljs-built_in">Math</span>.max(d.documentElement.clientWidth, c.innerWidth || <span class="hljs-number">0</span>) + <span class="hljs-string">&quot;x&quot;</span> + <span class="hljs-built_in">Math</span>.max(d.documentElement.clientHeight, c.innerHeight || <span class="hljs-number">0</span>), <span class="hljs-string">&quot;z=&quot;</span> + +<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>];<br>c.__ga_img = <span class="hljs-keyword">new</span> Image, c.__ga_img.src = b + <span class="hljs-string">&quot;?&quot;</span> + h.join(<span class="hljs-string">&quot;&amp;&quot;</span>)<br>&#125;<br>ga(<span class="hljs-string">&quot;UA-XXXXXX-1&quot;</span>, <span class="hljs-string">&quot;https://ga.cuojue.org/ga/ga/&quot;</span>, <span class="hljs-built_in">window</span>, <span class="hljs-built_in">document</span>, navigator, location);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆæˆ‘è¦æŠŠå‡½æ•°å°è£…ä»¥ä¸‹ç‹¬ç«‹å‡ºæ¥å‘¢ï¼Œå› ä¸ºç°åœ¨åšå®¢ç”¨çš„æ¨¡æ¿æ˜¯pjaxåŠ è½½çš„ï¼Œæ‰€ä»¥è¦åœ¨pjaxåŠ è½½å®Œæ¯•åå›è°ƒä¸€ä¸‹è¿™ä¸ªå‡½æ•°ï¼Œè®©æ¯ä¸ªé¡µé¢éƒ½ç»Ÿè®¡åˆ°</p><h2 id="ç»§ç»­æ”¹è¿›"><a href="#ç»§ç»­æ”¹è¿›" class="headerlink" title="ç»§ç»­æ”¹è¿›"></a>ç»§ç»­æ”¹è¿›</h2><p>ç°åœ¨å‡½æ•°æ˜¯åŒæ­¥è¿”å›çš„ï¼Œæœ‰ç©ºçœ‹ä¸‹æ”¹æˆå¼‚æ­¥æ‰§è¡ŒåŠ å¿«ä¸€ä¸‹é€Ÿåº¦~</p><hr><p>å‚è€ƒå†…å®¹ï¼š<br><a href="https://www.bfdz.ink/2018/10/23/109/">https://www.bfdz.ink/2018/10/23/109/</a></p><p><a href="https://stneng.com/google-analytics-%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%EF%BC%88%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%AF%B7%E6%B1%82%EF%BC%89/">https://stneng.com/google-analytics-%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%EF%BC%88%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%AF%B7%E6%B1%82%EF%BC%89/</a></p><p><a href="https://imququ.com/post/summary-of-my-blog-optimization.html#toc-2">https://imququ.com/post/summary-of-my-blog-optimization.html#toc-2</a></p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æ•´åˆTypechoè¯„è®ºé‚®ä»¶æé†’åŠ ä¸Šå¾®ä¿¡æ¨é€</title>
    <link href="/read/90.html"/>
    <url>/read/90.html</url>
    
    <content type="html"><![CDATA[<p>æ•´ç†åšå®¢çš„æ—¶å€™å‘ç°é‚®ä»¶ä¸ä¼šå‘é€äº†ï¼Œæ£€æŸ¥äº†ä¸€ä¸‹æ˜¯å¯ç”¨äº†<a href="https://yian.me/blog/php/typecho-plugin--comment2wechat.html" title="Comment2Wechat">Comment2Wechat</a> å¾®ä¿¡æ¨é€æ’ä»¶ä¹‹åå‡ºç°çš„ï¼Œç„¶åè¿™ä¸ªæ’ä»¶è¿˜æœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯è‡ªå·±è¯„è®ºçš„ä¹Ÿä¼šæ¨é€ï¼Œsoæ•´åˆä¸€ä¸‹æŠŠä¸¤ä¸ªæ’ä»¶åˆäºŒä¸ºä¸€</p><span id="more"></span><p>é¦–å…ˆä¿®æ”¹é…ç½®æ¥å£</p><p><code>/plugins/CommentToMail/Plugin.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$form</span>-&gt;addInput(<span class="hljs-variable">$titleForGuest</span>-&gt;addRule(<span class="hljs-string">&#x27;required&#x27;</span>, _t(<span class="hljs-string">&#x27;è®¿å®¢æ¥æ”¶é‚®ä»¶æ ‡é¢˜ ä¸èƒ½ä¸ºç©º&#x27;</span>)));<br></code></pre></td></tr></table></figure><p>ä¸‹é¢åŠ å…¥</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$key</span> = <span class="hljs-keyword">new</span> Typecho_Widget_Helper_Form_Element_Text(<span class="hljs-string">&#x27;sckey&#x27;</span>, <span class="hljs-literal">NULL</span>, <span class="hljs-literal">NULL</span>, _t(<span class="hljs-string">&#x27;SCKEY&#x27;</span>), _t(<span class="hljs-string">&#x27;SCKEY éœ€è¦åœ¨ &lt;a href=&quot;http://sc.ftqq.com/&quot;&gt;Serveré…±&lt;/a&gt; æ³¨å†Œ&lt;br /&gt;</span><br><span class="hljs-string">åŒæ—¶ï¼Œæ³¨å†Œåéœ€è¦åœ¨ &lt;a href=&quot;http://sc.ftqq.com/&quot;&gt;Serveré…±&lt;/a&gt; ç»‘å®šä½ çš„å¾®ä¿¡å·æ‰èƒ½æ”¶åˆ°æ¨é€&#x27;</span>));<br><span class="hljs-variable">$form</span>-&gt;addInput(<span class="hljs-variable">$key</span>);<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨<br><code>/plugins/CommentToMail/Action.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">$this</span>-&gt;authorMail()-&gt;sendMail();<br></code></pre></td></tr></table></figure><p>ä¸Šä¸€è¡Œæ’å…¥</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">//å‘åšä¸»å‘æ¨é€</span><br><span class="hljs-variable">$sckey</span> = <span class="hljs-keyword">$this</span>-&gt;_cfg-&gt;sckey;<br><span class="hljs-keyword">if</span>(!<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$sckey</span>))&#123;<br>    <span class="hljs-variable">$text</span> = <span class="hljs-string">&quot;æœ‰äººåœ¨æ‚¨çš„åšå®¢å‘è¡¨äº†è¯„è®º&quot;</span>;<br>    <span class="hljs-variable">$desp</span> = <span class="hljs-string">&quot;**&quot;</span>.<span class="hljs-keyword">$this</span>-&gt;_email-&gt;author.<span class="hljs-string">&quot;** åœ¨ [ã€Œ&quot;</span>.<span class="hljs-keyword">$this</span>-&gt;_email-&gt;title.<span class="hljs-string">&quot;ã€](&quot;</span>.<span class="hljs-keyword">$this</span>-&gt;_email-&gt;permalink.<span class="hljs-string">&quot; \&quot;&quot;</span>.<span class="hljs-keyword">$this</span>-&gt;_email-&gt;title.<span class="hljs-string">&quot;\&quot;) ä¸­è¯´åˆ°: \n\n &gt; &quot;</span>.<span class="hljs-keyword">$this</span>-&gt;_email-&gt;text;<br>    <span class="hljs-variable">$postdata</span> = http_build_query(<span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;text&#x27;</span> =&gt; <span class="hljs-variable">$text</span>,<span class="hljs-string">&#x27;desp&#x27;</span> =&gt; <span class="hljs-variable">$desp</span>));<br>    <span class="hljs-variable">$opts</span> = <span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;http&#x27;</span> =&gt;<br>        <span class="hljs-keyword">array</span>(<br>            <span class="hljs-string">&#x27;method&#x27;</span>  =&gt; <span class="hljs-string">&#x27;POST&#x27;</span>,<br>            <span class="hljs-string">&#x27;header&#x27;</span>  =&gt; <span class="hljs-string">&#x27;Content-type: application/x-www-form-urlencoded&#x27;</span>,<br>            <span class="hljs-string">&#x27;content&#x27;</span> =&gt; <span class="hljs-variable">$postdata</span><br>            )<br>        );<br>    <span class="hljs-variable">$context</span>  = stream_context_create(<span class="hljs-variable">$opts</span>);<br>    <span class="hljs-variable">$result</span> = file_get_contents(<span class="hljs-string">&#x27;http://sc.ftqq.com/&#x27;</span>.<span class="hljs-variable">$sckey</span>.<span class="hljs-string">&#x27;.send&#x27;</span>, <span class="hljs-literal">false</span>, <span class="hljs-variable">$context</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>æå®š</p><p>åšä¸»ç›®å‰ä½¿ç”¨çš„é‚®ä»¶å‘é€æ’ä»¶ç‰ˆæœ¬ä¸º<br>CommentToMail 2.0.0  by <a href="http://www.byends.com/" title="Byends Upd">Byends Upd</a></p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>è®°å½•ä¸€ä¸‹æˆ‘å¯¹æ–°ä¸»é¢˜handsomeçš„å°ä¿®æ”¹</title>
    <link href="/read/88.html"/>
    <url>/read/88.html</url>
    
    <content type="html"><![CDATA[<h2 id="å¾®ä¿¡å†…åˆ†äº«æ‰“å¼€è¿›é¦–é¡µ"><a href="#å¾®ä¿¡å†…åˆ†äº«æ‰“å¼€è¿›é¦–é¡µ" class="headerlink" title="å¾®ä¿¡å†…åˆ†äº«æ‰“å¼€è¿›é¦–é¡µ"></a>å¾®ä¿¡å†…åˆ†äº«æ‰“å¼€è¿›é¦–é¡µ</h2><p>å› ä¸ºå¾®ä¿¡å†…ä¸æ”¯æŒpushStateå¯¼è‡´æ–‡ç« åˆ†äº«å‡ºå»ä¹Ÿæ˜¯é¦–é¡µåœ°å€ï¼Œçœ‹ä¸åˆ°å…·ä½“æ–‡ç« </p><span id="more"></span><p>åŠ¨åˆ€å†…å®¹</p><p><code>/themes/handsome/libs/functions.php(64)</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">@define(<span class="hljs-string">&quot;PJAX_ENABLED&quot;</span>, in_array(<span class="hljs-string">&#x27;isPjax&#x27;</span>, <span class="hljs-variable">$options</span>-&gt;featuresetup));<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">//ä¿®æ”¹åˆ¤æ–­åœ¨å¾®ä¿¡ç¯å¢ƒå¼ºè¡Œç¦ç”¨PJAX</span><br><span class="hljs-keyword">if</span> (stripos(<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_USER_AGENT&#x27;</span>], <span class="hljs-string">&#x27;MicroMessenger&#x27;</span>)!==<span class="hljs-literal">false</span>) &#123;<br>    @define(<span class="hljs-string">&quot;PJAX_ENABLED&quot;</span>, <span class="hljs-literal">false</span>);<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    @define(<span class="hljs-string">&quot;PJAX_ENABLED&quot;</span>, in_array(<span class="hljs-string">&#x27;isPjax&#x27;</span>, <span class="hljs-variable">$options</span>-&gt;featuresetup));<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ­£æ–‡æ ‡é¢˜å³è¾¹çš„åˆ†äº«å’Œæˆªå›¾"><a href="#æ­£æ–‡æ ‡é¢˜å³è¾¹çš„åˆ†äº«å’Œæˆªå›¾" class="headerlink" title="æ­£æ–‡æ ‡é¢˜å³è¾¹çš„åˆ†äº«å’Œæˆªå›¾"></a>æ­£æ–‡æ ‡é¢˜å³è¾¹çš„åˆ†äº«å’Œæˆªå›¾</h2><p>å› ä¸ºæˆ‘ä¸ç”¨ç©ºé—´å¾®åšä¹‹ç±»çš„ï¼Œç„¶åæˆªå›¾æç¤ºè·¨ç«™ï¼ˆåˆæ‹äº‘ä¸Šè®¾ç½®å…è®¸è·¨ç«™è¯·æ±‚åˆæ— æ•ˆï¼Ÿï¼Ÿæ²¡çœ‹åˆ°å¤´éƒ¨æœ‰å†…å®¹è¾“å‡ºï¼‰ï¼Œç´¢æ€§çœ¼ä¸è§å¿ƒä¸çƒ¦</p><p><code>/themes/handsome/libs/Content.php (122)</code><br>ç®€å•çš„åŠ ä¸ª<code>display: none;</code>é£æ ¼ :shock:</p><h2 id="åˆæ‹äº‘è”ç›Ÿçš„LOGO"><a href="#åˆæ‹äº‘è”ç›Ÿçš„LOGO" class="headerlink" title="åˆæ‹äº‘è”ç›Ÿçš„LOGO"></a>åˆæ‹äº‘è”ç›Ÿçš„LOGO</h2><p>ä¹‹å‰è¿˜ç‰¹åœ°å‘é‚®ä»¶ç»™æˆ‘è¯´è¦æ¢æˆæ–°logoä¸èƒ½ä½¿ç”¨æ–‡å­—é“¾æ¥</p><p><code>/themes/handsome/component/sidebar.php (103)</code></p><p>åŠ å‡ å¥ï¼Œä¸æƒ³å ç”¨ä¸»é¢˜æä¾›çš„å¹¿å‘Šæ¡†ï¼Œå¹¿å‘Šä¸¤ä¸ªå­—ç¢çœ¼</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;!--è¾“å‡ºåˆæ‹äº‘--&gt;<br>&lt;section id=&quot;tag_cloud-2&quot; class=&quot;widget widget_tag_cloud wrapper-md clear&quot;&gt;<br> &lt;h3 class=&quot;widget-title m-t-none text-md&quot;&gt;&lt;?php _me(&quot;CDNèµåŠ©&quot;) ?&gt;&lt;/h3&gt;<br> &lt;a class=&quot;social&quot; href=&quot;https://www.upyun.com&quot; target=&quot;_blank&quot; title=&quot;åˆæ‹äº‘æä¾›å…¨ç½‘CDNæ”¯æŒ&quot;&gt;&lt;img src=&quot;https://static.cuojue.org/res/images/upyun_logo8.svg?h400&quot; alt=&quot;åˆæ‹äº‘&quot;&gt;&lt;/a&gt;<br>&lt;/section&gt;<br></code></pre></td></tr></table></figure><h2 id="å›¾ç‰‡æ–‡ä»¶åå¼•å‘çš„404"><a href="#å›¾ç‰‡æ–‡ä»¶åå¼•å‘çš„404" class="headerlink" title="å›¾ç‰‡æ–‡ä»¶åå¼•å‘çš„404"></a>å›¾ç‰‡æ–‡ä»¶åå¼•å‘çš„404</h2><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-meta-keyword">/themes/</span>handsome<span class="hljs-meta-keyword">/usr/</span>img/sj<br><span class="hljs-meta-keyword">/themes/</span>handsome<span class="hljs-meta-keyword">/usr/</span>img/sj2<br></code></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªç›®å½•æ˜¯ä½œè€…æä¾›çš„å¤´éƒ¨å›¾ç‰‡ï¼ŒBUGæ˜¯æ–‡ä»¶é»˜è®¤å¯»æ‰¾çš„ä¸‹æ ‡æ˜¯0ï¼Œç„¶è€Œä¸å­˜åœ¨0.jpgè¿™æ ·çš„æ–‡ä»¶ï¼Œæ‰€ä»¥ä¼šäº§ç”Ÿ404ï¼Œè§£å†³æ–¹æ³•æ˜¯æŠŠæ•°å­—æœ€å¤§çš„æ–‡ä»¶åæ”¹æˆ0.jpg</p><h2 id="æ–‡ç« å’Œè¯„è®ºä¸­çš„è¡¨æƒ…è¢«è§£æäº†"><a href="#æ–‡ç« å’Œè¯„è®ºä¸­çš„è¡¨æƒ…è¢«è§£æäº†" class="headerlink" title="æ–‡ç« å’Œè¯„è®ºä¸­çš„è¡¨æƒ…è¢«è§£æäº†"></a>æ–‡ç« å’Œè¯„è®ºä¸­çš„è¡¨æƒ…è¢«è§£æäº†</h2><p>æ–‡ç« å’Œè¯„è®ºä¸­çš„è¡¨æƒ…è´´å›¾è¢«è§£æä¸ºäº†fancyboxç›¸å†Œ:?:<br>è§£å†³æ–¹æ³•</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/themes/</span>handsome<span class="hljs-regexp">/libs/</span>Content.php (<span class="hljs-number">1287</span>)<br><span class="hljs-regexp">/themes/</span>handsome<span class="hljs-regexp">/libs/</span>Content.php (<span class="hljs-number">1389</span>)<br></code></pre></td></tr></table></figure><p>åœ¨ <code>&lt;img</code> æ ‡ç­¾åé¢æ·»åŠ </p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">nogallery</span><br></code></pre></td></tr></table></figure><h2 id="è¡¨æƒ…è¢«è§£æåˆ°äº†å¤´å›¾"><a href="#è¡¨æƒ…è¢«è§£æåˆ°äº†å¤´å›¾" class="headerlink" title="è¡¨æƒ…è¢«è§£æåˆ°äº†å¤´å›¾"></a>è¡¨æƒ…è¢«è§£æåˆ°äº†å¤´å›¾</h2><p>ä¿®æ”¹<br><code>/themes/handsome/libs/Content.php(542)</code><br>å±è”½æ–‡ç« å†…ç›´æ¥è·å–imgæ ‡ç­¾æå–æˆå¤´å›¾<br>ä¹Ÿå°±æ˜¯ç›´æ¥å±è”½ç¬¬ä¸€ä¸ªif</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">if</span> (preg_match_all(<span class="hljs-variable">$pattern</span>, <span class="hljs-variable">$content</span>, <span class="hljs-variable">$thumbUrl</span>))<br></code></pre></td></tr></table></figure><h2 id="ç»Ÿè®¡å’ŒGoogle-Analytics"><a href="#ç»Ÿè®¡å’ŒGoogle-Analytics" class="headerlink" title="ç»Ÿè®¡å’ŒGoogle Analytics"></a>ç»Ÿè®¡å’ŒGoogle Analytics</h2><p>ç”±äºå…¨ç«™ç”¨äº†pjaxåŠ è½½ï¼Œåœ¨æµè§ˆçš„æ—¶å€™é»˜è®¤åªæœ‰å…¥å£é¡µä¼šç»Ÿè®¡åˆ°ï¼ŒpjaxåŠ è½½å‡ºæ¥çš„å†…å®¹æ²¡æœ‰é‡å¤åŠ è½½ç»Ÿè®¡ï¼Œé‡å†™ä¸€ä¸‹ç»Ÿè®¡çš„jsç‹¬ç«‹ä¸€ä¸ªå‡½æ•°å‡ºæ¥ï¼Œåœ¨ä¸»é¢˜é…ç½®çš„pjaxå›è°ƒè°ƒç”¨è¿™ä¸ªå‡½æ•°</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xquery">ga(<span class="hljs-string">&quot;UA-77075137-1&quot;</span>, <span class="hljs-string">&quot;https://ga.giuem.com&quot;</span>, <span class="hljs-keyword">window</span>,<span class="hljs-built_in"> document</span>, navigator, location);<br></code></pre></td></tr></table></figure><p>2018-11-19æ›´æ–°ï¼š<br><del>å·²ç»æ”¹ç”¨è‡ªå»ºGAä»£ç†</del><br>å·²æ”¹ç”¨æ’ä»¶</p><p><a href="https://cuojue.org/read/typecho_plugin_ga.html">é€‚ç”¨äºTypechoçš„Google AnalyticsåŠ é€Ÿæ’ä»¶</a></p><p>è¿™é‡Œé¡ºä¾¿æ„Ÿè°¢ä¸€ä¸‹BFDZå¤§ä½¬æä¾›çš„GAä»£ç† <a href="https://www.bfdz.ink/2018/10/23/109/" title="Google Analytics åŠ è½½ä¼˜åŒ–">Google Analytics åŠ è½½ä¼˜åŒ–</a></p><hr><p>æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªä¸»é¢˜çœŸçš„ä¸é”™ï¼Œæ„Ÿè°¢ä½œè€… <a href="https://www.ihewro.com/" title="å‹äººC">å‹äººC</a> ä¸ºæˆ‘ä»¬æä¾›å¦‚æ­¤ç²¾è‡´çš„ä¸»é¢˜æ¨¡æ¿.</p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Http Task Queue å¼‚æ­¥åˆ—é˜ŸæœåŠ¡æ­å»ºè®°å½•</title>
    <link href="/read/87.html"/>
    <url>/read/87.html</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨å¼€å‘ä¸€å¥—CRMç³»ç»Ÿï¼Œéœ€è¦ç”¨åˆ°åˆ—é˜ŸæœåŠ¡åšæ¨é€ï¼Œç„¶åçœ‹åˆ°äº†æœ‰å‰è¾ˆå·²ç»é€ å¥½äº†è½®å­ <a href="http://blog.star7th.com/2016/09/2114.html" title="å¼€æºçš„ä»»åŠ¡é˜Ÿåˆ—æœåŠ¡HTQ">å¼€æºçš„ä»»åŠ¡é˜Ÿåˆ—æœåŠ¡HTQ</a> ç›´æ¥éƒ¨ç½²ä¸€ä¸‹è¯•è¯•</p><p>é¦–å…ˆæˆ‘çš„æœåŠ¡å™¨ç”¨çš„Centos7å¹¶æ²¡æœ‰è£…nodejs<br>ä¸‹è½½æºç ç¼–è¯‘ä¸€ä¸‹ ps:ç¼–è¯‘æ—¶é—´å¥½tmé•¿</p><span id="more"></span><h2 id="å¼€å§‹ç¼–è¯‘å®‰è£…nodejs"><a href="#å¼€å§‹ç¼–è¯‘å®‰è£…nodejs" class="headerlink" title="å¼€å§‹ç¼–è¯‘å®‰è£…nodejs"></a>å¼€å§‹ç¼–è¯‘å®‰è£…nodejs</h2><pre><code>wget https://nodejs.org/dist/v10.13.0/node-v10.13.0.tar.gztar zxvf node-v10.13.0.tar.gzcd node-v10.13.0./configuremakemake install</code></pre><p>å®‰è£…å®Œæ¯•åæµ‹è¯•ä¸€ä¸‹</p><pre><code>[root@Centos htq]# node -vv10.13.0[root@Centos htq]# npm -v6.4.1</code></pre><p>ok</p><h2 id="å¼€å§‹å®‰è£…HTQ"><a href="#å¼€å§‹å®‰è£…HTQ" class="headerlink" title="å¼€å§‹å®‰è£…HTQ"></a>å¼€å§‹å®‰è£…HTQ</h2><p>æ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> <br></code></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•åï¼Œé¦–å…ˆä¿®æ”¹ä¸€ä¸‹<code>config.json</code>é‡Œé¢çš„token</p><p>ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">node</span> <span class="hljs-title">htq</span>.js <br></code></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ç§å¯åŠ¨æ–¹å¼æ˜¯ä¸´æ—¶è¿è¡Œçš„ï¼Œå…³é—­å‘½ä»¤è¡Œçª—å£å°±ä¼šåœæ­¢äº†ã€‚å¦‚æœæƒ³ä¸€ç›´åœ¨åå°è¿è¡Œï¼Œåˆ™å¯ï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">nohup <span class="hljs-keyword">node</span> <span class="hljs-title">htq</span>.js &gt; ~/htq.log <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span> &amp;<br></code></pre></td></tr></table></figure><p>å¦‚æœæƒ³å…³é—­é€€å‡ºï¼Œå¯è¿è¡Œï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">killall -<span class="hljs-number">9</span> <span class="hljs-keyword">node</span> <span class="hljs-title"></span><br></code></pre></td></tr></table></figure><p>ä¸‹é¢å°±æ˜¯åœ¨ä¸šåŠ¡é‡Œé¢ä½¿ç”¨äº†ï¼Œç›´æ¥HTTPæŠ•é€’ä»»åŠ¡</p><h2 id="å®ˆæŠ¤è¿›ç¨‹"><a href="#å®ˆæŠ¤è¿›ç¨‹" class="headerlink" title="å®ˆæŠ¤è¿›ç¨‹"></a>å®ˆæŠ¤è¿›ç¨‹</h2><p><strong>é‡‡ç”¨PM2æ¥å®ˆæŠ¤è¿›ç¨‹å’Œå¼€æœºè‡ªå¯</strong></p><p>å®‰è£…PM2</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">npm</span> install pm<span class="hljs-number">2</span> -g<br></code></pre></td></tr></table></figure><p>ä»PM2å¯åŠ¨HTQæœåŠ¡</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">pm2 start <span class="hljs-regexp">/home/</span>htq/htq.js --name=<span class="hljs-string">&quot;HTQServer&quot;</span><br></code></pre></td></tr></table></figure><p>è®¾ç½®å¼€æœºè‡ªå¯</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gcode">p<span class="hljs-name">m2</span> startup<br></code></pre></td></tr></table></figure><h1 id="HTQçš„ä½¿ç”¨æ–‡æ¡£"><a href="#HTQçš„ä½¿ç”¨æ–‡æ¡£" class="headerlink" title="HTQçš„ä½¿ç”¨æ–‡æ¡£"></a>HTQçš„ä½¿ç”¨æ–‡æ¡£</h1><h2 id="æ·»åŠ é˜Ÿåˆ—"><a href="#æ·»åŠ é˜Ÿåˆ—" class="headerlink" title="æ·»åŠ é˜Ÿåˆ—"></a>æ·»åŠ é˜Ÿåˆ—</h2><p><strong>è¯·æ±‚URLï¼š</strong> </p><ul><li><code>http://server:5999/api/addQueue</code></li></ul><p><strong>è¯·æ±‚æ–¹å¼ï¼š</strong></p><ul><li>POST </li></ul><p><strong>å‚æ•°ï¼š</strong> </p><table><thead><tr><th align="left">å‚æ•°å</th><th align="left">å¿…é€‰</th><th align="left">ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="left">queue_name</td><td align="left">æ˜¯</td><td align="left">string</td><td>é˜Ÿåˆ—åï¼Œè‹±æ–‡+æ•°å­—ï¼Œä¸è¦å‡ºç°ä¸­æ–‡</td></tr><tr><td align="left">type</td><td align="left">æ˜¯</td><td align="left">string</td><td>ç±»å‹ã€‚å¯ä»¥æ˜¯â€real_timeâ€ã€â€timingâ€ã€â€variableâ€ ï¼Œåˆ†åˆ«å¯¹åº”å®æ—¶é˜Ÿåˆ—ã€å®šæ—¶é˜Ÿåˆ—ã€å¯å˜é˜Ÿåˆ—ã€‚å¦‚æœæ˜¯å¯å˜é˜Ÿåˆ—ï¼Œåˆ™ä¼šå¯¹æ‰§è¡Œä»»åŠ¡çš„è¿”å›ç»“æœæœ‰è¦æ±‚ã€‚è¯·å‚è€ƒæ·»åŠ ä»»åŠ¡æ¥å£çš„å¤‡æ³¨è¯´æ˜éƒ¨åˆ†</td></tr><tr><td align="left">app_key</td><td align="left">æ˜¯</td><td align="left">string</td><td>è¯·å¡«å†™config.jsoné‡Œçš„app_keyä»¥ä¾›è®¤è¯ã€‚åˆæ¬¡å®‰è£…HTQå¯æ›´æ”¹é»˜è®¤çš„å€¼ä»¥æé«˜å®‰å…¨æ€§ã€‚æ›´æ”¹åéœ€è¦é‡å¯HTQä»¥ç”Ÿæ•ˆ</td></tr><tr><td align="left">app_token</td><td align="left">æ˜¯</td><td align="left">string</td><td>è¯·å¡«å†™config.jsoné‡Œçš„app_tokenä»¥ä¾›è®¤è¯ã€‚åˆæ¬¡å®‰è£…HTQå¯æ›´æ”¹é»˜è®¤çš„å€¼ä»¥æé«˜å®‰å…¨æ€§ã€‚æ›´æ”¹åéœ€è¦é‡å¯HTQä»¥ç”Ÿæ•ˆ</td></tr><tr><td align="left">stepping_time</td><td align="left">å¦</td><td align="left">int</td><td>æ­¥è¿›æ—¶é—´ï¼Œå•ä½æ˜¯ç§’ã€‚å½“é˜Ÿåˆ—ç±»å‹æ˜¯å¯å˜é˜Ÿåˆ—çš„æ—¶å€™è¯·ä¼ æ­¤å‚æ•°ã€‚å¯å˜é˜Ÿåˆ—çš„æ‰§è¡Œæœºåˆ¶è¯·å‚è€ƒä¸‹æ–‡çš„å¤‡æ³¨éƒ¨åˆ†ã€‚äº†è§£æ‰§è¡Œæœºåˆ¶èƒ½è®©ä½ æ›´æ¸…æ™°åœ°çŸ¥é“è¯¥å¦‚ä½•è®¾ç½®æ­¤å€¼</td></tr><tr><td align="left">max_time_interval</td><td align="left">å¦</td><td align="left">int</td><td>æœ€å¤§æ—¶é—´é—´éš”ï¼Œå½“é˜Ÿåˆ—ç±»å‹æ˜¯å¯å˜é˜Ÿåˆ—çš„æ—¶å€™è¯·ä¼ æ­¤å‚æ•°ã€‚å¯å˜é˜Ÿåˆ—çš„æ‰§è¡Œæœºåˆ¶è¯·å‚è€ƒä¸‹æ–‡çš„å¤‡æ³¨éƒ¨åˆ† ã€‚äº†è§£æ‰§è¡Œæœºåˆ¶èƒ½è®©ä½ æ›´æ¸…æ™°åœ°çŸ¥é“è¯¥å¦‚ä½•è®¾ç½®æ­¤å€¼</td></tr></tbody></table><p><strong>æˆåŠŸè¿”å›ç¤ºä¾‹</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123; <br>     <span class="hljs-attr">&quot;error_code&quot;</span> : <span class="hljs-number">0</span>, <br>     <span class="hljs-attr">&quot;message&quot;</span> : <span class="hljs-string">&quot;æ·»åŠ æˆåŠŸ&quot;</span> <br> &#125;<br><br></code></pre></td></tr></table></figure><p><strong>å¤±è´¥è¿”å›ç¤ºä¾‹</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123; <br>     <span class="hljs-attr">&quot;error_code&quot;</span> : <span class="hljs-number">1000</span>, <br>     <span class="hljs-attr">&quot;message&quot;</span> : <span class="hljs-string">&quot;è®¤è¯å¤±è´¥&quot;</span> <br> &#125;<br><br></code></pre></td></tr></table></figure><p><strong>å¯å˜é˜Ÿåˆ—çš„æ‰§è¡Œæœºåˆ¶</strong></p><p>å¯å˜é˜Ÿåˆ—çš„æŸä¸ªä»»åŠ¡è¿›å…¥é˜Ÿåˆ—åï¼Œå…¶urlä¼šè¢«è§¦å‘è®¿é—®ã€‚URLæ‰§è¡Œçš„é¡µé¢è‹¥è¿”å›å­—ç¬¦ä¸²â€œresetâ€ã€ å³ç›´æ¥åœ¨urlçš„é¡µé¢æ‰“å°â€œresetâ€ï¼Œå¦‚å‘½ä»¤ print(â€œresetâ€)ã€‘ï¼Œåˆ™ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´é—´éš”ä¼šé‡ç½®ã€‚è‹¥è¿”å›å­—ç¬¦ä¸²â€doneâ€ï¼Œåˆ™ç»“æŸå¹¶åˆ é™¤å½“å‰ä»»åŠ¡.å…¶ä»–æƒ…å†µï¼ŒURléƒ½ä¼šè¢«å»¶è¿Ÿä¸‹ä¸€æ¬¡æ‰§è¡Œã€‚å»¶è¿Ÿçš„æ—¶é—´è®¡ç®—å…¬å¼æ˜¯ï¼šæ‰§è¡Œæ¬¡æ•° X æ­¥è¿›æ—¶é—´(stepping_time) ã€‚å…¶ä¸­ï¼Œå»¶è¿Ÿæ—¶é—´æœ€å¤§å€¼ä¸ºmax_time_intervalã€‚</p><p>æ‰€ä»¥ï¼Œå½“URlæ²¡æœ‰è¢«é‡ç½®æˆ–è€…ç»“æŸçš„æ—¶å€™ï¼Œå®ƒä¼šæ…¢æ…¢åœ°å¢å¤§ä¸‹æ¬¡æ‰§è¡Œæ—¶é—´ï¼Œå˜å¾—è¶Šæ¥è¶Šæ…¢ï¼Œæœ€åè¾¾åˆ°æœ€å¤§é—´éš”æ—¶é—´max_time_intervalåå°†ä¸€ç›´ä¿æŒè¿™ä¸ªæ‰§è¡Œæ—¶é—´é—´éš”ã€‚ç›´è‡³å¾—åˆ°é‡ç½®å‘½ä»¤æˆ–è€…ç»“æŸå‘½ä»¤.</p><h2 id="æ·»åŠ ä»»åŠ¡åˆ°é˜Ÿåˆ—"><a href="#æ·»åŠ ä»»åŠ¡åˆ°é˜Ÿåˆ—" class="headerlink" title="æ·»åŠ ä»»åŠ¡åˆ°é˜Ÿåˆ—"></a>æ·»åŠ ä»»åŠ¡åˆ°é˜Ÿåˆ—</h2><p><strong>è¯·æ±‚URLï¼š</strong> </p><ul><li><code>http://server:5999/api/addTask</code></li></ul><p><strong>è¯·æ±‚æ–¹å¼ï¼š</strong></p><ul><li>POST </li></ul><p><strong>å‚æ•°ï¼š</strong> </p><table><thead><tr><th align="left">å‚æ•°å</th><th align="left">å¿…é€‰</th><th align="left">ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="left">queue_name</td><td align="left">æ˜¯</td><td align="left">string</td><td>æ— </td></tr><tr><td align="left">url</td><td align="left">æ˜¯</td><td align="left">string</td><td>å¦‚  <code>https://cuojue.org/test?test=123&amp;ff=22</code></td></tr><tr><td align="left">app_key</td><td align="left">æ˜¯</td><td align="left">string</td><td>è¯·å¡«å†™config.jsoné‡Œçš„app_keyä»¥ä¾›è®¤è¯ã€‚åˆæ¬¡å®‰è£…HTQå¯æ›´æ”¹é»˜è®¤çš„å€¼ä»¥æé«˜å®‰å…¨æ€§ã€‚æ›´æ”¹åéœ€è¦é‡å¯HTQä»¥ç”Ÿæ•ˆ</td></tr><tr><td align="left">app_token</td><td align="left">æ˜¯</td><td align="left">string</td><td>è¯·å¡«å†™config.jsoné‡Œçš„app_tokenä»¥ä¾›è®¤è¯ã€‚åˆæ¬¡å®‰è£…HTQå¯æ›´æ”¹é»˜è®¤çš„å€¼ä»¥æé«˜å®‰å…¨æ€§ã€‚æ›´æ”¹åéœ€è¦é‡å¯HTQä»¥ç”Ÿæ•ˆ</td></tr><tr><td align="left">execute_time</td><td align="left">å¦</td><td align="left">string</td><td>æ‰§è¡Œæ—¶é—´ï¼ˆå¯é€‰ï¼‰ï¼Œå¦‚â€2016-08-21 10:21:12â€ ã€‚å½“é˜Ÿåˆ—ç±»å‹ä¸ºå®šæ—¶é˜Ÿåˆ—çš„æ—¶å€™è¯·ä¼ æ­¤å‚æ•°ã€‚</td></tr></tbody></table><p><strong>æˆåŠŸè¿”å›ç¤ºä¾‹</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123; <br>     <span class="hljs-attr">&quot;error_code&quot;</span> : <span class="hljs-number">0</span>, <br>     <span class="hljs-attr">&quot;message&quot;</span> : <span class="hljs-string">&quot;æ·»åŠ æˆåŠŸ&quot;</span> <br> &#125;<br><br></code></pre></td></tr></table></figure><p><strong>å¤±è´¥è¿”å›ç¤ºä¾‹</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123; <br>     <span class="hljs-attr">&quot;error_code&quot;</span> : <span class="hljs-number">1000</span>, <br>     <span class="hljs-attr">&quot;message&quot;</span> : <span class="hljs-string">&quot;è®¤è¯å¤±è´¥&quot;</span> <br> &#125;<br><br></code></pre></td></tr></table></figure><p><strong>å¤‡æ³¨è¯´æ˜</strong></p><p>å½“é˜Ÿåˆ—æ˜¯å¯å˜é˜Ÿåˆ—æ—¶(type =â€™variableâ€™ )ï¼ŒURLæ‰§è¡Œçš„é¡µé¢è‹¥è¿”å›å­—ç¬¦ä¸²â€resetâ€ï¼Œåˆ™ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´é—´éš”ä¼šé‡ç½®ã€‚è‹¥è¿”å›å­—ç¬¦ä¸²â€doneâ€ï¼Œåˆ™ç»“æŸå¹¶åˆ é™¤å½“å‰ä»»åŠ¡.</p><h2 id="è·å–æ‰€æœ‰é˜Ÿåˆ—"><a href="#è·å–æ‰€æœ‰é˜Ÿåˆ—" class="headerlink" title="è·å–æ‰€æœ‰é˜Ÿåˆ—"></a>è·å–æ‰€æœ‰é˜Ÿåˆ—</h2><p><strong>è¯·æ±‚URLï¼š</strong> </p><ul><li><code>http://server:5999/api/allQueue</code></li></ul><p><strong>è¯·æ±‚æ–¹å¼ï¼š</strong></p><ul><li>POST </li></ul><p><strong>å‚æ•°ï¼š</strong> </p><table><thead><tr><th align="left">å‚æ•°å</th><th align="left">å¿…é€‰</th><th align="left">ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="left">app_key</td><td align="left">æ˜¯</td><td align="left">string</td><td>è¯·å¡«å†™config.jsoné‡Œçš„app_keyä»¥ä¾›è®¤è¯ã€‚åˆæ¬¡å®‰è£…HTQå¯æ›´æ”¹é»˜è®¤çš„å€¼ä»¥æé«˜å®‰å…¨æ€§ã€‚æ›´æ”¹åéœ€è¦é‡å¯HTQä»¥ç”Ÿæ•ˆ</td></tr><tr><td align="left">app_token</td><td align="left">æ˜¯</td><td align="left">string</td><td>è¯·å¡«å†™config.jsoné‡Œçš„app_tokenä»¥ä¾›è®¤è¯</td></tr></tbody></table><p><strong>æˆåŠŸè¿”å›ç¤ºä¾‹</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs json">[<br>    &#123;<br>        <span class="hljs-attr">&quot;queue_name&quot;</span>: <span class="hljs-string">&quot;test&quot;</span>,<br>        <span class="hljs-attr">&quot;attribute&quot;</span>: &#123;<br>            <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-string">&quot;real_time&quot;</span>,<br>            <span class="hljs-attr">&quot;stepping_time&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,<br>            <span class="hljs-attr">&quot;max_time_interval&quot;</span>: <span class="hljs-string">&quot;0&quot;</span><br>        &#125;<br>    &#125;,<br>    &#123;<br>        <span class="hljs-attr">&quot;queue_name&quot;</span>: <span class="hljs-string">&quot;test2&quot;</span>,<br>        <span class="hljs-attr">&quot;attribute&quot;</span>: &#123;<br>            <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-string">&quot;real_time&quot;</span>,<br>            <span class="hljs-attr">&quot;stepping_time&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,<br>            <span class="hljs-attr">&quot;max_time_interval&quot;</span>: <span class="hljs-string">&quot;0&quot;</span><br>        &#125;<br>    &#125;<br>]<br><br></code></pre></td></tr></table></figure><h2 id="è·å–æŸä¸ªé˜Ÿåˆ—çš„ä»»åŠ¡æ•°"><a href="#è·å–æŸä¸ªé˜Ÿåˆ—çš„ä»»åŠ¡æ•°" class="headerlink" title="è·å–æŸä¸ªé˜Ÿåˆ—çš„ä»»åŠ¡æ•°"></a>è·å–æŸä¸ªé˜Ÿåˆ—çš„ä»»åŠ¡æ•°</h2><p><strong>è¯·æ±‚URLï¼š</strong> </p><ul><li><code>http://server:5999/api/countQueue</code></li></ul><p><strong>è¯·æ±‚æ–¹å¼ï¼š</strong></p><ul><li>POST </li></ul><p><strong>å‚æ•°ï¼š</strong> </p><table><thead><tr><th align="left">å‚æ•°å</th><th align="left">å¿…é€‰</th><th align="left">ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="left">queue_name</td><td align="left">æ˜¯</td><td align="left">string</td><td>æ— </td></tr><tr><td align="left">app_key</td><td align="left">æ˜¯</td><td align="left">string</td><td>æ— </td></tr><tr><td align="left">app_token</td><td align="left">æ˜¯</td><td align="left">string</td><td>æ— </td></tr></tbody></table><p><strong>æˆåŠŸè¿”å›ç¤ºä¾‹</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br><span class="hljs-attr">&quot;error_code&quot;</span>: <span class="hljs-number">0</span>,<br><span class="hljs-attr">&quot;count&quot;</span>: <span class="hljs-number">10</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åˆ é™¤é˜Ÿåˆ—"><a href="#åˆ é™¤é˜Ÿåˆ—" class="headerlink" title="åˆ é™¤é˜Ÿåˆ—"></a>åˆ é™¤é˜Ÿåˆ—</h2><p><strong>è¯·æ±‚URLï¼š</strong> </p><ul><li><code>http://server:5999/api/deleteQueue</code></li></ul><p><strong>è¯·æ±‚æ–¹å¼ï¼š</strong></p><ul><li>POST </li></ul><p><strong>å‚æ•°ï¼š</strong> </p><table><thead><tr><th align="left">å‚æ•°å</th><th align="left">å¿…é€‰</th><th align="left">ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="left">queue_name</td><td align="left">æ˜¯</td><td align="left">string</td><td>æ— </td></tr><tr><td align="left">app_key</td><td align="left">æ˜¯</td><td align="left">string</td><td>è¯·å¡«å†™config.jsoné‡Œçš„app_keyä»¥ä¾›è®¤è¯</td></tr><tr><td align="left">app_token</td><td align="left">æ˜¯</td><td align="left">string</td><td>è¯·å¡«å†™config.jsoné‡Œçš„app_tokenä»¥ä¾›è®¤è¯</td></tr></tbody></table><p><strong>æˆåŠŸè¿”å›ç¤ºä¾‹</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123; <br>     <span class="hljs-attr">&quot;error_code&quot;</span> : <span class="hljs-number">0</span>, <br>     <span class="hljs-attr">&quot;message&quot;</span> : <span class="hljs-string">&quot;åˆ é™¤æˆåŠŸ&quot;</span> <br> &#125;<br><br></code></pre></td></tr></table></figure><p><strong>å¤±è´¥è¿”å›ç¤ºä¾‹</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123; <br>     <span class="hljs-attr">&quot;error_code&quot;</span> : <span class="hljs-number">1004</span>, <br>     <span class="hljs-attr">&quot;message&quot;</span> : <span class="hljs-string">&quot;åˆ é™¤å¤±è´¥&quot;</span> <br> &#125;<br><br></code></pre></td></tr></table></figure><h2 id="å®ç°ä¼ªä»£ç -PHP-codeigniter"><a href="#å®ç°ä¼ªä»£ç -PHP-codeigniter" class="headerlink" title="å®ç°ä¼ªä»£ç  PHP codeigniter"></a>å®ç°ä¼ªä»£ç  PHP codeigniter</h2><p><strong>ä¿®æ”¹ä¸€ä¸‹å®˜æ–¹æä¾›çš„SDKæ”¾åˆ°libraries</strong><br><code>Htq.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br>defined(<span class="hljs-string">&#x27;BASEPATH&#x27;</span>) <span class="hljs-keyword">OR</span> <span class="hljs-keyword">exit</span>(<span class="hljs-string">&#x27;No direct script access allowed&#x27;</span>);<br><span class="hljs-comment">/**</span><br><span class="hljs-comment">* </span><br><span class="hljs-comment">*/</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Htq</span></span><br><span class="hljs-class"></span>&#123;<br><span class="hljs-keyword">private</span> <span class="hljs-variable">$htq_addr</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-variable">$app_key</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-variable">$app_token</span>;<br><br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Connect</span>(<span class="hljs-params"><span class="hljs-variable">$app_key</span> , <span class="hljs-variable">$app_token</span> ,<span class="hljs-variable">$htq_addr</span> = <span class="hljs-string">&#x27;http://127.0.0.1:5999&#x27;</span></span>)</span><br><span class="hljs-function"></span>&#123;<br>        <span class="hljs-keyword">$this</span>-&gt;htq_addr = <span class="hljs-variable">$htq_addr</span>;<br>        <span class="hljs-keyword">$this</span>-&gt;app_key = <span class="hljs-variable">$app_key</span>;<br>        <span class="hljs-keyword">$this</span>-&gt;app_token = <span class="hljs-variable">$app_token</span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addQueue</span>(<span class="hljs-params"><span class="hljs-variable">$queue_name</span>,<span class="hljs-variable">$type</span>,<span class="hljs-variable">$stepping_time</span> = <span class="hljs-number">0</span> , <span class="hljs-variable">$max_time_interval</span> = <span class="hljs-number">0</span> </span>)</span>&#123;<br><span class="hljs-variable">$post_data</span> = <span class="hljs-keyword">array</span>(<br><span class="hljs-string">&quot;app_key&quot;</span>=&gt;<span class="hljs-keyword">$this</span>-&gt;app_key,<br><span class="hljs-string">&quot;app_token&quot;</span>=&gt;<span class="hljs-keyword">$this</span>-&gt;app_token,<br><span class="hljs-string">&quot;queue_name&quot;</span>=&gt;<span class="hljs-variable">$queue_name</span>,<br><span class="hljs-string">&quot;type&quot;</span>=&gt;<span class="hljs-variable">$type</span>,<br><span class="hljs-string">&quot;stepping_time&quot;</span>=&gt;<span class="hljs-variable">$stepping_time</span>,<br><span class="hljs-string">&quot;max_time_interval&quot;</span>=&gt;<span class="hljs-variable">$max_time_interval</span>,<br>);<br><span class="hljs-variable">$url</span> = <span class="hljs-keyword">$this</span>-&gt;htq_addr . <span class="hljs-string">&#x27;/api/addQueue&#x27;</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;_post(<span class="hljs-variable">$url</span>,<span class="hljs-variable">$post_data</span>);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deleteQueue</span>(<span class="hljs-params"><span class="hljs-variable">$queue_name</span></span>)</span>&#123;<br><span class="hljs-variable">$post_data</span> = <span class="hljs-keyword">array</span>(<br><span class="hljs-string">&quot;app_key&quot;</span>=&gt;<span class="hljs-keyword">$this</span>-&gt;app_key,<br><span class="hljs-string">&quot;app_token&quot;</span>=&gt;<span class="hljs-keyword">$this</span>-&gt;app_token,<br><span class="hljs-string">&quot;queue_name&quot;</span>=&gt;<span class="hljs-variable">$queue_name</span>,<br>);<br><span class="hljs-variable">$url</span> = <span class="hljs-keyword">$this</span>-&gt;htq_addr . <span class="hljs-string">&#x27;/api/deleteQueue&#x27;</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;_post(<span class="hljs-variable">$url</span>,<span class="hljs-variable">$post_data</span>);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">allQueue</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-variable">$data</span> = <span class="hljs-keyword">array</span>(<br><span class="hljs-string">&quot;app_key&quot;</span>=&gt;<span class="hljs-keyword">$this</span>-&gt;app_key,<br><span class="hljs-string">&quot;app_token&quot;</span>=&gt;<span class="hljs-keyword">$this</span>-&gt;app_token,<br>);<br><span class="hljs-variable">$url</span> = <span class="hljs-keyword">$this</span>-&gt;htq_addr . <span class="hljs-string">&#x27;/api/allQueue&#x27;</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;_post(<span class="hljs-variable">$url</span>,<span class="hljs-variable">$data</span>);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">countQueue</span>(<span class="hljs-params"><span class="hljs-variable">$queue_name</span></span>)</span>&#123;<br><span class="hljs-variable">$data</span> = <span class="hljs-keyword">array</span>(<br><span class="hljs-string">&quot;app_key&quot;</span>=&gt;<span class="hljs-keyword">$this</span>-&gt;app_key,<br><span class="hljs-string">&quot;app_token&quot;</span>=&gt;<span class="hljs-keyword">$this</span>-&gt;app_token,<br><span class="hljs-string">&quot;queue_name&quot;</span>=&gt;<span class="hljs-variable">$queue_name</span>,<br>);<br><span class="hljs-variable">$url</span> = <span class="hljs-keyword">$this</span>-&gt;htq_addr . <span class="hljs-string">&#x27;/api/countQueue&#x27;</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;_post(<span class="hljs-variable">$url</span>,<span class="hljs-variable">$data</span>);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addTask</span>(<span class="hljs-params"><span class="hljs-variable">$queue_name</span> , <span class="hljs-variable">$url</span> , <span class="hljs-variable">$execute_time</span> = <span class="hljs-number">0</span> </span>)</span>&#123;<br><span class="hljs-variable">$post_data</span> = <span class="hljs-keyword">array</span>(<br><span class="hljs-string">&quot;app_key&quot;</span>=&gt;<span class="hljs-keyword">$this</span>-&gt;app_key,<br><span class="hljs-string">&quot;app_token&quot;</span>=&gt;<span class="hljs-keyword">$this</span>-&gt;app_token,<br><span class="hljs-string">&quot;queue_name&quot;</span>=&gt;<span class="hljs-variable">$queue_name</span>,<br><span class="hljs-string">&quot;url&quot;</span>=&gt;<span class="hljs-variable">$url</span>,<br><span class="hljs-string">&quot;execute_time&quot;</span>=&gt;<span class="hljs-variable">$execute_time</span>,<br>);<br><span class="hljs-variable">$url</span> = <span class="hljs-keyword">$this</span>-&gt;htq_addr . <span class="hljs-string">&#x27;/api/addTask&#x27;</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;_post(<span class="hljs-variable">$url</span>,<span class="hljs-variable">$post_data</span>);<br>&#125;<br><br><br><span class="hljs-comment">//postæ•°æ®</span><br><span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_post</span>(<span class="hljs-params"><span class="hljs-variable">$url</span>,<span class="hljs-variable">$post_data</span></span>)</span>&#123;<br><span class="hljs-variable">$query_data</span> = http_build_query(<span class="hljs-variable">$post_data</span>);<br><span class="hljs-variable">$curl</span> = curl_init();<br>curl_setopt(<span class="hljs-variable">$curl</span>, CURLOPT_URL, <span class="hljs-variable">$url</span>);<br>curl_setopt(<span class="hljs-variable">$curl</span>, CURLOPT_POST, <span class="hljs-number">1</span> );<br>curl_setopt(<span class="hljs-variable">$curl</span>, CURLOPT_POSTFIELDS, <span class="hljs-variable">$query_data</span>);<br>curl_setopt(<span class="hljs-variable">$curl</span>, CURLOPT_RETURNTRANSFER, <span class="hljs-number">1</span>);<br>    curl_setopt(<span class="hljs-variable">$curl</span>, CURLOPT_SSL_VERIFYPEER, <span class="hljs-literal">FALSE</span>);<br>    curl_setopt(<span class="hljs-variable">$curl</span>, CURLOPT_SSL_VERIFYHOST, <span class="hljs-literal">FALSE</span>);<br><span class="hljs-variable">$response</span> = curl_exec(<span class="hljs-variable">$curl</span>);<br><span class="hljs-variable">$result</span> = json_decode(<span class="hljs-variable">$response</span>,<span class="hljs-literal">true</span>);<br><span class="hljs-variable">$error</span> = curl_error(<span class="hljs-variable">$curl</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-variable">$error</span> ? <span class="hljs-variable">$error</span> : <span class="hljs-variable">$result</span>;<br>&#125;<br><br><span class="hljs-comment">//GET</span><br><span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_get</span>(<span class="hljs-params"><span class="hljs-variable">$url</span>,<span class="hljs-variable">$query_data</span></span>)</span>&#123;<br><span class="hljs-variable">$query_data</span> = http_build_query(<span class="hljs-variable">$query_data</span>);<br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$url</span> = <span class="hljs-variable">$url</span>.<span class="hljs-string">&quot;?&quot;</span>.<span class="hljs-variable">$query_data</span> ;<br>    <span class="hljs-variable">$curlObj</span> = curl_init();    <span class="hljs-comment">//åˆå§‹åŒ–curlï¼Œ</span><br>    curl_setopt(<span class="hljs-variable">$curlObj</span>, CURLOPT_URL, <span class="hljs-variable">$url</span>);   <span class="hljs-comment">//è®¾ç½®ç½‘å€</span><br>    curl_setopt(<span class="hljs-variable">$curlObj</span>, CURLOPT_RETURNTRANSFER, <span class="hljs-number">1</span>);  <span class="hljs-comment">//å°†curl_execçš„ç»“æœè¿”å›</span><br>    curl_setopt(<span class="hljs-variable">$curlObj</span>, CURLOPT_SSL_VERIFYPEER, <span class="hljs-literal">FALSE</span>);<br>    curl_setopt(<span class="hljs-variable">$curlObj</span>, CURLOPT_SSL_VERIFYHOST, <span class="hljs-literal">FALSE</span>);   <br>    curl_setopt(<span class="hljs-variable">$curlObj</span>, CURLOPT_HEADER, <span class="hljs-number">0</span>);         <span class="hljs-comment">//æ˜¯å¦è¾“å‡ºè¿”å›å¤´ä¿¡æ¯</span><br>    <span class="hljs-variable">$response</span> = curl_exec(<span class="hljs-variable">$curlObj</span>);   <span class="hljs-comment">//æ‰§è¡Œ</span><br>    curl_close(<span class="hljs-variable">$curlObj</span>);          <span class="hljs-comment">//å…³é—­ä¼šè¯</span><br>    <span class="hljs-keyword">return</span> json_decode(<span class="hljs-variable">$response</span>,<span class="hljs-literal">true</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ä¸šåŠ¡model</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">//æ’å…¥æ•°æ®åº“é€šçŸ¥</span><br><span class="hljs-variable">$msg</span>[<span class="hljs-string">&#x27;title&#x27;</span>] = <span class="hljs-variable">$title</span>;<br><span class="hljs-variable">$msg</span>[<span class="hljs-string">&#x27;body&#x27;</span>] = <span class="hljs-variable">$body</span>;<br><span class="hljs-variable">$msg</span>[<span class="hljs-string">&#x27;type&#x27;</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-variable">$msg</span>[<span class="hljs-string">&#x27;time&#x27;</span>] = time();<br><span class="hljs-keyword">$this</span>-&gt;db-&gt;insert(<span class="hljs-string">&#x27;push_msg&#x27;</span>, <span class="hljs-variable">$msg</span>);<br><span class="hljs-variable">$msgid</span> = <span class="hljs-keyword">$this</span>-&gt;db-&gt;insert_id();<br><span class="hljs-comment">//åŠ å…¥åˆ—é˜Ÿ</span><br><span class="hljs-keyword">$this</span>-&gt;load-&gt;library(<span class="hljs-string">&#x27;htq&#x27;</span>);<br><span class="hljs-keyword">$this</span>-&gt;load-&gt;helper(<span class="hljs-string">&#x27;url&#x27;</span>);<br><span class="hljs-keyword">$this</span>-&gt;htq-&gt;Connect(<span class="hljs-keyword">$this</span>-&gt;system-&gt;system_cache[<span class="hljs-string">&#x27;htq_config&#x27;</span>][<span class="hljs-string">&#x27;app_key&#x27;</span>],<span class="hljs-keyword">$this</span>-&gt;system-&gt;system_cache[<span class="hljs-string">&#x27;htq_config&#x27;</span>][<span class="hljs-string">&#x27;app_token&#x27;</span>],<span class="hljs-keyword">$this</span>-&gt;system-&gt;system_cache[<span class="hljs-string">&#x27;htq_config&#x27;</span>][<span class="hljs-string">&#x27;url&#x27;</span>]);<br><span class="hljs-keyword">$this</span>-&gt;htq-&gt;addQueue(<span class="hljs-string">&quot;push&quot;</span>,<span class="hljs-string">&quot;real_time&quot;</span>);<br><span class="hljs-comment">//æŸ¥è¯¢æ‰€æœ‰æ¨é€äººå‘˜ä¿¡æ¯</span><br><span class="hljs-variable">$_list</span> = <span class="hljs-keyword">$this</span>-&gt;db-&gt;select(<span class="hljs-string">&#x27;push_channel,push_key&#x27;</span>)-&gt;where(<span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;lock&#x27;</span>=&gt;<span class="hljs-number">0</span>,<span class="hljs-string">&#x27;role&lt;=&#x27;</span>=&gt;<span class="hljs-number">2</span>))-&gt;get(<span class="hljs-string">&#x27;admins&#x27;</span>);<br><span class="hljs-keyword">while</span> (<span class="hljs-variable">$admin</span> = <span class="hljs-variable">$_list</span>-&gt;unbuffered_row(<span class="hljs-string">&#x27;array&#x27;</span>))<br>&#123;<br>    <span class="hljs-keyword">if</span>(in_array(<span class="hljs-variable">$admin</span>[<span class="hljs-string">&#x27;push_channel&#x27;</span>],<span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;bark&#x27;</span>,<span class="hljs-string">&#x27;ftqq&#x27;</span>)))&#123;<br>        <span class="hljs-comment">//å­˜åœ¨æ¨é€é¢‘é“åˆ™åŠ å…¥æ¨é€åˆ—é˜Ÿ</span><br>        <span class="hljs-variable">$push_channel</span> = <span class="hljs-variable">$admin</span>[<span class="hljs-string">&#x27;push_channel&#x27;</span>];<br>        <span class="hljs-variable">$push_key</span> = <span class="hljs-variable">$admin</span>[<span class="hljs-string">&#x27;push_key&#x27;</span>];<br>        <span class="hljs-keyword">$this</span>-&gt;htq-&gt;addTask(<span class="hljs-string">&quot;push&quot;</span>,site_url(<span class="hljs-string">&quot;api/task/push/<span class="hljs-subst">&#123;$push_channel&#125;</span>/<span class="hljs-subst">&#123;$push_key&#125;</span>/<span class="hljs-subst">&#123;$msgid&#125;</span>&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ‰§è¡Œå™¨</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">task</span>(<span class="hljs-params"><span class="hljs-variable">$type</span>,<span class="hljs-variable">$channel</span>,<span class="hljs-variable">$key</span>,<span class="hljs-variable">$id</span></span>)</span><br><span class="hljs-function"></span>&#123;<br>       <span class="hljs-variable">$id</span> = intval(<span class="hljs-variable">$id</span>);<br>       <span class="hljs-comment">//åˆ—é˜Ÿä»»åŠ¡æ‰§è¡Œ</span><br>       <span class="hljs-keyword">if</span>(<span class="hljs-variable">$type</span>==<span class="hljs-string">&#x27;push&#x27;</span>)&#123;<br>           <span class="hljs-comment">//æ ¹æ®IDå–å‡ºè¦æ¨é€çš„å†…å®¹</span><br>           <span class="hljs-variable">$msg</span> = <span class="hljs-keyword">$this</span>-&gt;db-&gt;select(<span class="hljs-string">&#x27;title,body&#x27;</span>)-&gt;where(<span class="hljs-string">&#x27;id&#x27;</span>,<span class="hljs-variable">$id</span>)-&gt;get(<span class="hljs-string">&#x27;push_msg&#x27;</span>,<span class="hljs-number">1</span>)-&gt;row_array();<br>           <span class="hljs-keyword">if</span>(<span class="hljs-variable">$msg</span>)&#123;<br>               <span class="hljs-comment">//å‘é€æ¨é€é€šçŸ¥</span><br>               <span class="hljs-keyword">$this</span>-&gt;load-&gt;model(<span class="hljs-string">&#x27;push_model&#x27;</span>);<br>               <span class="hljs-variable">$ret</span> = <span class="hljs-keyword">$this</span>-&gt;push_model-&gt;push(<span class="hljs-variable">$channel</span>,<span class="hljs-variable">$key</span>,<span class="hljs-string">&#x27;CRM é€šçŸ¥ï¼š&#x27;</span>.<span class="hljs-variable">$msg</span>[<span class="hljs-string">&#x27;title&#x27;</span>],<span class="hljs-variable">$msg</span>[<span class="hljs-string">&#x27;body&#x27;</span>]);<br>               <span class="hljs-keyword">$this</span>-&gt;echo(<span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;code&#x27;</span>=&gt;<span class="hljs-number">0</span>,<span class="hljs-string">&#x27;push_msg&#x27;</span>=&gt;<span class="hljs-variable">$ret</span>));<br>           &#125;<br>       &#125;<br>   &#125;<br></code></pre></td></tr></table></figure><p>å‚è€ƒå†…å®¹ï¼š<br><a href="http://blog.star7th.com/2016/09/2114.html">http://blog.star7th.com/2016/09/2114.html</a><br><a href="https://github.com/star7th/htq">https://github.com/star7th/htq</a><br><a href="https://www.showdoc.cc/htq?page_id=38897">https://www.showdoc.cc/htq?page_id=38897</a><br><a href="https://www.jianshu.com/p/7d3f3fa056e8">https://www.jianshu.com/p/7d3f3fa056e8</a><br><a href="https://blog.csdn.net/m0_37792354/article/details/80906113">https://blog.csdn.net/m0_37792354/article/details/80906113</a></p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚æœä½ è¿˜æ˜¯â€œç¨‹åºå‘˜â€ï¼Œæˆ‘åŠä½ åˆ«åˆ›ä¸šï¼</title>
    <link href="/read/86.html"/>
    <url>/read/86.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>å¾ˆå¤šç¨‹åºå‘˜ä¸€çœ‹å°±çŸ¥é“ä¸ä¼šåˆ›ä¸š</p></blockquote><h2 id="â€œç¨‹åºå‘˜æ€ç»´â€ä¼šå®³æ­»ä½ ï¼"><a href="#â€œç¨‹åºå‘˜æ€ç»´â€ä¼šå®³æ­»ä½ ï¼" class="headerlink" title="â€œç¨‹åºå‘˜æ€ç»´â€ä¼šå®³æ­»ä½ ï¼"></a>â€œç¨‹åºå‘˜æ€ç»´â€ä¼šå®³æ­»ä½ ï¼</h2><p>åœ¨ITè¿™ä¸€è¡Œåšå¾—ä¹…äº†ï¼Œä¼šæ¥è§¦åˆ°æ— æ•°è®©äººå“­ç¬‘ä¸å¾—çš„å¤–è¡Œè¯ã€‚</p><p>ã€Œæˆ‘ä»¬å°±å·®ä¸€ä¸ªå†™ä»£ç çš„äº†ã€æ˜¯å…¶ä¸­å…¸å‹çš„ä¸€ç§ï¼Œä¹‹æ‰€ä»¥é»‘å®ƒï¼Œä¸æ˜¯å› ä¸ºç¨‹åºå‘˜æœ‰å¤šè‡ªå¤§ï¼Œè®¤ä¸ºè‡ªå·±è¢«è½»è§†æ‰€ä»¥æ„¤æ€’ã€‚è€Œæ˜¯å› ä¸ºè¯´è¿™å¥è¯çš„äººé‡Œæœ‰90%ä»¥ä¸Šç»å¯¹ä¸ä»…ä»…å·®ä¸€ä¸ªå†™ä»£ç çš„ï¼Œè€Œæ˜¯ä¸€æ•´å¥—æŠ€æœ¯ä½“ç³»ã€‚</p><p>é‚£ä¹ˆï¼Œç¨‹åºå‘˜åœ¨åˆ›ä¸šå…¬å¸ä¹‹ä¸­çœŸçš„è¿™ä¹ˆé‡è¦å—ï¼Ÿï¼Ÿï¼Ÿ</p><span id="more"></span><p>å¹¶ä¸æ˜¯ï¼</p><h4 id="ä¸­å›½çš„ç¨‹åºå‘˜å¤§éƒ¨åˆ†æ˜¯ç›²ç›®çš„ï¼šåŠ¨ä¸åŠ¨å°±è‡ªç§°â€œCSDNä¸“å®¶â€ã€â€çŸ¥ä¹å¤§Vâ€ã€â€XXè½¯ä»¶ä¹‹çˆ¶â€ã€‚"><a href="#ä¸­å›½çš„ç¨‹åºå‘˜å¤§éƒ¨åˆ†æ˜¯ç›²ç›®çš„ï¼šåŠ¨ä¸åŠ¨å°±è‡ªç§°â€œCSDNä¸“å®¶â€ã€â€çŸ¥ä¹å¤§Vâ€ã€â€XXè½¯ä»¶ä¹‹çˆ¶â€ã€‚" class="headerlink" title="ä¸­å›½çš„ç¨‹åºå‘˜å¤§éƒ¨åˆ†æ˜¯ç›²ç›®çš„ï¼šåŠ¨ä¸åŠ¨å°±è‡ªç§°â€œCSDNä¸“å®¶â€ã€â€çŸ¥ä¹å¤§Vâ€ã€â€XXè½¯ä»¶ä¹‹çˆ¶â€ã€‚"></a>ä¸­å›½çš„ç¨‹åºå‘˜å¤§éƒ¨åˆ†æ˜¯ç›²ç›®çš„ï¼šåŠ¨ä¸åŠ¨å°±è‡ªç§°â€œCSDNä¸“å®¶â€ã€â€çŸ¥ä¹å¤§Vâ€ã€â€XXè½¯ä»¶ä¹‹çˆ¶â€ã€‚</h4><p>å°±ä¸€ä¸ªå†™ä»£ç çš„ç™½é¢†ï¼Œåœ¨åˆ›ä¸šå…¬å¸ä¹‹ä¸­çš„è´¡çŒ®ï¼Œå¹¶æ²¡æœ‰è‡ªå·±æƒ³è±¡ä¸­çš„å¤§ï¼</p><p>ä¸šç•Œä¸ŠçœŸæ­£å†™è¿‡åå¹´ä»£ç ï¼Œåˆ›ä¸šæˆåŠŸçš„æœ‰å‡ ä¸ªï¼Ÿï¼Ÿï¼Ÿ</p><p>é›¶ï¼ï¼ï¼</p><p>å¾ˆå¤šç¨‹åºå‘˜ï¼ˆåŒ…æ‹¬æˆ‘ï¼‰çš„è‡³é«˜ç†æƒ³ï¼šå†™ä¸€ä¸ªç‰›é€¼çš„APPï¼Œä¸€å¹´æŒ£ä¸ªå‡ ç™¾ä¸‡ã€‚æœ€å¥½åƒå½“å¹´å¼ å°é¾™å†™Foxmailä¸€æ ·ï¼Œç”¨æˆ·éå¸ƒå…¨çƒï¼Œè¿˜æœªè‡ªå·±è¿›å…¥è…¾è®¯åšå¾®ä¿¡æ‰“ä¸‹åŸºç¡€ã€‚</p><p>å¦‚æœä½ çœŸæ­£çš„äº†è§£å¼ å°é¾™è¿™ä¸ªäººï¼Œä½ ä¼šå‘ç°ï¼šFoxmailåœ¨å•†ä¸šæ¨å¹¿ç­–ç•¥ä¸Šçš„ç‰›é€¼ï¼Œè¿œå¤§äºä»–ä¸ªäººåœ¨ä»£ç ä¸Šçš„è´¡çŒ®ã€‚</p><h2 id="è¿·æ‹ç¨‹åºï¼è‚¯å®šæ²¡æˆï¼"><a href="#è¿·æ‹ç¨‹åºï¼è‚¯å®šæ²¡æˆï¼" class="headerlink" title="è¿·æ‹ç¨‹åºï¼è‚¯å®šæ²¡æˆï¼"></a>è¿·æ‹ç¨‹åºï¼è‚¯å®šæ²¡æˆï¼</h2><p>ç¨‹åºå‘˜ï¼Œç‰¹åˆ«æ˜¯ä¸­å›½çš„ç¨‹åºå‘˜ï¼Œéå¸¸ç¼ºä¹åˆä½œå¿ƒæ€ã€‚</p><p>ä¼šä¸€äº›ç®€å•ç®—æ³•/æ¶æ„å°±è§‰å¾—å¯ä»¥Control Everythingã€‚</p><p>æƒæ‰å‚²ç‰©ï¼Stupidï¼</p><h5 id="ç¨‹åºå‘˜çš„è‡ªä¿¡åœ¨ç¼–ç¨‹ä¸Šæ˜¯éå¸¸éœ€è¦çš„ï¼Œä½†ä¸æ˜¯é€‚åˆä¸€åˆ‡åœºåˆã€‚åˆ›ä¸šä»…ä»…å…·å¤‡äº†å’Œæœºå™¨æ‰“äº¤é“è¿™ä¸€ç§èƒ½åŠ›æ˜¯ç»å¯¹ä¸å¤Ÿçš„ï¼Œä»–è¿˜éœ€è¦å’Œåˆä½œä¼™ä¼´ã€ç«äº‰å¯¹æ‰‹ã€æŠ•èµ„äººã€å‘˜å·¥ç”šè‡³æ•´ä¸ªç¤¾ä¼šç¯å¢ƒæ‰“äº¤é“ã€‚"><a href="#ç¨‹åºå‘˜çš„è‡ªä¿¡åœ¨ç¼–ç¨‹ä¸Šæ˜¯éå¸¸éœ€è¦çš„ï¼Œä½†ä¸æ˜¯é€‚åˆä¸€åˆ‡åœºåˆã€‚åˆ›ä¸šä»…ä»…å…·å¤‡äº†å’Œæœºå™¨æ‰“äº¤é“è¿™ä¸€ç§èƒ½åŠ›æ˜¯ç»å¯¹ä¸å¤Ÿçš„ï¼Œä»–è¿˜éœ€è¦å’Œåˆä½œä¼™ä¼´ã€ç«äº‰å¯¹æ‰‹ã€æŠ•èµ„äººã€å‘˜å·¥ç”šè‡³æ•´ä¸ªç¤¾ä¼šç¯å¢ƒæ‰“äº¤é“ã€‚" class="headerlink" title="ç¨‹åºå‘˜çš„è‡ªä¿¡åœ¨ç¼–ç¨‹ä¸Šæ˜¯éå¸¸éœ€è¦çš„ï¼Œä½†ä¸æ˜¯é€‚åˆä¸€åˆ‡åœºåˆã€‚åˆ›ä¸šä»…ä»…å…·å¤‡äº†å’Œæœºå™¨æ‰“äº¤é“è¿™ä¸€ç§èƒ½åŠ›æ˜¯ç»å¯¹ä¸å¤Ÿçš„ï¼Œä»–è¿˜éœ€è¦å’Œåˆä½œä¼™ä¼´ã€ç«äº‰å¯¹æ‰‹ã€æŠ•èµ„äººã€å‘˜å·¥ç”šè‡³æ•´ä¸ªç¤¾ä¼šç¯å¢ƒæ‰“äº¤é“ã€‚"></a>ç¨‹åºå‘˜çš„è‡ªä¿¡åœ¨ç¼–ç¨‹ä¸Šæ˜¯éå¸¸éœ€è¦çš„ï¼Œä½†ä¸æ˜¯é€‚åˆä¸€åˆ‡åœºåˆã€‚åˆ›ä¸šä»…ä»…å…·å¤‡äº†å’Œæœºå™¨æ‰“äº¤é“è¿™ä¸€ç§èƒ½åŠ›æ˜¯ç»å¯¹ä¸å¤Ÿçš„ï¼Œä»–è¿˜éœ€è¦å’Œåˆä½œä¼™ä¼´ã€ç«äº‰å¯¹æ‰‹ã€æŠ•èµ„äººã€å‘˜å·¥ç”šè‡³æ•´ä¸ªç¤¾ä¼šç¯å¢ƒæ‰“äº¤é“ã€‚</h5><p>å¾ˆå¤šç¨‹åºå‘˜å› ä¸ºå·²ç»ä¹ æƒ¯äº†å’Œæœºå™¨æ‰“äº¤é“ï¼Œä¸å–„äºä¹Ÿä¸æ„¿æ„å…¶å®ƒçš„å·¥ä½œã€‚å¾ˆå¤šç¨‹åºå‘˜ä¼šå†…å¿ƒè®¤ä¸ºâ€œè¥é”€ä¸æ˜¯å¾ˆç®€å•å˜›ï¼Œå¸‚åœºå¾ˆç®€å•å•Šï¼Œç®¡ç†ä¹Ÿå¾ˆç®€å•å•Šï¼Œâ€è¿™ç§å¿ƒæ€æ˜¯éå¸¸å®³äººçš„ã€‚</p><p>æˆ‘çš„å¾ˆå¤šæœ‹å‹åœ¨æ€»ç»“è‡ªå·±åˆ›ä¸šå¤±è´¥çš„æ—¶å€™ï¼Œå¾€å¾€ä¼šè¯´ï¼š</p><p>â€œæˆ‘å½“å¹´åœ¨BATä¸­ï¼Œå¦‚æ­¤å±å’¤é£äº‘ï¼å°±è¿ç°åœ¨å…¬å¸å¼€å‘çš„APPä¹Ÿæ˜¯å¦‚æ­¤ä¸€æµï¼ä¸ºä»€ä¹ˆå°±ä¸èƒ½æˆåŠŸå‘¢ï¼Ÿâ€</p><p>æˆ‘æƒ³è¯´ï¼Œè„±ç¦»äº†â€œBATâ€çš„å…‰ç¯ä½ å•¥ä¹Ÿä¸æ˜¯ï¼ï¼ï¼</p><p>ä¸è¦è®©ä»£ç çš„æˆåŠŸï¼Œç»™è‡ªå·±å¸¦æ¥çš„è™šå‡ä¼˜ç§€çš„è‡ªè´Ÿï¼Œè¿™ç§è‡ªè´Ÿä¸è¦è¯´åˆ›ä¸šï¼Œå¯èƒ½åœ¨åœ¨å…¬å¸ä¸­å·¥ä½œä¹Ÿä¼šé‡åˆ°é—®é¢˜ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ç”šè‡³è®¤ä¸ºç¨‹åºå‘˜åœ¨åˆ›ä¸šæ–¹é¢é‡åˆ°çš„å›°éš¾æ¯”å…¶å®ƒç±»å‹çš„äººå‘˜æ›´å¤§ã€‚å¦‚æœç¨‹åºå‘˜å¸Œæœ›ä¸»å¯¼ä¸€ä¸ªåˆ›ä¸šï¼Œå¯èƒ½é¦–å…ˆå°±è¦é€¼è‡ªå·±ä¸æ˜¯ä¸€ä¸ªç¨‹åºå‘˜ã€‚</p><h2 id="ä½ å¹¶ä¸ç‰›é€¼ï¼é‡è§†æ¯ä¸€ä¸ªæ–¹å‘ï¼"><a href="#ä½ å¹¶ä¸ç‰›é€¼ï¼é‡è§†æ¯ä¸€ä¸ªæ–¹å‘ï¼" class="headerlink" title="ä½ å¹¶ä¸ç‰›é€¼ï¼é‡è§†æ¯ä¸€ä¸ªæ–¹å‘ï¼"></a>ä½ å¹¶ä¸ç‰›é€¼ï¼é‡è§†æ¯ä¸€ä¸ªæ–¹å‘ï¼</h2><p>å­¦ä¼šå’Œåˆ«äººåˆä½œï¼ï¼ï¼</p><p>è¿™ç‚¹çœ‹ä¼¼å¾ˆç®€å•</p><p>â€œæˆ‘ä¼šåˆä½œå•Šï¼ ä½ çœ‹Javaåå°ã€Androidã€iOSä»–ä»¬é…åˆå¾—å¤šå¥½ï¼â€</p><p>ä½†è¿™ç§åˆä½œæ˜¯ç‰‡é¢çš„ï¼Œæ‰€è°“çš„åˆä½œä¸æ˜¯ç¨‹åºå‘˜å’Œç¨‹åºå‘˜ä¹‹é—´çš„åˆä½œï¼Œè€Œæ˜¯åŒ…æ‹¬äº†ç¨‹åºå‘˜å’Œå…¶å®ƒå„ç§è§’è‰²ä¹‹é—´çš„åˆä½œã€‚</p><ul><li>ç¨‹åºçš„ä¸Šçº¿å‘¨æœŸDelayï¼Œæœ‰æ²¡æœ‰ç›¸åº”çš„å•†åŠ¡æ¨å¹¿é…åˆï¼Ÿ</li><li>åœ°æ¨å›¢é˜Ÿè¿˜æ²¡åˆ°ï¼Œæ˜¯å¦å°±è¯¥åœ¨ç¬¬ä¸€ä¸ªç‰ˆæœ¬è®¾è®¡è¿™ä¹ˆå¤æ‚çš„åŠŸèƒ½ï¼Ÿ</li><li>å…¬å¸å‰æœŸé¢„ç®—ä¸å¤Ÿï¼Œä¸€å®šè¦åšåŸç”Ÿçš„APPå—ï¼Ÿ</li><li>åˆ†å¸ƒå¼æ¶æ„è¿™ä¹ˆå¥½ï¼Œä¸ºä»€ä¹ˆè¦ç”¨All In Oneæ¶æ„ï¼Ÿ</li><li>ä¹Ÿè®¸ä½ èƒ½å¤Ÿå†™å‡ºå®Œç¾çš„APPï¼Œä½†æ˜¯è¿™ä¸æ„å‘³ç€å…¬å¸çš„æˆåŠŸï¼</li></ul><p>å¦‚æœå‰–å¼€ä¸€äº›æ•…äº‹çš„å¤–è¡¨ï¼Œä½ ä¼šå‘ç°å›½å¤–å¾ˆå¤šæˆåŠŸçš„ç¨‹åºå‘˜ï¼ŒèƒŒåä¸€å®šæœ‰ä¸€ä¸ªå¾ˆå¼ºå¤§çš„å•†ä¸šæ„Ÿè§‰çš„äººæˆ–è€…ä¸€ä¸ªå›¢é˜Ÿã€‚</p><p>å¦‚æœç†Ÿè¯»Facebookçš„å†å²ï¼Œä½ ä¼šå‘ç°ï¼Œæ‰å…‹ä¼¯æ ¼åœ¨åˆ›ä¸šæ—¶æœŸï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ›¾åœ¨æµè§ˆå™¨å¤§æˆ˜ä¸­æƒœè´¥å¾®è½¯çš„Netscapeå…¬å¸åˆ›å§‹äººé©¬å…‹Â·å®‰å¾·æ£®ï¼Œå¸®åŠ©ç»„ä»¶å•†ä¸šå›¢é˜Ÿï¼Œå°æ‰è‡ªå·±ç°åœ¨ä¼°è®¡è¿˜æ˜¯ä¸€åç å†œã€‚</p><p>ç”šè‡³ç›´åˆ°Facebookä¸Šå¸‚ï¼Œå°æ‰ä¹Ÿç¦»ä¸å¼€ä»–èº«åçš„å¼ºå¤§çš„å„ç¯èŠ‚çš„å›¢é˜Ÿã€‚å…¶ä¸­ï¼ŒFacebookæœ‰ä½æ˜æ˜ŸCOOâ€”â€”é›ªè‰Â·æ¡‘å¾·ä¼¯æ ¼ï¼Œå¥¹æ¯”æ‰å…‹ä¼¯æ ¼å¤§15å²ï¼Œå“ˆä½›MBAç¡•å£«ï¼Œæ˜¯ä¸€ä½æå¯Œç»éªŒçš„ç²¾è‹±å¥³ä¼ä¸šå®¶ã€‚Facebookèƒ½æœ‰ä»Šå¤©çš„æˆå°±ï¼Œå¤šåŠè¦å½’åŠŸäºæ¡‘å¾·ä¼¯æ ¼è¿™æ ·çš„â€œæˆå¹´äººâ€ä»æ—è¾…ä½ã€‚</p><p>ç¨‹åºå‘˜çš„å•†ä¸šæ„Ÿè§‰å…¶å®å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚å³ä¾¿æœ‰å•†ä¸šæ„Ÿè§‰ï¼Œå…¶å®è¿™åªæ˜¯ä¸€ä¸ªçµæ„Ÿï¼Œä¸€ä¸ªåˆ›æ„ï¼Œä½†è¦è¦åšæˆã€åšå¤§è¿˜éœ€è¦ä¸€ç³»åˆ—çš„ç®¡ç†ã€å¸‚åœºã€è¿è¥ï¼Œè¿™äº›å¯¹äºç¨‹åºå‘˜æ˜¯ä¸å¯æƒ³è±¡çš„ã€‚</p><p>ç¨‹åºå‘˜è¦æ˜ç™½ï¼Œåœ¨è‡ªå·±ä¸æ“…é•¿çš„é¢†åŸŸï¼Œæ‰¾åˆ°ä¸€ä¸ªå¯ä»¥å¼¥è¡¥è‡ªå·±ç¼ºé™·çš„åˆä½œå›¢é˜Ÿæ‰æ˜¯å‡ºè·¯ã€‚åŠ å…¥ä¸€ä¸ªåˆ›ä¸šå›¢é˜Ÿï¼Œå¯èƒ½ä¸ªäººå  10%ï¼Œä½†å› ä¸ºæ›´å®¹æ˜“æˆåŠŸï¼Œè€Œä¸”å›¢é˜Ÿå¯ä»¥åš 100 åˆ†çš„äº‹æƒ…ã€‚è€Œå¦‚æœåªæ˜¯ä¸€ä¸ªäººåšï¼Œå¾ˆå¯èƒ½å°±å¤±è´¥äº†ã€‚</p><p>è¿™æ–¹é¢ï¼Œå›½å¤–çš„ç¨‹åºå‘˜å¯¹è‡ªå·±çš„é•¿çŸ­æ¯”è¾ƒæ¸…æ¥šã€‚åœ¨ç¡…è°·ï¼Œå¾ˆå¤šç¨‹åºå‘˜æŠ€æœ¯ä¸Šéƒ½å¾ˆç‰›ï¼Œä½†ä»–ä»¬éƒ½éå¸¸çŸ¥é“è‡ªå·±åªæ˜¯åœ¨æŠ€æœ¯è¿™ä¸ªé¢†åŸŸæ°´å¹³æ¯”è¾ƒé«˜ï¼Œå‡ºäº†è¿™ä¸ªé¢†åŸŸï¼Œè‡ªå·±ä»€ä¹ˆéƒ½ä¸æ˜¯ã€‚æ­£å› ä¸ºæœ‰äº†è¿™ç§å¿ƒæ€ï¼Œä»–ä»¬ç‰¹åˆ«æ‡‚å¾—ä¸äººåˆä½œã€‚æˆ‘è®¤ä¸ºå›½å¤–çš„ç¨‹åºå‘˜å·²ç»æ™®éæ„è¯†åˆ°äº†è¿™ç‚¹ï¼Œä»–ä»¬å¾ˆæ„¿æ„æˆä¸ºåˆ›ä¸šå›¢é˜Ÿä¸­çš„ä¸€å‘˜è€Œå¹¶éè‡ªå·±åˆ›ä¸šã€‚</p><h2 id="æŠ€æœ¯éƒ½åšä¸å¥½ï¼Œåˆ«æåˆ›ä¸šï¼"><a href="#æŠ€æœ¯éƒ½åšä¸å¥½ï¼Œåˆ«æåˆ›ä¸šï¼" class="headerlink" title="æŠ€æœ¯éƒ½åšä¸å¥½ï¼Œåˆ«æåˆ›ä¸šï¼"></a>æŠ€æœ¯éƒ½åšä¸å¥½ï¼Œåˆ«æåˆ›ä¸šï¼</h2><p>å¹²äº†5å¹´å¤šçš„ç¨‹åºå‘˜ï¼Œä¸å¾—ä¸æ‰¿è®¤ä¸€ä¸ªç°å®ï¼š</p><h4 id="ç¨‹åºå‘˜ç”Ÿå­˜çŠ¶æ€å¹¶ä¸æ˜¯å¾ˆå¥½"><a href="#ç¨‹åºå‘˜ç”Ÿå­˜çŠ¶æ€å¹¶ä¸æ˜¯å¾ˆå¥½" class="headerlink" title="ç¨‹åºå‘˜ç”Ÿå­˜çŠ¶æ€å¹¶ä¸æ˜¯å¾ˆå¥½"></a>ç¨‹åºå‘˜ç”Ÿå­˜çŠ¶æ€å¹¶ä¸æ˜¯å¾ˆå¥½</h4><h5 id="ä½†ç¨‹åºå‘˜å¾ˆå¤šæŠ¥æ€¨å…¶å®æ˜¯ä¸€ç§ä¸åˆ‡å®é™…çš„æœŸæœ›å€¼å’Œè‡ªèº«çš„ç¼ºé™·äº§ç”Ÿçš„åå·®ã€‚"><a href="#ä½†ç¨‹åºå‘˜å¾ˆå¤šæŠ¥æ€¨å…¶å®æ˜¯ä¸€ç§ä¸åˆ‡å®é™…çš„æœŸæœ›å€¼å’Œè‡ªèº«çš„ç¼ºé™·äº§ç”Ÿçš„åå·®ã€‚" class="headerlink" title="ä½†ç¨‹åºå‘˜å¾ˆå¤šæŠ¥æ€¨å…¶å®æ˜¯ä¸€ç§ä¸åˆ‡å®é™…çš„æœŸæœ›å€¼å’Œè‡ªèº«çš„ç¼ºé™·äº§ç”Ÿçš„åå·®ã€‚"></a>ä½†ç¨‹åºå‘˜å¾ˆå¤šæŠ¥æ€¨å…¶å®æ˜¯ä¸€ç§ä¸åˆ‡å®é™…çš„æœŸæœ›å€¼å’Œè‡ªèº«çš„ç¼ºé™·äº§ç”Ÿçš„åå·®ã€‚</h5><p>äº§å“æ²¡æœ‰å¤§å°ï¼Œåªæœ‰å¸‚åœºçš„å¤§å°ã€‚å¾ˆå¤šäººæ€»æ˜¯è§‰å¾—è¿™ä¹Ÿå°ï¼Œé‚£ä¹Ÿçœ‹ä¸ä¸Šã€‚è®¤ä¸ºå…¬å¸åšçš„äº§å“å¾ˆæ— èŠï¼Œè¦åšå°±è¦åƒæŸäº›äººå®£æ‰¬çš„é‚£æ ·ï¼šåšæ¸¸æˆä¸€å®šè¦åš 3D å¼•æ“ï¼Œå¥½åƒåªæœ‰è¿™æ ·æ‰å¤Ÿç‰›ã€‚</p><p>ä¸å°Šé‡ç°æœ‰è‡ªå·±æ‰€å¼€å‘çš„äº§å“ï¼Œå°±æ˜¯ä¸€ç§æµ®èºã€‚å…¬å¸çš„å•†ä¸šè‡ªç„¶æœ‰å…¶æˆ˜ç•¥æ„ä¹‰ä¸Šçš„ä¸€éƒ¨ï¼Œç¨‹åºå‘˜èƒ½å¤Ÿåšçš„å°±æ˜¯è®©ä»–ç¨³å®šé¡ºç•…çš„è¿è¡Œã€‚</p><p>ä½†ï¼Œå¾ˆå¤šç¨‹åºå‘˜å†™çš„ä¸œè¥¿æ€»æ˜¯å¾ˆå¤šBugã€æŠ€æœ¯çŸ¥è¯†ä¹Ÿä¸ç‰¢å›ºã€æ²¡å‚åŠ è¿‡å‡ ä¸ªå¤§é¡¹ç›®ã€æœ€åŸºæœ¬çš„HTTPåè®®éƒ½æä¸æ¸…æ¥šã€ä»£ç é‡ç”šè‡³é‡10ä¸‡è¡Œä¹Ÿæ²¡æœ‰ã€‚è¿™ä¸ªæ—¶å€™ï¼Œä½ è·Ÿæˆ‘è¯´ä½ æƒ³æ”¹å˜ä¸–ç•Œã€‚æœ‰æ„ä¹‰å—ï¼Ÿæœ‰ä»·å€¼å—ï¼Ÿæˆ‘æ•¢è®©ä½ åšå—ï¼Ÿ</p><p>è¿™ä¸ªæ—¶å€™ï¼Œä½ è¿˜æŒºæ„¤é’ï¼Œéª‚å…¬å¸ã€éª‚äº§å“ã€éª‚è€æ¿çš„å·¥èµ„å°‘ï¼Œä½†ä½ æœ‰æ²¡æœ‰æƒ³è¿‡è‡ªå·±ç»™å…¬å¸å¢åŠ äº†å¤šå°‘Bugï¼Œè‡ªå·±è®©å…¬å¸çš„æ•´ä¸ªå•†ä¸šè®¡åˆ’Delayäº†ä¸¤å‘¨ã€‚è®©è‡ªå·±å‘¨è¾¹çš„åŒäº‹å·¥ä½œæ°”æ°›éƒ½ä¸å¥½äº†ï¼Œæ•´ä¸ªå›¢é˜Ÿä¹ŒçƒŸç˜´æ°”ã€‚</p><p>æœ‰äº›ç¨‹åºå‘˜å°±çš„è¦æ±‚å°±ç‰¹åˆ«è‹›åˆ»ï¼Œè§‰å¾—è¿™ä¸è¡Œï¼Œé‚£ä¹Ÿä¸è¡Œï¼ŒPMå¿…é¡»æŠŠå®Œç¾çš„é€»è¾‘è·¯å¾„ç»™æˆ‘ã€è®¾è®¡å¿…é¡»ç»™æˆ‘åˆ‡æ¯ä¸€ä¸ªå°ºå¯¸çš„å›¾ç‰‡ã€ä¸ºä»€ä¹ˆæµ‹è¯•ä¸èƒ½æŠŠæ¡çš„Bugæµ‹å‡ºæ¥ï¼Ÿ</p><p>ä¸¥æ ¼è¦æ±‚æ˜¯å¥½äº‹ï¼Œä½†ä¸¥æ ¼è¦æ±‚æ˜¯è¦æ±‚è‡ªå·±ï¼Œå¹¶ä¸æ˜¯è¦æ±‚åˆ«äººã€‚ç¨‹åºå‘˜ä¸è¦åšè¯„è®ºå®¶ï¼Œä¸­å›½ä¸ç¼ºè¯„è®ºå®¶ï¼Œæœ€ç¼ºçš„æ˜¯å®å¹²å®¶ã€‚</p><p>é•¿æœŸæ¥è§¦ç¨‹åºå®¹æ˜“æ´»åœ¨è‡ªæˆ‘çš„ä¸–ç•Œä¸­ï¼Œå°±ä¸å¯èƒ½çœŸæ­£äº†è§£ä¸–ç•Œæ˜¯ä»€ä¹ˆã€‚ç¨‹åºå‘˜è¦å­¦ä¼šæ…¢æ…¢ç«™åœ¨åˆ«äººç«‹åœºä¸Šçœ‹é—®é¢˜ã€‚</p><h5 id="å› ä¸ºï¼šç‰›é€¼çš„ç¨‹åºå‘˜ï¼Œå¿…é¡»å‡ºè‡ªç‰›é€¼çš„å…¬å¸ã€‚"><a href="#å› ä¸ºï¼šç‰›é€¼çš„ç¨‹åºå‘˜ï¼Œå¿…é¡»å‡ºè‡ªç‰›é€¼çš„å…¬å¸ã€‚" class="headerlink" title="å› ä¸ºï¼šç‰›é€¼çš„ç¨‹åºå‘˜ï¼Œå¿…é¡»å‡ºè‡ªç‰›é€¼çš„å…¬å¸ã€‚"></a>å› ä¸ºï¼šç‰›é€¼çš„ç¨‹åºå‘˜ï¼Œå¿…é¡»å‡ºè‡ªç‰›é€¼çš„å…¬å¸ã€‚</h5><p>è¯´åˆ°è¿™é‡Œï¼Œä½ æ˜¯å¦ä¹Ÿæ€€ç–‘è‡ªå·±è‡ªå·±çš„åˆ¤æ–­ï¼šâ€œè²Œä¼¼PMåœ¨ä¸€ä¸ªä¼ä¸šé‡Œé¢è¿˜æ˜¯æœ‰ä¸€å®šçš„ä»·å€¼çš„ï¼â€</p><p>è¿™é‡Œï¼Œç»™å¤§å®¶å‡ ä¸ªåˆ›ä¸šè¿™äº›å¹´æˆ‘çš„å¿ƒå¾—ï¼š</p><p>éœ€è¦è°ƒæ•´å¿ƒæ€ï¼Œä¸è¦æŠŠè‡ªå·±å½“ä½œç²¾è‹±äººç‰©ï¼Œè¦æ‰¿è®¤è‡ªå·±åœ¨ç¼–ç¨‹æ–¹é¢æ˜¯ä¼˜ç§€çš„ï¼Œä½†æ°¸è¿œæœ‰äººæ¯”è‡ªå·±æ›´ä¼˜ç§€ï¼Œå¯¹äºå…¶å®ƒçš„é¢†åŸŸï¼Œå¾ˆå¯èƒ½è‡ªå·±å¾ˆæ— çŸ¥ã€‚è¦çŸ¥é“ï¼Œå…¶å®ç¨‹åºå‘˜çš„é€‰æ‹©å…¶å®æ˜¯æœ€å°‘çš„ï¼Œå› æ­¤æŠ±æœ‰å¼€æ”¾çš„å¿ƒæ€æ˜¯æœ€é‡è¦çš„ã€‚</p><ul><li>å¤§é‡çš„å®è·µï¼Œè¦æ…¢æ…¢åŸ¹å…»å¯¹äº§å“ï¼Œå¯¹å•†ä¸šçš„æ„Ÿè§‰ã€‚</li><li>è°ƒæ•´å¿ƒæ€ï¼Œæ¥å—ä¸åŒæ–¹å‘äººå‘˜çš„å¿ƒå£°ï¼Œäº†è§£ä»–ä»¬çš„è¯‰æ±‚ã€‚</li><li>èµ„æºé…ç½®çš„æ”¶ç›Šï¼Œè¿œå¤§äºäº²æ‰‹å»å†™æ¯ä¸€ä¸ªè¡Œä»£ç </li></ul><hr><p>ä½œè€…ï¼šåŒ—æ¼‚å‘¨<br>æ¥æºï¼šCSDN<br>åŸæ–‡ï¼š<a href="https://blog.csdn.net/yzzst/article/details/68941791">https://blog.csdn.net/yzzst/article/details/68941791</a></p>]]></content>
    
    
    <categories>
      
      <category>é—²è¨€ç¢è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ç¾¤è¾‰æŒ‚è½½NFSæ–¹æ³•</title>
    <link href="/read/83.html"/>
    <url>/read/83.html</url>
    
    <content type="html"><![CDATA[<p>è‡ªç•™ä¿å­˜ä¸€ä¸‹ï¼Œä»¥å…å¿˜è®°</p><span id="more"></span><p>å‚è€ƒé“¾æ¥<br><a href="https://post.smzdm.com/p/632220/">https://post.smzdm.com/p/632220/</a><br><a href="https://blog.bbzhh.com/index.php/archives/110.html">https://blog.bbzhh.com/index.php/archives/110.html</a></p><p>ç¾¤æ™–5.2ç‰ˆæœ¬ä¸‹çš„busyboxåªæ”¯æŒNFS3.0åè®®ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆè¦ä¸‹è½½æ–°ç‰ˆçš„busyboxæ¥æ”¯æŒNFS4.1ã€‚å®˜ç½‘é€‚åˆäºç¾¤æ™–5.2ç‰ˆæœ¬çš„æ–‡ä»¶åæ˜¯busybox-x86_64ã€‚<a href="https://busybox.net/downloads/binaries/1.26.2-defconfig-multiarch/busybox-x86_64" title="å®˜ç½‘busybox-x86_64ä¸‹è½½åœ°å€">å®˜ç½‘busybox-x86_64ä¸‹è½½åœ°å€</a></p><p>å¼€æœºè‡ªå¯è·¯å¾„<br><code>/usr/syno/etc.defaults/rc.d/S99mount.sh</code></p><p>æŒ‚è½½å‚æ•°</p><pre><code>/bin/busybox-x86_64 mount -t nfs -o hard,vers=4.1 10.1.2.3:/files /volume1/å…±äº«/files/bin/busybox-x86_64 mount -t nfs -o hard,vers=4.1 10.1.2.3:/photo /volume1/photo/bin/busybox-x86_64 mount -t nfs -o hard,vers=4.1 10.1.2.3:/video /volume1/video</code></pre>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ç”µä¿¡å®¶åº­äº‘ä¸Šè¡Œæé€Ÿ 20M</title>
    <link href="/read/82.html"/>
    <url>/read/82.html</url>
    
    <content type="html"><![CDATA[<p>ç”µä¿¡å®¶åº­äº‘APPå¯ä»¥åœ¨APPå†…ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™ä¸´æ—¶æå‡ä¸Šä¼ å¸¦å®½ä¸º20Mï¼Œç½‘ä¸Šå·²ç»æœ‰å¤§ç¥æåˆ°è·¯ç”±å™¨ä¸Šäº†ï¼Œç”±äºæˆ‘æ²¡æœ‰ç›¸å…³çš„è·¯ç”±å™¨ï¼Œä¹Ÿå¯¹baseä¸ç†Ÿæ‚‰ï¼Œä½†æ˜¯æˆ‘æœ‰ä¸€å°ESXI :wink: æ‰€ä»¥ç”¨æ˜“è¯­è¨€å†™äº†ä¸ªåŠ é€Ÿå™¨ï¼Œè™šæ‹Ÿäº†ä¸€ä¸ªXPæ¥è¿è¡Œï¼Œèƒ½åŠ é€ŸæˆåŠŸï¼Œä¸çŸ¥é“åç»­ï¼Œæˆ‘æ²¡æœ‰ä»˜è´¹ï¼Œç¨³å®šè¿è¡Œäº†å‡ ååˆ†é’Ÿäº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2018/01/1790431306.jpg"></p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2018/01/3548461026.png"></p><p>æ¼æ´åˆ†æï¼šç”±äºç”µä¿¡æœåŠ¡å™¨æ²¡æœ‰éªŒè¯Signatureå’Œå½“å‰æ—¶é—´å¯¹åº”ï¼Œè·å–åˆ°ä¸€æ¬¡Signatureä¹‹åå¯ä»¥åå¤ä½¿ç”¨ã€‚</p><p>æ›´æ–°ï¼ˆ2018-1-15ï¼‰ï¼šç”¨äº†ä¸€å¤©ä¹‹åï¼Œå¤±æ•ˆäº†ï¼Œä¸è¿”å›æé€ŸSNï¼ŒèŠ±äº†15ä¹°äº†ä¸€ä¸ªæœˆæ‰å¯ä»¥ç»§ç»­è¿è¡Œâ€¦â€¦</p><p>ps:ç§’å’Œåˆ†é’Ÿå†™é”™äº†ï¼Œè¯·æ— è§†ã€‚</p><p>å‚è€ƒï¼š<a href="http://rt.cn2k.net/?p=389">http://rt.cn2k.net/?p=389</a></p>]]></content>
    
    
    <categories>
      
      <category>é—²è¨€ç¢è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>äº¤å‰ç¼–è¯‘ARMç‰ˆ(R7000è·¯ç”±å™¨)SSR-libevå®¢æˆ·ç«¯/æœåŠ¡å™¨ç«¯</title>
    <link href="/read/build_ssr_for_arm.html"/>
    <url>/read/build_ssr_for_arm.html</url>
    
    <content type="html"><![CDATA[<p>###1.æ­å»ºç¼–è¯‘ç¯å¢ƒ<br>æˆ‘çš„ç¼–è¯‘ç³»ç»Ÿæ˜¯centos7<br>é¦–å…ˆä¸‹è½½å·¥å…·é“¾<br><a href="ftp://downloads.netgear.com/files/GPL/R6250-V1.0.0.62_with_toolchain_source.zip" title="R6250-V1.0.0.62_with_toolchain_source.zip">R6250-V1.0.0.62_with_toolchain_source.zip</a><br>åªéœ€è¦é‡Œé¢çš„<code>hndtools-arm-linux-2.6.36-uclibc-4.5.3.tar.bz2</code>å·¥å…·é“¾åŒ…,R7000é€šç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /home/R7000<br>tar jxvf hndtools-arm-linux-2.6.36-uclibc-4.5.3.tar.bz2<br>sudo ln -s /home/R7000/hndtools-arm-linux-2.6.36-uclibc-4.5.3 /opt/brcm-arm<br><br>yum install libelf.so.1 libz.so.1 asciidoc xmlto<br></code></pre></td></tr></table></figure><p>###2.ä¸‹è½½æºç åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://tls.mbed.org/download/mbedtls-2.4.0-apache.tgz<br>tar zxvf mbedtls-2.4.0-apache.tgz<br>mkdir mbedtls<br><br>wget https://downloads.sourceforge.net/project/libpng/zlib/1.2.11/zlib-1.2.11.tar.gz<br>tar zxvf zlib-1.2.11.tar.gz<br>mkdir zlib<br><br>wget https://downloads.sourceforge.net/projects/pcre/files/pcre/8.39/pcre-8.39.tar.gz<br>tar zxvf pcre-8.39.tar.gz<br>mkdir pcre<br><br>git <span class="hljs-built_in">clone</span> https://github.com/shadowsocksr/shadowsocksr-libev.git<br>mkdir ss<br></code></pre></td></tr></table></figure><p>###3.æ·»åŠ ç¯å¢ƒå˜é‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> PATH=/opt/brcm-arm/bin:<span class="hljs-variable">$PATH</span><br><span class="hljs-built_in">export</span> LD_LIBRARY_PATH=<span class="hljs-variable">$&#123;LD_LIBRARY_PATH&#125;</span>:/opt/brcm-arm/lib:/usr/<span class="hljs-built_in">local</span>/lib:/usr/lib<br><span class="hljs-built_in">export</span> CC=arm-uclibc-linux-2.6.36-gcc<br><span class="hljs-built_in">export</span> CXX=arm-uclibc-linux-2.6.36-g++<br><span class="hljs-built_in">export</span> AR=arm-uclibc-linux-2.6.36-ar<br><span class="hljs-built_in">export</span> RANLIB=arm-uclibc-linux-2.6.36-ranlib<br></code></pre></td></tr></table></figure><p>###4.å¼€å§‹ç¼–è¯‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> mbedtls-2.4.0-apache<br>vi Makefile<span class="hljs-comment">#ä¿®æ”¹ç¬¬äºŒè¡Œä¸ºDESTDIR=/home/R7000/mbedtls</span><br>make &amp;&amp; make install<br><br><span class="hljs-built_in">cd</span> ../<br><span class="hljs-built_in">cd</span> zlib-1.2.11<br>./configure --prefix=/home/R7000/zlib<br>make &amp;&amp; make install<br><br><span class="hljs-built_in">cd</span> ../<br><span class="hljs-built_in">cd</span> pcre-8.39<br>./configure --prefix=/home/R7000/pcre --host=arm-uclibc-linux<br><br><br><span class="hljs-built_in">cd</span> shadowsocksr-libev<br>./configure --prefix=/home/R7000/ss --with-mbedtls=/home/R7000/mbedtls --with-zlib=/home/R7000/zlib --with-pcre=/home/R7000/pcre --host=arm-uclibc-linux --with-crypto-library=mbedtls --disable-ssp<br>make &amp;&amp; make install<br><br><span class="hljs-built_in">cd</span> /home/R7000/ss/bin<br>arm-uclibc-strip ss-local ss-manager ss-redir ss-server ss-tunnel<br></code></pre></td></tr></table></figure><p>###5.å¼€å§‹æµ‹è¯•<br>copyåˆ°/jffs/shadowsocks</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@R7000:/jffs/ssserver<span class="hljs-comment"># /jffs/shadowsocks/ss-redir -v</span><br><br>shadowsocks-libev 2.5.6 with mbed TLS 2.4.0<br><br>  maintained by Max Lv &lt;max.c.lv@gmail.com&gt; and Linus Yang &lt;laokongzi@gmail.com&gt;<br><br>  usage:<br><br>    ss-redir<br><br>       -s &lt;server_host&gt;           Host name or IP address of your remote server.<br>       -p &lt;server_port&gt;           Port number of your remote server.<br>       -l &lt;local_port&gt;            Port number of your <span class="hljs-built_in">local</span> server.<br>       -k &lt;password&gt;              Password of your remote server.<br>       -m &lt;encrypt_method&gt;        Encrypt method: table, rc4, rc4-md5,<br>                                  aes-128-cfb, aes-192-cfb, aes-256-cfb,<br>                                  aes-128-ctr, aes-192-ctr, aes-256-ctr,<br>                                  bf-cfb, camellia-128-cfb, camellia-192-cfb,<br>                                  camellia-256-cfb, cast5-cfb, des-cfb,<br>                                  idea-cfb, rc2-cfb, seed-cfb, salsa20,<br>                                  chacha20 and chacha20-ietf.<br>                                  The default cipher is rc4-md5.<br><br>       [-a &lt;user&gt;]                Run as another user.<br>       [-f &lt;pid_file&gt;]            The file path to store pid.<br>       [-t &lt;timeout&gt;]             Socket timeout <span class="hljs-keyword">in</span> seconds.<br>       [-c &lt;config_file&gt;]         The path to config file.<br>       [-n &lt;number&gt;]              Max number of open files.<br>       [-b &lt;local_address&gt;]       Local address to <span class="hljs-built_in">bind</span>.<br><br>       [-u]                       Enable UDP relay.<br>                                  TPROXY is required <span class="hljs-keyword">in</span> redir mode.<br>       [-U]                       Enable UDP relay and <span class="hljs-built_in">disable</span> TCP relay.<br>       [-A]                       Enable onetime authentication.<br><br>       [--mtu &lt;MTU&gt;]              MTU of your network interface.<br>       [--mptcp]                  Enable Multipath TCP on MPTCP Kernel.<br><br>       [-v]                       Verbose mode.<br>       [-h, --<span class="hljs-built_in">help</span>]               Print this message.<br></code></pre></td></tr></table></figure><p>æ”¶å·¥,äº¤å‰ç¼–è¯‘ç¬¬ä¸€æ¬¡ç»ƒæ‰‹</p><p>å‚è€ƒèµ„æ–™:<br><a href="http://www.jianshu.com/p/b1a8443dbe5f">http://www.jianshu.com/p/b1a8443dbe5f</a><br><a href="http://blog.csdn.net/bunny27/article/details/50589452">http://blog.csdn.net/bunny27/article/details/50589452</a> (åŸæ–‡å·²åˆ )<br><a href="http://ahui.us/post/netgear-r6300v2-ngrep.html">http://ahui.us/post/netgear-r6300v2-ngrep.html</a><br><a href="http://www.cnblogs.com/jackyshan/p/5985590.html">http://www.cnblogs.com/jackyshan/p/5985590.html</a></p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESXiåŠ UPSæ–­ç”µè‡ªåŠ¨å…³æœºè„šæœ¬</title>
    <link href="/read/esxi_apc_ups.html"/>
    <url>/read/esxi_apc_ups.html</url>
    
    <content type="html"><![CDATA[<p>è¢«ç”µåŠ›å±€ææ€•äº†,éšæ—¶éƒ½å¯ä»¥åœç”µ,å¹¶ä¸”æ²¡æœ‰é€šçŸ¥!ä»Šå¹´å·²ç»å¥½å‡ æ¬¡äº†!<br>æ€€ç–‘æˆ‘çš„ç¡¬ç›˜å°±æ˜¯è¿™æ ·åçš„.<br>éšåè´¥äº†ä¸€å°UPS,APCçš„BX550CI-CN,å°±è¿™ä¸ªæ ·å­<br><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2017/01/3542904706.jpg"><br>æ²¡æœ‰USBæ¥å£,æœåŠ¡å™¨ä¸èƒ½çŸ¥æ™“æ˜¯å¦UPSåœ¨ä¾›ç”µ(å°±ç®—æœ‰,ESXiä¹Ÿç”¨ä¸ä¸Š,å°´å°¬)</p><p>å†™äº†ä¸€ä¸ªå°è„šæœ¬,è®©ESXiæ¥pingç½‘å…³(è·¯ç”±å™¨,æ’å¸‚ç”µ),å¦‚æœç½‘å…³3åˆ†é’Ÿéƒ½æ˜¯å¤±è”çŠ¶æ€,å°±åˆ¤æ–­åœç”µäº†,è‡ªåŠ¨æ‰§è¡Œå…³æœºå‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/sh</span><br><span class="hljs-keyword">while</span><br>ping -c 1 10.1.1.1 &gt; /dev/null<br>[ $? -eq 0 ];<br><span class="hljs-keyword">do</span><br><span class="hljs-comment">#echo &#x27; AC Power OK ! &#x27; &gt;&gt; /vmfs/volumes/ç£ç›˜å/ups/ups.log;date &gt;&gt; /vmfs/volumes/ç£ç›˜å/ups/ups.log</span><br>sleep 180<br><span class="hljs-keyword">done</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27; AC Power maybe off, checking again after 3 minutes ! &#x27;</span> &gt;&gt; /vmfs/volumes/ç£ç›˜å/ups/ups.log;date &gt;&gt; /vmfs/volumes/ç£ç›˜å/ups/ups.log<br>sleep 60<br>ping -c 1 10.1.1.1 &gt; /dev/null<br><span class="hljs-keyword">if</span> [ $? -eq 0 ]<br><span class="hljs-keyword">then</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27; Checkagain, AC Power OK ! &#x27;</span> &gt;&gt; /vmfs/volumes/ç£ç›˜å/ups/ups.log;date &gt;&gt; /vmfs/volumes/ç£ç›˜å/ups/ups.log<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27; AC Power is already off, shut down NAS Now! &#x27;</span> &gt;&gt; /vmfs/volumes/ç£ç›˜å/ups/ups.log;date &gt;&gt; /vmfs/volumes/ç£ç›˜å/ups/ups.log<br>/bin/shutdown.sh<br>halt<br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¿å­˜æˆ<code>apc.sh</code>æ”¾åˆ°<code>/vmfs/volumes/ç£ç›˜å/ups/</code>ç›®å½•ä¸‹,ç›®å½•ä¸‹åŒæ—¶åˆ›å»º<code>ups.log</code>ç©ºç™½æ—¥å¿—æ–‡ä»¶</p><p>ç„¶åå†å†™ä¸€ä¸ªå®ˆæŠ¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#! /bin/sh</span><br><span class="hljs-comment">#    ç”¨psè·å–upsè¿›ç¨‹æ•°é‡</span><br>NUM=`ps -c | grep apc.sh | grep -v grep |wc -l`<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;NUM&#125;</span><br><span class="hljs-comment">#    å°‘äº1ï¼Œé‡å¯è¿›ç¨‹</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;NUM&#125;</span>&quot;</span> -lt <span class="hljs-string">&quot;1&quot;</span> ];<span class="hljs-keyword">then</span><br>/vmfs/volumes/ç£ç›˜å/ups/apc.sh &amp;<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27; UPS shouhu start&#x27;</span> &gt;&gt; /vmfs/volumes/ç£ç›˜å/ups/ups.log;date &gt;&gt; /vmfs/volumes/ç£ç›˜å/ups/ups.log<br><span class="hljs-keyword">fi</span><br><span class="hljs-built_in">exit</span> 0<br></code></pre></td></tr></table></figure><p>å®ˆæŠ¤è„šæœ¬ä¿å­˜æˆ<code>ups_shouhu.sh</code>ä¹Ÿæ”¾åˆ°<code>/vmfs/volumes/ç£ç›˜å/ups/</code>ç›®å½•ä¸‹</p><p>ç„¶åæ·»åŠ ä¸€ä¸ªè®¡åˆ’ä»»åŠ¡,æ¯ä¸‰åˆ†é’Ÿæ‰§è¡Œå®ˆæŠ¤è„šæœ¬<br>ç”±äºESXié‡å¯ä¼šé‡ç½®è®¡åˆ’ä»»åŠ¡çš„å†…å®¹,æ‰€ä»¥æ·»åŠ åˆ°å¯åŠ¨</p><p>åœ¨<code>/etc/rc.local.d/local.sh</code>æ–‡ä»¶é‡Œæ·»åŠ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">/bin/<span class="hljs-built_in">kill</span> $(cat /var/run/crond.pid)<br>/bin/<span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;*/3    *    *   *   *   /vmfs/volumes/ç£ç›˜å/ups/ups_shouhu.sh&#x27;</span> &gt;&gt; /var/spool/cron/crontabs/root<br>/bin/crond<br><span class="hljs-built_in">exit</span> 0<br></code></pre></td></tr></table></figure><p>ç„¶åå°±æœ‰äº†ä¸€å°ä¼šè‡ªåŠ¨å…³æœºçš„GEN8äº†,éº»éº»å†ä¹Ÿä¸ç”¨æ‹…å¿ƒå¼‚å¸¸åœç”µäº†~</p><p>â€”â€”â€”â€”â€”åä¸½çš„åˆ†å‰²çº¿â€”â€”â€”â€”â€”<br>ä¸‹é¢è®°å½•ä¸€ä¸‹è‡ªåŠ¨å¼€æœº,å¦‚æœè·¯ç”±å™¨å‘ç°æœåŠ¡å™¨ä¸åœ¨çº¿,å°±æ‰§è¡Œwolå”¤é†’æœåŠ¡å™¨</p><p>è·¯ç”±å™¨åˆ›å»ºä¸€ä¸ªè®¡åˆ’ä»»åŠ¡,æ¯ä¸‰åˆ†é’Ÿæ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#Power for Gen8</span><br>ping -c 10 -w 10.1.1.2 &gt; /dev/null<br>ret=$?<br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$ret</span> -ne 0 ]<br><span class="hljs-keyword">then</span><br>ether-wake XX:XX:XX:XX:XX:XX<br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure><p>è‡ªåŠ¨å…³æœº,è‡ªåŠ¨å¼€æœº,éƒ½æå®š:smile:</p><p>å‚è€ƒäº†ä¸å°‘å¤§ç¥çš„ä»£ç ,æˆ‘éƒ½å¿˜è®°æ¥æºäº†,æ²¡åŠæ³•ä¸€ä¸€åˆ—ä¸Š,è§è°…</p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>è¥¿æ•°çº¢ç›˜çš„è´¨é‡ä¸HPEçš„æœåŠ¡</title>
    <link href="/read/wd_disk_hpe_services.html"/>
    <url>/read/wd_disk_hpe_services.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>é»‘ä¸œ618ä¹°çš„ä¸¤å—ç‰¹ä»·4Tçº¢ç›˜,å½“æ—¶å°±æœ‰ä¸€å—å›å®¶äº†,ç°åœ¨å¦å¤–ä¸€å—è¿˜æ˜¯æ²¡æ’‘ä½,åˆæŒ‚äº†:roll:<br>é»‘ä¸œæœåŠ¡è¿˜æ˜¯ä¸é”™çš„,è¿™æ¬¡é€€å›å»,äºŒè¯æ²¡è¯´,ç›´æ¥æ¢æ–°,ç¬¬ä¸‰å¤©å°±ç»™é€æ¥äº†.</p></blockquote><p>#####è°ˆè°ˆHPEçš„æœåŠ¡</p><blockquote><p>ä¸ŠåŠå¹´è´¥äº†ä¸€å°GEN8çš„å°æœåŠ¡å™¨,åœ¨HPEçš„å®˜ç½‘æ³¨å†Œäº†,ç•™äº†ä¿¡æ¯,éœ€è¦ä¸€ä¸ªå…¬å¸åå­—,å°±éšä¾¿å†™äº†ä¸€ä¸ª(éšä¾¿èµ·çš„å…¬å¸åå­—,ä¹‹å‰ç”¨è¿‡çš„ç½‘å)</p></blockquote><p>æŸæ™šä¸Š22ç‚¹å¤š,æ¥åˆ°ä¸€ä¸ªé™Œç”Ÿç”µè¯,é—®æˆ‘æ˜¯ä¸æ˜¯æŸæŸæŸå…¬å¸çš„æŸå·¥,æˆ‘æ„£äº†ä¸€ä¸‹,ç¬¬ä¸€æ„Ÿè§‰æ˜¯ä¸æ˜¯éª—å­ç”µè¯,å°±è¯´ä¸æ˜¯å•Š,ç„¶åå¯¹æ–¹å•ªæŒ‚äº†ç”µè¯,æˆ‘ä¹Ÿå°±æ²¡æ”¾åœ¨å¿ƒä¸Š.<br>ç„¶åè¿‡äº†ä¸€ä¼šå‡ºæˆ¿å–æ°´,å‘ç°å®¢å…GEN8åœ¨é—ªé»„ç¯,æˆ‘æ›¹,å‡ºç°æ•…éšœäº†?ç«‹é©¬ä¸Šiloçœ‹ä¸‹æƒ…å†µ,ç›å¾·ç¡¬ç›˜æŒ‚äº†ä¸€å—.</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2017/01/1546672625.jpg"></p><p>å›è¿‡ç¥æ¥,åŸæ¥åˆšæ‰çš„ç”µè¯æ˜¯HPEæ‰“æ¥çš„,ä¸è¿‡è¿™æœåŠ¡ä¹Ÿå¤ªä¸ä¸“ä¸šäº†,é—®é¢˜éƒ½æ²¡è®²,è¦æ˜¯å…ˆè¯´æˆ‘æœåŠ¡å™¨å‡ºç°æ•…éšœäº†,é‚£æˆ‘å¯èƒ½å°±æ˜ç™½äº†å˜›.:?:</p><p>è¿˜å¥½ä¸¤å—4Tåšäº†RAID1,å¤§å§å§ä»¬éƒ½æ²¡ä¸¢:wink:</p><p>ç¬¬äºŒå¤©HPEåˆæ¥ä¸€ä¸ªç”µè¯,è¿™æ¬¡å¯¹é¢å¸…å“¥å°±å¾ˆæ‡‚äº†,å¼€å£å°±é—®æ‚¨æ˜¯å¦æœ‰ä¸€å°GEN8çš„æœåŠ¡å™¨,å‡ºç°äº†ç¡¬ç›˜æ•…éšœ,å·´æ‹‰å·´æ‹‰çš„~~~</p><p>ç›´æ¥ç”³è¯·äº¬ä¸œå”®å,ç¬¬äºŒå¤©å°±å¾ˆæœæ–­çš„å‘å›äº†ä¸€å—æ–°ç›˜</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2017/01/1216318268.png"></p><p>RAIDé‡å»ºå‡ ä¸ªå°æ—¶å,é»„ç¯é—ªçƒå˜è“ç¯å¸¸äº®,iloæ•…éšœæ¶ˆé™¤,ä½†æ˜¯ç¡¬ç›˜è¯»å†™ç¯æŒç»­äº®äº†ä¸€å¤©å·¦å³</p><p>æœ¬æ¬¡æ¢ç¡¬ç›˜æ˜¯ç³»ç»Ÿå±‚æ— æ„ŸçŸ¥çš„,æ‹”æ‰ç¡¬ç›˜çš„æ—¶å€™æœåŠ¡å™¨ç»§ç»­è¿è¡Œ,RAIDåŒæ­¥çš„æ—¶å€™æœåŠ¡å™¨ä¹Ÿæ˜¯ç»§ç»­è¿è¡Œçš„.ç»ˆäºä½“éªŒåˆ°äº†RAIDçš„ä¾¿æ·</p>]]></content>
    
    
    <categories>
      
      <category>é—²è¨€ç¢è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESXIé‡æ–°æŒ‚è½½ç£ç›˜</title>
    <link href="/read/esxi_disk.html"/>
    <url>/read/esxi_disk.html</url>
    
    <content type="html"><![CDATA[<p>ã€€ã€€äº¬ä¸œ618æ´»åŠ¨,åœ¨äº¬ä¸œä¹°äº†ä¸¤å—999-30çš„è¥¿æ•°çº¢ç›˜4Tå¡åˆ°HP Gen8é‡Œé¢å»äº†,ç»“æœç«Ÿç„¶æœ‰ä¸€å—æ˜¯åçš„,æ‰ç›˜,åœ¨ESXIå¤åˆ¶æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ç›´æ¥ç£ç›˜ä¸¢å¤±,åˆ·æ–°ä¸å‡ºæ¥,åœ¨ILOé‡Œé¢ä¹Ÿæ˜¯ä¸¥é‡é”™è¯¯â€¦:mad:</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/06/50272890.png"></p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/06/4023885437.jpg"></p><p>ã€€ã€€é‡åˆ°è¿™æƒ…å†µ,å½“ç„¶æ˜¯æ‰¾äº¬ä¸œæ¢ä¸€å—å•¦.å½“æˆ‘æ‹†æ‰ç¡¬ç›˜çš„ä¹‹å,è¿›ESXI,ä»€ä¹ˆæƒ…å†µ,æ‰€æœ‰ç£ç›˜éƒ½ä¸¢å¤±äº†â€¦ä¸€å—éƒ½æ²¡äº†,è®¾å¤‡é‡Œé¢ä¹Ÿæ²¡äº†.:neutral:</p><p>ã€€ã€€è¿›RAIDç•Œé¢çœ‹åˆ°ä¸€æ¡é”™è¯¯,è¯´æ˜¯ç£ç›˜ä¸¢å¤±,ç„¶åæ‰€æœ‰ç£ç›˜éƒ½ä»RAID0çŠ¶æ€(æˆ‘æ˜¯ç”¨çš„RAIDæ¨¡å¼,å•å—RAID0çš„)å˜æˆæœªåˆå§‹åŒ–äº†.:wink:å—¯,è¿™ç®€å•,é‡æ–°åˆå§‹åŒ–ä¸€éå’¯,èµ„æ–™æ˜¯ä¸ä¼šä¸¢çš„.</p><p>(æ­¤å¤„å¿˜è®°æˆªå›¾)</p><p>ã€€ã€€åˆå§‹åŒ–å®Œæ¯•åè¿›ESXI,å—¯?æ€ä¹ˆæ•°æ®å‚¨å­˜è¿˜æ˜¯æ²¡æœ‰å†…å®¹å‘¢?:cry:åˆ‡æ¢åˆ°è®¾å¤‡çœ‹äº†ä¸€ä¸‹,ç¡¬ç›˜éƒ½è®¤åˆ°äº†å‘€,ä¸å¯¹,æ€ä¹ˆç¼–å·å˜åŒ–äº†â€¦</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/06/898692177.jpg"></p><p>ã€€ã€€æ²¡äº‹,æˆ‘ä»¬é‡æ–°æ·»åŠ ä¸€ä¸‹ç£ç›˜:shock:,ç»“æœ,ä½ TMåœ¨é€—æˆ‘?é‡æ–°æ·»åŠ è¦åˆ æ‰é‡æ–°æ ¼å¼åŒ–!!!</p><p>ã€€ã€€é‚£æˆ‘ä»¬åªèƒ½è¿›SSHçœ‹èƒ½å¦æ‰‹åŠ¨æŒ‚è½½äº†</p><p>ã€€ã€€æ‰“å¼€ä¸»æœºSSH,è¿›SSH,è¾“å…¥</p><pre><code>  esxcfg-volume -l  </code></pre><p>ã€€ã€€ä¼šæ˜¾ç¤ºå½“å‰ç£ç›˜ä¿¡æ¯,è®°ä½UUIDä¸‹é¢ç”¨çš„éƒ½æ˜¯UUID.</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/06/2370386291.jpg"></p><p>ã€€ã€€å…ˆå°è¯•ä¸€ä¸‹æ²¡æœ‰é‡è¦å†…å®¹çš„ç£ç›˜</p><p><del>esxcfg-volume -m xxxxxxxxxxxxxxxxxxxx #uuidæˆ–è€…lableéƒ½å¯ä»¥</del><br>[æ›´æ–°(2016-06-17 21:27:49):<br><code>-m</code>å‚æ•°æ˜¯ä¸´æ—¶æŒ‚è½½,é‡å¯åä¼šä¸¢å¤±,åº”è¯¥ä½¿ç”¨<code>-r</code>å‚æ•°æ³¨å†Œ,æ³¨å†ŒæˆåŠŸåä¼šéšæœºå‘½åæˆ<code>snap-xxx-åŸç›˜ç¬¦</code>è¿™æ ·çš„ç›˜ç¬¦åç§°,è‡ªè¡Œä¿®æ”¹å³å¯]</p><pre><code>esxcfg-volume -r xxxxxxxxxxxxxxxxxxxx #uuidæˆ–è€…lableéƒ½å¯ä»¥~~</code></pre><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/06/406757724.jpg"></p><p>ã€€ã€€å—¯,å†…å®¹éƒ½åœ¨,ä¸‹é¢éƒ½æ·»åŠ ä¸Šå»æŠŠ</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/06/1996069733.jpg"></p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/06/4051117479.jpg"></p><p>å°±è¿™æ ·,å¤§å§å§çš„é›†ä½“å®¿èˆåˆå›æ¥äº†~</p>]]></content>
    
    
    <categories>
      
      <category>é—²è¨€ç¢è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>è‡ªè¡Œæ­å»ºé«˜å¤§ä¸Šçš„æ‰‹æœºç»ˆç«¯OpenVxNå…xæµ</title>
    <link href="/read/OpenVPN_Free_Traffic.html"/>
    <url>/read/OpenVPN_Free_Traffic.html</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="212c32adc8056e9620bca4ad6fb71a7997f031cd61edb93ffec8f5b4f029691f">09d4abcc0261d1b32d29063eb772156f7d6250f1ec15e588bb857503c61b1a14ab74b79402dafa8037c835198f49dd7708fe678d068725edbd2b8ba009294fee28c97ea93bd819cdeebee4a56a32b0e2c4dd9c40a81be418c30a583b4def35ac45312802ade7f42a3e6dec3be098356c082417375e26fbce96b2a22ccc208776ae411386d702c822166ef2cc06d428116d2d0bc6ac54456e6b5e47037d796475094131a5020f5e30492b9441d8093130edc096d47f81c2d553ebd42106ea6f9c8e62c7393f43ba8d9cd80ff964c689cf850e5377a38b05a8aefeb3c1ca52b9e0a3c14dbc7ca56e59cfc831ef4fd308db5b4ada3c8ef893f9b26bab81fdec9835702d34c40c7ca468624ebf063ae459f83a5334dd903d82f8ce049169a4341da3e677065f2533747b551d6fb95619e7ed837691fef2953d6a47a4ef8fda097d78f330c58512c27892222e00d9bf9c758a7ff58f32e9026cff56322e36171ea148583739b7d0146e4db03aed94a7bfe459855c5e53118a2c36b67b30d233d531bda84cf32fc51cba6b5cc041893d95ae1d5b7a95558be1c60a37ebb81d4d97da917c97d217e810ac06084fe664ab46e3daa7f36ed4add8ce56af71cf8e2bbcd45b36cae05c227810423c266a4eae4c0b79c260e57ba16f50398e52598a64236ba608fd136a88603df0ec938b46acc6d7b2f3b41608d02fa3a3f845e90ea539105135c0a288e923f0cdd60e30f0847f00896039aa3df318909c60da60fd704966a120259d65f273cd4af366b2667bcb0822235696ea076d1f12432212e73237d7bfa997c05428c481c4afc22abcf10fafcefad22be059e15fcde78071650397eedff4b09193650997e8cb12c298deaddfd297220b620a381d5c79a6a12d89ddd9b70b919f932993f44800b893589e84dd30c51524357260c96fb1019d487ddcb4898c7267b7f4d0350c4ea98f29b1709f6e9a65d3863bf1bf35ec61d258c9d81053ec022855a1adebbbd4e1ec4eeca2026bcebd90e07e28f38e8ed49da0cfb885dc348b0967922a0ab9fe1e9890c9c02f4ea906d06d24ca6691ae81039167b55e484cf548f086fb5ea2932df83c72a37407735fa3573777a2812883fff41a6c780b3410008a923c48ec722f424a7440caccda7fd63e9e10aac974d344bde1ae2b9a15d4924ac7dbdbfaebee34bdb30241529ae9ab1100e0145f2a729cad88c28575f87f4f7343d9ae6066fc9e0435ce4b6992410d5edb06f38da21c375c0cefa316733aa9a60aa89337c04b8cf090c0c07254e94d22dee727c8482e4c3bc4856783409aaf8112bd0d5d78babf545f4daaa2173a4373d224a27605b568481af0f8994bb0fefdf42000307e2fe88eacbb29d779231f2d86c83b6e5185b9dffe6c9302d9f9bd01fb85836f41973cef595205fb84ed1bc6edcec5a1ebe927c1eee9e7e95eccfe0a848d018eadf5173becc7db261289b5e31e0e06c5d111840e63e079d7ebe110df5826b3522c4f1d2987c9e769126cb161929a8daec02315ccf0b02a735e88fda93b2e0f7cd4b1faab58ec75501f007dfbccce966fa9a40ecce80e5415d118a76e855fab3dd5ad6905c8acd5ef7efa1c6cb6b5794157b8f9177fd5f7fd10774afbf2d6d5216c5f0dd40d62fd043099fbe4e858b3d2c115faed812a68fe9dee191eced9092b1c8d091dc4af8959784c7334eb233003e69b4c961974ce3f02554e77a04fea2c30367c2ea8a9fe23f3af134f620ab7a5d9d6191ef2a46b25f1093c125fb33bb677c25893dfe5d1ece483165c89286379a67fed315402fe0ab9f485a59bbd5d53d6563d34557ee28083bd3e7f51d002d6d183eb7b73497675b30bb7ba2ba248a0642635ae2a49023c5d1daeca198fa3c275b9f44ef04d3f070d44b516891a427a9f3f4da9febf834825366bd863e3f37104b981b392f4e311eb6a34256a8435fd2e1543917ac956677e570e1eae59bb60d26903c301912d3b1582cb536cdedd00c529a9f384ee30817e49a5c06a68487745bdc876cfe185e18028f6809d002822351661c03b0c46fff8a91fd41314ade3c1718e949d2e4143ef747a2f9d29176818505962c3d9239fba32d8af994d07c3fdae90bd358ccdb1a57039d91b29f9014b97941165c43ec2338ecabae9fb6d2d3b94369b9ce00be57df1cb3bb9e800cb84ba767b72f06459e3ce048721e637225e820e895ca53c29d63f67ba808ffb7eb0b5f6b003c858937bba5e69b321b4bc49dcce749499fa00e81fdb6b1b122a622c7a922cfc7b6ad2885f74fbb0da4859bba737415e9d2c606bb227c53ce3fe2f26a90e6b64dfed75722b5622ac2099f85881d853346a5d70da97899a25c663e55ce27f6c5a33ecac2f2bab04f5bed63bae10f52771981fef2a6e216a9cb4198bc4ebf81a2af979be8835c9fa1258c3ec9a1f820228973d922e31d6fec15c467aaef6fbcba6ed9948eb8fbae6c566b136f377b2c38d8d84f934bcac74c616a5dea394b8a6cb274b160b55874d13ec68a77c38b21826a01aa1c562e6c33d419b51841d2b6e8e18edccbd39218408c2c48f50cfec7d789c62fc56a34f04b19b8f7b3cbe1c8fa2cd857aa9b137cb64abfcd76ad60990d3e3aba59d67d67615c4075098f973c6547f7a50a1be3abaa62007c77e75dd1f51426fdad2cfbcaef333cb188abe786ea46d5ab15c55731e47f4f1ace1e7d5868b1f1718a5d23eb57f52abe9aa28765cb171aebefba61fe057d100d92e168743d6ebee31a09e6c26c0ec3ecf0d0a34ffd1c1ca3d6569da1ccffbc7aa9dcc3a9f3794543c55282addb8a2b1d67da3cfd859054cf429602500fd8d1729bd96ca8654924eea171c5f6e7adf0c34d97f581ce9ae98c1cfe72dd6381c49de1eaeb59d3a88dff0b58cbe552c8b49daca79a32da998ceda6cf4f3a79e9ded30f00c6e86bb9c168871e58980d0a9f1f1d92c88fc35400d28c3adbb6a9f1931ec0daa0b5f294004875ede6c85c720d9c5fced7a58dc7fb1ee74a05b81de1a3e998bdd6e37c2d5d9f6f32db91fe71233bffb0e242288c9208422dd6ea8974a0f45cfd9a1b27ee7d4ba538740543374839a0c20d62a88b458af932be606fb330b0be8a2d96350d3762ff40b79e023f3ed954aa30586f1dcc9976721b2ec06f346256c46ad176181a5962c14bd721b4de1ee9c13fbe5948500301690a118798ff26894e3cae254b8469300bf0a383964f19b42a69eae5f379ff3019877c78d0e64193daac83fdc6f493d1119fef5be34e7fbabe0a911a1d193c1cc6a164bd98704ff3be82eb97f921e5b0aa803ce325a275300ef7316ededa9ecb8b5713836640b5505349113ab088e2ad5e1f4113ed64bc8347ba82defe5f1c62c82e1c8e4f90ac7d8ccd089d2c3fcb06c79e0cf8da93299ff060735bc3319e421a4160c5c22db30ca62f7f65df66d2c3977db344c8b4f8d52169bbc0c1d4da2a0553b2577724453fa7692fa0bddf3859e5a1a74892d7390b6ec9a50aaf5c4eddf6dd6180d3943a5d6b5050849dc288d72783f58379d3ce6cbf9ee96db3aae0e090af5e98da2235af2afd6236010978ae6e6dd4a18f314f1e54b36323908f7eb696208e874799966e5599a95f2677637b3c785b33e640b4bf99b46fac9b7ae37f08e05f9593e48fbfe5e0e6dc2d995a4277f9cf12b3cfeeb41d96b43bcceb1eaef420aba77b0821e49bef4a22482f942c1361d62d8072c6a7935e37a550071659d992d665e269c00c3802b232b4512a2194d0048e4c25e89b4bd23eaffba62bda9ff89b9671ea5cfbc54a641a31accc126ae725c97d8ed3df5e09c7056aebc59af669a7012d029c494944bf3c53c785d7ffc6b4107bdc3d9e437e9f6a64a39a6d353ffdbe276c6df3914c0fb71f0e27fd4eb224011ed7f8d0a3b8e67f2db96e599c76c335a1ad1414b3698bab0944eabb6c3b71502f90cd58093a0f12807f1e0a72533fe01577c471c09bb72df0fd3150710eb3dd6acf09a880d5515203d14c060d97c49411f4c0dc1943d3ad23b0574474863090c07b4c3a03ee3e7749d6b7316ed4961badbc965540eb04951c17744e19c55ec98741f1d7401e674cd4b6740646b2e7159f8de73815c35e4a4f1d3b9528ff682783c87b4a0589f6eceed019b6f08e9087f38c17632fe854fbdcf58e714e090d5be0b75ab72f0d73af16ed4cccf21f89e0d87da69fe60c325ff8472365d858daf9a35b17205c235d7670a1f8ead10c974742e6f21ac2736189abb04d0d97d00e30dd7b7cd9351138db788dcd5f45ea0727088f01cd2a2d31f437e6db92ff8c31a8d51e561221f1652fe261d56817539e8bfbcfdcffb5ded9322aef450884699bff54964deb9eb95c7ccdcc1e939848f4c2203a746ddf2411e86334ac0ed066d541f894f2edd8418f01724da66c39871cc179e2ba1c3a12df0a2265d8eb3ee2c1b796cf73c751699f0d7f2e1c3606d5add1590031a42507564879b275fe8846f634df5ff7af671a2b31138f0300ee9805115cd88a73c1634476a2a53b9c338fb5ef9234e58a517df9f5b945442ffbf1c300c4645e3ec8d3460ddc8cf82bc63b5c736b82c92096d1bf551e9da3841b4144fb4577e992c8e14b9e6ba40006ba8fc25c3b171a557d200590a7c65fbcf10ea8df28defb7a8be9a846636de0bc862146fd97ea679400f44570cb6495a02b48ccb14b95926d974261016feb238984f7c554fbdab69a2216fd33daec8c0219f4d1923ba6c80802e39a2192a2ede5f58608e079f5cf1ee30c33b005e4ead0cdd5460307d99a7179238db136d7b3d09de3ba10fc5c966f545b4555d9291349296aa2804540f5935f4f7d0c32a8c5392a91ce019fbd13ad4871b7244f71587ca67e673104a1a9a68dc917e00afc5250a05662e34a24632635e815b11411165d92ed189d964d9185999b90b8a2a9bf44ee6fb0e66300a559639d9bf5118129a59ec662860e98bac526267e385592152ca4431e05beb109624da86b3377423a0940d1e4e19d4858d0c0d32fe2cb22df20deb5cd410d3d60978f46bf3e247faa23e9c4c87ca0130515d78c0475e10ea4804f71e36c0b69d95e5993d4636f152533a20a5620ac8b557eec17e27faa034f8fa81c294ed5f289291ed430b0bc2d6d3f654aa2a30cf3e657cfc6d0d66485308be69548c128755934f8cce58b1c3eb79cc5abf4b8249c4aefd2b5cc9fe0744dc7bbd84d906941e675548364814af532722a2819c2ef7ce6522be12311e0fcec58941574c03429c7b1546072d9592e572d887698ed8ff0bdaba808820976134c1cb4e0a5438d169222dd15ff2f4c0dee7c5ef49eb71f01202b4c3dee1f0ad68289932a69911beda7231f876c914a3a6da34c40cd8b9b93ceba3ab0db2c884f52278f341ef7e133ee799b6e3ec3f39231522939671b5de833841e6d59c5dc6ee334eb6284d5d10fb1086265a767773b5954a8966dfc03119fd1991e7f5b61318ccff52ef31998c4230d50330d15ee55a6f8fc67cade9e90d14e0d1d2e4518e646eb073dfebf0b940c087d1cb38af08fe290059db8a897769cb465c696383fcb273715aacf0acd5db48237e1c93b6e1f01919c53ff577b1f0ed3116eee5228b1e774c35098999e0e3f62a91699298bbd384324015dcd95449a886f93521c6f4414f909cdc882550b306fcfbfc8d9648da88bc7c848d02dabc2253437a8ded3f8c62ea214541d10f109d4281982106aa09facc89679666593f128845ba6efd1c3bcb1d5ffb8d6d45917bdbe493c38b784bf15bc7ebbd847f5d0848ef9ba253b52750b5115be08595304917ed2959a27f060dead013f7c50d0a49948d7338ec6347dc7d9c4ac65d33bb544f5f0f34a020ddc2d88a13fd8759e3a04f0b352a824913da2960125e412e1a71f9a32a3e1cbf98113297ec24ab3457ee3265634e8a29d76e443185faf64b2a6b5e2039e1aaee1638cde72efe3c70c7ece825b4d1cad4a741559307bac71c6054e5326e6c0784d51a568175636e2bdb9b4e86b6b46e47d85f9df9fe2235326146f8500d54da1d0e3402084aa344bfe403d92bac580a26bd48003303196e3ad3e084162baff3f10bbf044e9959325e513c82f71ed7d65b5e9a1dc2bb4020eb58aa2f32bf6d6c6f290830ec79fdb0948696d4a259710f29af973d9c4dfaee7cc26109c255e4cb82079285418c368abbbb4c703f6487acbfddbf8a4bbd18880c0829aad90d04ecfefc46e1a56ccdc75926873362fbded0ebf37356e8a7ae0f4d9b013d65f398d1840817611f0bdab17cdf4a230ad1ca37bca0e0bb0ce33b20a8d5b9fe932b69eb1a782f35085deee5afaf0e0a687c83ed09df58207b13189edbed9817bbe537ee570eb1dd036c20eb9ad7ca2bf0e01776858109d838437e37f8a0912c00764a8dad8125af9c0b63ac55c6fba4ef66b06a6952be898a8aa42432337802c8507645e0fccff125a1d4477ff473913f7296dbc5e973e49903803dfdaea219c1d42bdcb2f07f5558716af17d55b713460e332dc658959849ce9f2e4d5a08d4079c9e27207274be8bc3a59278d5f483899e9f3916aa50a2482a576eaf2619018458dad118e62c5b47eb8ff83799da4769abed7322717eefdd69ccc86ac0e325658ac212e840d6ca4038ed46df57236fc1735b09416cc43f774122beade5071ca3996d6be9601e0f20d0e24a1e474156b2e939c23378c835d6cb16490986c331e808f3f8bcc5cb99109afc078f59a1e3c7bef338a093de90bcdb868dcf3581166029dd2a41d3d591f8b74cae34d0ab05d51a6628f33bce83bfd804bc94af661fbcddb6f5e0133b9629670bbfc7fb85aec097039a1db63c432abddec2ca7dc069f06782a543e7f916241530b53212ecfb1cea2b44b5eef986604562fdd06f67733bc938a0b9bff73aec05245e2ec42df5994e461bd23caed2e9dd3a79aea689c3592ba850d41dc18ffa641d1f8b5f0f66bfbb3fb91fda37935e1ad10d07c387f9b1dcbbbda94cd37ccb27d6ad9c4cf9f3d9beb7e5b0a2e8de581add052f698a7226e8fc38791ed3bc17119622a7d05372fe9ad488d031a1dbfce1b8baa026c10bc703b74a3dca4951a414aabcd67a21f62919c7a135300f9d1b839da52104fb2cee44d8f81fc6c5daf73dbd3ee717aa9612180d7a94b1df0d977b81fe0c5277e07df356bdbb65a438061ad8b351e8973702ee7f5ea8d0250e75336e1db0acc24cf33c78fd698944871c1d6e5d9c89720813b020552c97135739c8c183eac83b3eba5450ab5737fd6867192fa7475cd1ed0e8c8871a64b1712868986f9f9ee3aca07972cf21d09dc18e6cdd666ccb86c0860de87e94a4506d25d9554af26d9358451dfa7316741a41fca6ec85733aea27b81af52479231407f2a4ae52f2e6d463a0b9f5eaf539d237284cfaceb3f50528ffd2ee45894b89301a4d16f20562d679247fd352d92f2342876afc8b2c7f7b00262972098b94d03f945b1d955508ff5181eb00636ee4dbf35a820fac01afc36b16dbc191458062abd50e766ae2aac6c787566c45fdb70031c1c3b2f196ff8b1a5a8a61364144c6e3cf0b2d00a40f35cabca5d0cf43e4ccf5fc10960ee8e67020fd76ab0d0367b19653fa723d61af4b980c88cc246dea1cd9ddc1574e02b7ee5e90c00f962cd4b98027200833c8b7697f5d2276b1d643b4b51cd16bccc0f2c1c3df49999b3ed23fc588278fc3257a9ceb0e3e43d560dc567af6f187e53152588e351aeb82e182df9f00cf67947dd16c10ea8ad9945e78d5522d3c96d3030ed37b1a23b876ecbcaecdb10f51293e9900b4cb73a8663beafaca269a12e92b6f7f2443d48bd6db0e9cda32cb2c00c6997fd2b387b67b859dde987b412365191dcf36142421b18e147ee3fe45d1582dc7267c76edfd7d5079908520a48afada3eb02ba9fe8131283222b748e3736f5191de803b9ffba9a63e6f066165a9dae91db1c5a9266f53b6b5b8bdd33c3ec02c0e1c77a6fe028c4d75139b9adb4b0a3c97dffd02c1d3ab3d14de02c24a96f6548222909ac30e37510c7bc41377145d4409b08fc4f5f28ea36dec1a069597cf5d281b69a0b2ef499d97d0cc081973a30c10ea0339c0b78913ac944f2adffe7f1f379b7a77ddd481b8f66b61629d9caa25548efc91034b707275dcaf2713550a6313bf43a4864eb20ac9a4865decff5c004588dc74f9e88718e5e3de79cd63c6c70faf56696cedcff90fb80df96b1a512dcb94b87e933b6fe7ba4aadff3e59ac628ffd39bdc7606d31354d587f6f07a62dceae55f39bef9c13b48ee7ef7ddef548764cc6bf0ff1e846997c10bbfffe0eff29ec5d7639a59915d1e5884dd2c4676281a0489167ce606f38ddf786014ef1701cd97190fea1d6691967c89293613a89a697cb5790b21b402b6380a5ca16125c35a5c1d9d8ceef524ec5659d1ffac7e807c8370cc5348783b95305b7598fbf6c5b4a8fe8dc3402137c39084efbda3196fa2e7cd1126d82d46f4261990805c75d36d45028bcb290a09ff46b8fc675f0719687ab0ee72075230cb25b182cc17e013f8d73a6996d1043c7276a1b930a1a075f805f28a3b738fb80ad0452e90111a6a5f442599460feafff99ae55adec3cac58761073850324aae76ae45e7d1b629c0072b3782679c4be4868c821266ba4bdf92283ed234f1ba432c12b841cdfd574f5777832935d5b55d8e11e57b2f28518868b0924f6ad73901e2779062158eaca479182664a815b7c64508a73daab49c480579942cc2957aa346e1c93deb346454f6a74835d9bc9226413ce7e7d8e9715fa1107674b1a7f6710cf47643daa1a9559b10dd5f5cfa55dc462b53b785af979c95cd0b749bd6da31ee58538c8265717af33e82f928442130991b707e5d1dc18eb34f6e953e796cef99d71566ebc2ea38b282fc96e2cbaa02f56d564ad925b068681f6b4935db01bea74e31c7e7a2feadf3bd9ab1a6e5b77dade6c190087f468712095b1a1ffed8858feeee6e235e75b8b900347508d1745a04d836d00844d34528a699b51fb9f4cd0cdbfd5dd3f800f8cd00cf9b020dc6ef8430e4b0f12532e493fa906542b1d4ed5caa1bd1d10d2bb349d01509f38588ae11ef4e8103571e832806b02290b07b6edcbbe281f4349f89f480afa4b70c79d85dd146e74be8aa51f49fbb52156abbef8df2349cd13da070fd7567561e7f8f361367aaca83f8db8009cd7bc7f1b254add40fe8b2c25968541c1c5d8393078e83c0e7643ecfd130e6e5c6f15e3b2695c80b0e1398e439258928d708302e979ff69c477de1647ac64abcf8fa15730ad5862b0c7fd7c2e2abaea0b37c5125c89195dddd219d376ec9a46908711af5cc850af1a6fea82d35e2fe078a75879d8265d6a2f24f4c886eb1fc770602505d86f92c548a1227a41a317e461714a0e5ba616d82259ff7651973b0fae746d80c64ab35868d5d3d67779c9a68c6b44f1ab659930820185b044b1083b1811d27db8a0674f8a233fa845b9515818dc1dd12aed40b874d40c3ebff3b54e9583bb2e22882803bd58ede0a67855e838a13c4399834faaab35598b21da5789571f707a7e8af41590000d4156985eec5a6e567a7e3823dfb96aa15e52090b918777f38370aa53cc9b08d348fb060b1c04487c88cb8cbd699d4966c506b55ac037e2c988f5a32758d69c5200aa8ecace39cd84b4815d5da608f0d2049d665cec779261633ade0a3d255e4605f0c405de62a4c51fa8810042987f906f10aefa86a2b3198b5d2bdb5fa62db984155d706e2888266583bac1a394dad40cba1dd3479084a9afa6dd74bd16ee2a4ac44a058b100547d4256396657ffef9448ef5f66406af4ccdbf9d3356c63bc0abaa4eee54bb82169d1a11fbac0638d15bfcd1706393d9b8e368b8f366826e4dd1ca43186f736a4ff14f9f16cbb8a7eaedd6ca17db9df6583f834feb5e6568adfe492cb6612ebe78b4743d42fd1bea3635b4914cb60215f10ec6609a1634ebb6c1168d26fee4d42e8dcec3aaddc28045832ff1826362964d0dfcece0b2c7bd373c8efa7514f131b360b1eae907c3af41bdc524d4641c872f71e4cc8a431492209f03aec1c1faeea367f97b5e56f18a7020751b69570572258238d3a849aa91c948dccd8c4e8fb4f943d776390c59cb858b255c49c5ca077614182b436c533eae811656a2fc9937326c1d8d9f77e092b15b3231d560cb20435a817a0c394339743fd11a3f5565c1445b894cad93bc6c06ffc8198780f3eb5ed28944b3de9a4a0c58d603f9c177e62e4978309b58757d8e2adb77934ebc3ed74b121a066843fe9619d5a48543ab017ed901bf033dc953b85ddafb6a25ec2a6a9b56b5ee27ef213a5aa3b23fb15e6c9fdd617598ac6de4045b9e4b7e3bec6e47cd87484ef64a96c7ebc62bbd35766d8096019b14099e51d91ea866087b1b2002aa0073ded904027e352260ea7cd50d88b3c3cdca775afc7ec6a83c79a6490ffc6c17c756d682b549d2bc2b1d37e03736e3bdfc1cae3a2b4e2bf3334e8ae05fd3b66f4b00ff19d3ad2eddcf311321199031da8d448f9d5a472b1f13fb8501daf14f23a5188a7455021241b6dd200a66adbf5177d91f389b802c5c152722ea6de4f45e33bce1d0d030a9b80d0cea02d0af1ecb1b29dc861a5918bd01b2ec20f27cb165d18b770842c2342b802f10fed76603da4867559be9072866e7558baa5687f97e47245e8458b6b5b5d79e801fe69af335428e4831e826d479dfaebbf72cc44efb0a8d878c3ab3819a8b737e7d594a52e9574e6548d49c2a5a752fb2c0ed2c583f8282bab2e2387674d5ae22d04de8e53cb83c8adcb27a0c7389189df51a8215eb9cabea5e7c7b22b3aad830ec219a9e0531137e988f4adeab574fb331053d1043557e18b10c360045678aa99798dc76f96e22b5d010145b1cbcd7dc62fa310a5a0031a64b9c10b601c93bc3459203510a9a5799df6bbc2f943c529f35060b438dc20cae5d804937d990025b7c6cfe7abc4cf3f771821b14331a8a81ae979660f9e3793bad8dc413ee6ff5a98b55a0d5ef033d64ccab561dba3085509ee9bd62ca7a949168a38e9baae4359486a25bd8d2ccdefcbd2e0982a6dc1905b3869e8a31bdb3fbc801f49d5a1bb9d5334ec864ebb8b0bb506f6bdc8329646b6ffbfb937eb8b80dc9d8afab2dc0654383f566ceba3358a8f3a7ff1166a9889cd5e884f6e89ae96ce361ffde3a067c5b7e6f02b9d1d5da35fd60f3adc65ca78ab67bcc46e293e139d8995c22521f958530ab53821393aba7a4c31acf7fff1b60689ffcd68d92550061b580fd2d683b9019d9ee6d7c58eeddf049561b7955d5fcab779e432cc2f4c358d757447c90ecfefa396f1af710c41ffb1b7384633fb23f2a689a5882971cd8f095e51ffb03840356be64c9cecf4583bfb8c37f46caaf85c13133bd62bde8e61fdb1d77fac9c064acc2e2a2ebb722ee1f2e57c6b13d7dbef1fa4d041b388f82e952dc5ced7dc0449bbbd7dd09f37ae8d4f33c26d332d6f80b7fa90ca5bc37f1eef96ca99d543c5fb1277e7d4ee189bd017fcb2ba982ea824d7fad819292a32e842f4af7adc258ed6bdbf32ba86c2567d39cc15ba139f082ce09df0ff3a8ba1bfd41f545bf28176f9fbdae443e89077b5c5edc2b1387e8d522c86378e6745ff5907c9d04ca751b30f96a6d3f6d273d01f21b2ea4c4d63f3d674dd212dda962ea0e92041015a7009f51069177dbd62f2e52fe2827b781aa2c916e08fd1d39644e640728caffbd1341a70b2d2383a740c1602541bc851780dc694297496907d251d85aa7ec8243bad6d3aa673b169d8fd714ad932b060e297fc389a5271a7a67f2a05c2f0ca0ca2160b8eb07485bf5ec30d897309c888a56b4a8b1a34a4a1d2dc2f74c91186d28fea3c44fd1696b7e99f2489c949d303178ce401438077d7bcb716c088f30affa45032fecb16ff5dfc07121a929c0b8cc13a6c082c0bdd28678384405998d1f5baf0842b2b10ba6e552f93294356fc89d815d192ffe7b11cf85e5e168ea258b60a25e451f6185d7ef03f333eb48246cdbc57e20e859bacb469bbb67c4bd3da3eb9f5a3091f522359c83ad110c2995bae3e0e173735c2d2cd95d34530c914f416195e0dba407a36a10b2480ab4f6d5821f59396433c46a00039b32f3d4b995de656a7071e39b5cf73ed8c5e9b79e8a7c079ea80e969a42290c478f8b090a16976a2cb01b32756f91e9d6169ad1f18d44c12700ebd2cf0f97c319a255aaa25bbb5ee585cd794d319a02a2ab19bec48c302db4a679bb344d23a2999909bda9dbcc2ab8cf0b793433e5f524f69d620fef7eef9ed583f03b9a97185c322b6b0af291b03268af23c8a487fbaa31f317c8a32dc8322e7090066aef8729f65ecf6788768eb097e77f01c7d4ee308793fb0b0520fb6f3bb24468d4ac619bd4b3e133cb42d61b666aa81bcfc197e04b06e7c92e4688bbff8b625c8a0a23cf62855e359836a18e04ebb488dec0d85583fa4dba517dd02d909497f803c6f1710ca631e77bcb3d319eab1fa783e5d194082b4789471ae15fc9ef1b9fc32da7ca91a7918a97d715103f4ef7115519a57d955a60b980a78bcebff09dc773baa7f77ed39afc5bf38d25ea39918f5ca62f928fc7253b4a2f1cbf034c78bfe17572f787e9db78691b4f70f9941729b141ee207cbf8d8cd3d6c2b79b8f030530291aa9be968015f0bcafd3a12b1dc2f3df3cc2c5490cfe20ae1c193356cecb816a2d4118d5424facbca5bde7b0a3289edea5f894a5ebf90e80054feee655c1d167b5309dc6e318a62edcc46a13f8daadb15ba72bbfcb82ffa20a487328eefccf78da0b25222f3321508f5697f669da28d65a56f509bf86587267b0564e5a03e6dbf2736654dc044ac1877ed7fb538eef74c551131986533b08ad5686472a416e369d4212c10910ffc472ea4767220d282c242e8b9406291d2573cdef27d415d86229c382b93edbb62c0b5eee84e0294d901bb50505143b3bbe74049d831fa7d2d7cd5ef19fe55ed3408c2ab7b8ee58dcbd22d4e0ddef266b456b57ebd8a788b7f282bf74887af65fd7e02f39b2dc68ec80996ec239f8377b6b2f3e1f8358ba2d79b674b1f77c713368cf4823e60b0b66cdab892b84cfc66c3cab6d2150f6ab10a60dd6d41166d67b606fd4070eb90293b62d02d0d0a5451d71eb56ffde52d65704802268ba8806278cc0e929f65f61be327b9529d51f5d21224e1c7bd6759caaa6fd5b0a73420119e5e68e9ed2319449616ac4e1563e1e46e80cd3a29d124396a69db714b2f4b791c59a13f8d72ae83fcd0ad33554d4df85547b985f0d571bedae3eb4b9d61982009bc071ee649d194b477c28719e34af55fcd953fd8f3b303f3b86cc9f7500981b09cabf2a7d6c2777f788887bd161b176617bb8ab48748b9b0f5261571c7f28c98d5a1c2cf551918eab88a929f703e8a547287d16bf263585e348fa52d736b8fd6e220a57d6178de516f44b2f1a7a1e5fb7533e684090d256ce1786d444139b18e6f3684342bc796ba8fb4ae5c856b93dcb9888fbad9aeb4c5bbc50634860842e19f8d6ae224affa9d5a7f8edd444bcec83a6dbef24eb028a0777db23b955fdf6c7d538c5482cae2b5706b0e16b56996aafba89c54a41c5fe95900e81a45ca10c442ab524583b9b26b0291afb514d51229b4aea5d4c21b77ef01b8e80d3170407e24c879308e4fac050690b57c90cfff6ec8a3fe06e40341f493dafc4c60fa9cbfcbfe733234afeb019851855fc04e016b5374b58215ad0eae949a1735d66777236ab994d6409c159d74d1c575c8af12bc451a5d437af675dea2063f579ae07f91cd7620dd5f16f9a6b80760d7e592fcba3cf03c5194a21b59ea5e9a76a736394ca6bd511092b824a8551b23bff2bdec7094869e20d2a9fc430555e460e8d0bff1a1301d9e8048f6698a84cf0f8aa74dffe3f26e71a40f43c60b1ce423b379b61d0cd6ac8f59acb0cfc485cb526bedfda6508dda7300d8752ccc11d9d4277dd0aa642e959e016c7ebd2c6561d24ab07015ea9e96af90684b8975dd650d0acd036c4fac3e0199fca951e591e644a508d7f6b4ebed8fa798c62bbb8df3f820a8ab309efa359626985c7b0a41a1a8496f7632cff35a0e5ab81fdb06688bfc1ad5ed981e8626c8399a73cd6c0eb3c7c428a39719620399661b86f6d3e9196b499a5c3a5a50afdf1e1affaf4349b50323ba1b5513b2c4070c3fe8a99a1294d9de35cb64e90100859980c375ac14e96353dc7b68b02b8788867691167bd0a3c49b72e0fd525e0ee169e1ea7de51d039706cb30e4f6b1a83beaeef6ce889d675813148134e2d7c7091c46c74c76d53e7133aa2e852cc90eb9ab5e16030db1fc91b73e6c48da374711a4e364b673ea86d44016d270547178a49c0c6e192b64997ee55e23025ebd26c144c6c9a317421f89dd3a8dfb3a2ec3a3f90b4a0adfd1eeddc0b9aeef85a2b713ca17777ee16809c3970f9f7688934d8c5152dbabf6dda8b3b8e65c84b4fce2663c5af0a5ffbeac2badec946adbb812121ec5cc9ba8b04930a0595a703796b178368d26a57e07e63ec9571fa3ec0e5bd0510f533d79ad3003f00ed0ff2966e74f35eedf28cbfe7f75b2b21ab4399c71de2a3435f8ef00c0fb929fb6c4a651e1e7ab554b6511e56e4ae4fd1c0ae684b281c8675f5ab9ceb8ca5f59d31d8559b1194f883076073dd2cc7dd773d0bf1cec1682a26ef27282b1b3fbbc6c7c982331eed93cac89285c2242800374eca4fc9700de56d6248cac03c63a5e8c54039d54f2a91ae323d362831d61fcf73b45d45b1c8f447f3cc4aac9ac66a80c0f9dce0b3d95c57ff4ed90d9345d4b8e5b1cc85bf1b50803ac6f17c2d45e85f1fb23b1556a5b0159dd31592eb6b75aa38715bced537391d9db18f1bfba1a22fe1fd8613593f1b6928f49cb58d410b061f4d60e19f2d6987ea7c85aedf79147c836ec1b678986e1e9f28a970727e08210254144cbc0bf9c96695a5f65b9ca663a09a8caf927c028ebdc34b4188912c41b6649128f28f42951704a520d0a6b93a5d1babe362ba9b508e9ed4196eabcf32ad6dec6cdaa702f0260c591633815f3e190dfefd43e79019a23c9dd0b00b1055ce594184715e464f2bc630fe59f140125bb26d7582fb04a77d1da838524b22522cae86a31798f2087f5b187a2e45a995b6131e2f4aa8743a76a8ea7375381815b1bd11f688785d74c3e21f4189f616fec8415ca618914644ac772d08b3215a8212eab241ddd0e195278163f7f0a76eed821f2975f1826aac14c10b845848c82f485fc38e56f57598f433c5cb74b5d417667353df8ccf2be35596666249961e00a4d92104e32570ebd754a8c85c52242641e8f92d737c125724f3e35f8ef475cd2e96878481b5c6b3eb4565197e6f78228a3f8c9ed54cfb4a5a58f2ce5750c84734de769d2dc37a2b6916a82d3e949db78b9afa9df11b70f1ef130f981869acd67c3f7f20a5ddc3c809dcbe8a508b756d927ca305ddf5c9201feefc980e03c30a16e35e07b8e074f6b37c461c551aac416e669b71ffc52eb2706596c37774c07afbe5e711067544ec0e4d0ea681cf197d0a319a462b3b8fe7c5a329ff76e03021ba1039ce3594f73f405b364d0431bbfa9fd6e4fe4c3ce112e4866d0db9fdf53f87cfb19951dbbbba003920ec04e9fee42784beb90f32d0bf51d96b4e706d7ab3bb6724313098c695909a326a64ac5f736b82a35ed08066845116e289bc7efcf1beba791322239b306f052aa20d6f38b2f7c6df2da45912f63de98e41fdf7599458619c6bdb729137d230a0a954bba511b3d7823d1034e3bfceebdbd047b7f54bbfd4a7c523ee7d7374814efbd8ba70ca85b6c7eaadb10da28e0e1d9b46d8f2b8c8cf2db12ed9535cd773711f6f3fd2ce45870b09139b7ae4651be1ad50343e1ea85e013e677a106440799a85e49a623a4c5124451b46f7603369ff2d214f61fe05bc0da4f3c0f2b13f0383a12ee68b127d493fabeb34704dcbe8735312fa135cf72da3e659f9a7241d29e7fe9e43a3f18ce632a566f303f58a8a45d8466aa7a5478c88e51e2b1a6ed4f7ad9472da67ff86a079d45bd01f8ca7eb46289a9e6d6d1f1074cf1d146bcded17a31ff2e23eefceb9d8c09f88bc63675db861aa0067835a2971d891993bdc8970a0c48523677ae72d5a7537c40eb1a79a12d137f2a463142cc53e3ebebc619d1acfa55c86b315f1eb735c514c319ff5cb020d0100cb1104d226dd9f4abe5d6c17391613aa1d09b5dae2f0ab243d50b2c051bde6c2c4a704aeb4f713f0e0da26566382f716ddd093ae5ee424642acdf56a37d4d1c7dbbe30e50fa6add23dcbff4fd8b9c6e1a23b68872dca25221fc4348423e2e4fb531e5f9585e703ebe90013b1d17093b66f1eadd8a5ba22ce2726e998e6f222a70a059935f5cd1806bf7b15663b5ca58810871c6525b01e172db2fd0b07f88ae2c6c97c4bbfdbb4ed181b1ff828de778660ff6a672a085b80a5618ae93f0f3743fc768b1fe62574bda9615a2e3aaca0fbcaf30070cf18503d44b603f81467c6e472ad6936b9f29394d3789930fe0c40ba0fcb64b1b745fff5476231d99327538e89b28a891387e5c3dfd877ded6c8c3bfeb3dd9517481fb2f6be0b2259be94b2474af5a9fdeda71eed2bdb2d986f3e84b19a163f1028ec753f4aa6eb191e304656bc5d7868d1cd01e9e8bb1452fd3646d4ba197126b390d2f73e9b2b3b2e661d1b1bb98cde66f5ea8453e1113002ed54eaed2f292566b6e636f57036f8ce7a94b773adb2a4c18f3173660fdd15a0320d4672a8f8232616f106dfe0a34094c5c9ebd6bc8dc156557467afb6ff543194f331903ed6e48e6d31e37bce67bb1bd98b7a5524a45163bfac147e1f7cb2c2c28cbf36127795c65dce86ed4ca6be32c7eee24d6e7704145c142593960356ffb5edcc</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½, æœ¬æ–‡éœ€è¦å¯†ç æ‰èƒ½è®¿é—®.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OpenVPN</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ºTypechoå¯ç”¨Google Authenticatorä¸¤æ­¥éªŒè¯</title>
    <link href="/read/Typecho_Google_Authenticator.html"/>
    <url>/read/Typecho_Google_Authenticator.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>çœ‹åˆ°å¥½å¤šç½‘ç«™éƒ½æ”¯æŒGoogle Authenticatorçš„ä¸¤æ­¥éªŒè¯ï¼Œæ‰€ä»¥å†™äº†è¿™ä¸ªå°æ’ä»¶ï¼Œå‚è€ƒäº†å¾ˆå¤šå‰è¾ˆå†™çš„æ’ä»¶ã€‚</p></blockquote><p>Google Authenticatorçš„PHPå®ç°æ¥è‡ªï¼š<a href="http://www.phpgangsta.de/">http://www.phpgangsta.de</a></p><hr><p>2018-11-21 æ›´æ–°<br><strong>æœ€æ–°ç‰ˆ 0.0.2 å·²å‘å¸ƒã€‚è¯·å‰å¾€æŸ¥çœ‹</strong><br><a href="https://cuojue.org/read/Typecho_Google_Authenticator_02.html">https://cuojue.org/read/Typecho_Google_Authenticator_02.html</a></p><hr><p>####å®ç°æ¥å£<br><code>Widget_Login-&gt;loginFail</code><br><code>Widget_Login-&gt;loginSucceed</code><br>å¹¶æ²¡æœ‰ç”¨æ›´é«˜çº§çš„<br><code>Widget_User-&gt;login</code><br>å…¶å®æŒ‰é“ç†æ¥è¯´åè€…ä½¿ç”¨æ›´å¥½ï¼Œä½†æ˜¯å‡½æ•°å†…åˆ¤æ–­äº†å¦‚æœè¢«æ’ä»¶<del>æ’</del>(æ³¨å†Œ)äº†ï¼Œå°±ç›´æ¥è¿”å›æ’ä»¶è¿”å›çš„ç»“æœâ€¦â€¦</p><p>####æ’ä»¶åŸç†è¯´æ˜<br>æ’å…¥äº†<code>(&#39;admin/header.php&#39;)-&gt;header</code>æ¥é‡æ–°å¤„ç†æ•´ä¸ªåå°é¡µé¢ï¼Œå®ç°è‡ªå®šä¹‰ç™»å½•é¡µé¢ï¼Œéšè—äº†ç”¨æˆ·åè¾“å…¥ï¼Œå›ºå®šä¸º<code>_Authenticator</code>ï¼Œä¿®æ”¹å¯†ç è¾“å…¥ä¸ºä¸¤æ­¥éªŒè¯çš„ä»£ç è¾“å…¥ã€‚</p><p>ç”¨cookiesæ¥åˆ¤æ–­éªŒè¯æ˜¯å¦æˆåŠŸï¼Œæ˜¾ç¤ºç³»ç»Ÿçš„ç™»å½•é¡µé¢ï¼Œå› ä¸ºæœªç™»å½•çŠ¶æ€typechoå¹¶æ²¡æœ‰å¼€å¯PHP SESSIONæ”¯æŒï¼Œ(ä¸ºäº†ç³»ç»Ÿæ€§èƒ½)</p><p>è°ƒç”¨<code>loginFail</code>æ¥å£ï¼Œä¹Ÿå°±æ˜¯ç™»å½•å¤±è´¥çš„æ¥å£ï¼Œå®ç°äº†ç”¨ç³»ç»Ÿç™»å½•æ¥å£éªŒè¯ä¸¤æ­¥éªŒè¯çš„ä»£ç ã€‚</p><p>è°ƒç”¨<code>loginSucceed</code>æ¥æ¸…ç†ä¿å­˜éªŒè¯çš„cookies</p><p>####å·²çŸ¥é—®é¢˜<br>åå°æ²¡æ³•æ˜¾ç¤ºå›¾ç‰‡ï¼Œæˆ–è€…æ˜¯æˆ‘ä¸çŸ¥é“å¦‚ä½•æ˜¾ç¤ºï¼Œåæ­£å°±æ˜¯æ²¡æ˜¾ç¤ºäºŒç»´ç ï¼Œåªç»™äº†ä¸€ä¸ªäºŒç»´ç çš„ç½‘å€ï¼Œè‡ªå·±æ‰“å¼€å§</p><p>å¦‚æœæ‰‹æœºä¸¢äº†ï¼Œæ²¡æ³•æ‰¾å›çš„å“Ÿï¼Œä½†æ˜¯SecretKeyä¿å­˜åœ¨æ•°æ®åº“<code>typecho_options/plugin:GAuthenticator</code>é‡Œï¼Œå¯ä»¥æ‰‹åŠ¨æŸ¥è¯¢å†æ¬¡ç»‘å®š</p><p>####æ’ä»¶å‘å¸ƒ<br><a href="https://github.com/weicno/typecho-Authenticator">GitHub</a></p><p>####ä½¿ç”¨è¯´æ˜<br>ä¸‹è½½æ’ä»¶ï¼Œä¿®æ”¹æ–‡ä»¶åä¸º<code>GAuthenticator</code>æ”¾åˆ°<code>/usr/plugins</code>ç›®å½•ï¼Œç„¶ååˆ°åå°å¯ç”¨</p><p>æ’ä»¶é»˜è®¤å…³é—­ï¼Œé¦–æ¬¡å¼€å¯éœ€è¦æ‰«æäºŒç»´ç ç»‘å®šä¹‹åå¡«å†™æ‰‹æœºä¸Šæ˜¾ç¤ºçš„ä»£ç ï¼ŒéªŒè¯æˆåŠŸä¹‹åæ‰å¯ä»¥å¯ç”¨</p><p>æœ‰ä»€ä¹ˆé—®é¢˜å¯ä»¥åœ¨æœ¬é¡µé¢å›å¤</p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>typecho</tag>
      
      <tag>Authenticator</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¿®æ”¹typechoä¿å­˜è¯„è®ºç”¨æˆ·ä¿¡æ¯ä¸ºjavascriptæ¨¡å¼</title>
    <link href="/read/typecho_comments_author_javascript.html"/>
    <url>/read/typecho_comments_author_javascript.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>ä¿®æ”¹è¿™ä¸ªæ˜¯å› ä¸º<a href="https://cuojue.org/read/typecho-cache-memcache.html">ä¸Šä¸€ç¯‡æ–‡ç« </a>æœ‰åŒå­¦è¯„è®ºè¯´ä¼šç¼“å­˜è¯„è®ºäººçš„ä¿¡æ¯<br>å½“ç„¶ï¼Œæˆ‘æ²¡æ³¨æ„åˆ°è¿™ä¸ªæ˜¯å› ä¸ºæˆ‘ä»¬çš„<a href="https://www.linpx.com/">Chakhsu</a>åŒå­¦åœ¨<a href="https://blog.phpgao.com/tpcache_for_typecho.html">è€é«˜çš„æŠ€æœ¯åšå®¢</a>ä¹Ÿæåˆ°è¿™ä¸ªé—®é¢˜<br>è€Œæˆ‘ç”¨çš„æ¨¡æ¿ä¹Ÿæ˜¯æ¥è‡ªäºChakhsuçš„ï¼Œæ‰€ä»¥ä»–åœ¨æ¨¡æ¿é‡Œé¢å·²ç»ä¿®æ”¹è¿‡è¿™ä¸ªé—®é¢˜ï¼Œç›´æ¥ä¸è¯»å–cookiesæ¥å›å¡«ç”¨æˆ·ä¿¡æ¯<br>æˆ‘å°±å°å°çš„ä¿®æ”¹äº†ä¸€ä¸‹ï¼Œé‡‡ç”¨jsæ¥è¯»å–å¹¶å›å¡«ï¼Œç™»å½•çŠ¶æ€è¿˜æ— æ‰€è°“ï¼Œæ²¡ç™»é™†çš„ç”¨æˆ·ç¡®å®é€ æˆäº†å°å°çš„ä¸ä¾¿ï¼ˆå½“ç„¶ï¼Œå¯¹æˆ‘è¿™ç§å¸¸å¹´åªæœ‰æˆ‘ä¸€ä¸ªäººè®¿é—®çš„åšå®¢æ²¡ä»€ä¹ˆå½±å“â€¦â€¦ï¼‰</p></blockquote><h4 id="é¦–å…ˆåˆ†æäº†ä¸€ä¸‹typechoçš„å‡½æ•°"><a href="#é¦–å…ˆåˆ†æäº†ä¸€ä¸‹typechoçš„å‡½æ•°" class="headerlink" title="é¦–å…ˆåˆ†æäº†ä¸€ä¸‹typechoçš„å‡½æ•°"></a>é¦–å…ˆåˆ†æäº†ä¸€ä¸‹typechoçš„å‡½æ•°</h4><p>æ¨¡æ¿æ–‡ä»¶<code>comments.php</code>é‡Œè·å–çš„å‡½æ•°æ˜¯</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">$this</span>-&gt;remember(<span class="hljs-string">&#x27;author&#x27;</span>); <span class="hljs-meta">?&gt;</span><br><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">$this</span>-&gt;remember(<span class="hljs-string">&#x27;mail&#x27;</span>); <span class="hljs-meta">?&gt;</span><br><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">$this</span>-&gt;remember(<span class="hljs-string">&#x27;url&#x27;</span>); <span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>è·Ÿéšå‡½æ•°åˆ°äº†<code>\var\Widget\Archive.php</code></p><p>å‡½æ•°åŸå‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è¾“å‡ºcookieè®°å¿†åˆ«å</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@access</span> public</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> string $cookieName å·²ç»è®°å¿†çš„cookieåç§°</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> boolean $return æ˜¯å¦è¿”å›</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> string</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remember</span>(<span class="hljs-params"><span class="hljs-variable">$cookieName</span>, <span class="hljs-variable">$return</span> = <span class="hljs-literal">false</span></span>)</span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-variable">$cookieName</span> = strtolower(<span class="hljs-variable">$cookieName</span>);<br>    <span class="hljs-keyword">if</span> (!in_array(<span class="hljs-variable">$cookieName</span>, <span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;author&#x27;</span>, <span class="hljs-string">&#x27;mail&#x27;</span>, <span class="hljs-string">&#x27;url&#x27;</span>))) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-variable">$value</span> = Typecho_Cookie::get(<span class="hljs-string">&#x27;__typecho_remember_&#x27;</span> . <span class="hljs-variable">$cookieName</span>);<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$return</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable">$value</span>;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">echo</span> htmlspecialchars(<span class="hljs-variable">$value</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»§ç»­è·Ÿéš<code>Typecho_Cookie::get</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs php">    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setPrefix</span>(<span class="hljs-params"><span class="hljs-variable">$url</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">self</span>::<span class="hljs-variable">$_prefix</span> = md5(<span class="hljs-variable">$url</span>);<br>        <span class="hljs-variable">$parsed</span> = parse_url(<span class="hljs-variable">$url</span>);<br><br>        <span class="hljs-comment">/** åœ¨è·¯å¾„åé¢å¼ºåˆ¶åŠ ä¸Šæ–œæ  */</span><br>        <span class="hljs-built_in">self</span>::<span class="hljs-variable">$_path</span> = <span class="hljs-keyword">empty</span>(<span class="hljs-variable">$parsed</span>[<span class="hljs-string">&#x27;path&#x27;</span>]) ? <span class="hljs-string">&#x27;/&#x27;</span> : Typecho_Common::url(<span class="hljs-literal">NULL</span>, <span class="hljs-variable">$parsed</span>[<span class="hljs-string">&#x27;path&#x27;</span>]);<br>    &#125;<br>******ä¸­é—´çœç•¥******<br><span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è·å–æŒ‡å®šçš„COOKIEå€¼</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@access</span> public</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> string $key æŒ‡å®šçš„å‚æ•°</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> string $default é»˜è®¤çš„å‚æ•°</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> mixed</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params"><span class="hljs-variable">$key</span>, <span class="hljs-variable">$default</span> = <span class="hljs-literal">NULL</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-variable">$key</span> = <span class="hljs-built_in">self</span>::<span class="hljs-variable">$_prefix</span> . <span class="hljs-variable">$key</span>;<br>        <span class="hljs-variable">$value</span> = <span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_COOKIE</span>[<span class="hljs-variable">$key</span>]) ? <span class="hljs-variable">$_COOKIE</span>[<span class="hljs-variable">$key</span>] : (<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-variable">$key</span>]) ? <span class="hljs-variable">$_POST</span>[<span class="hljs-variable">$key</span>] : <span class="hljs-variable">$default</span>);<br>        <span class="hljs-keyword">return</span> is_array(<span class="hljs-variable">$value</span>) ? <span class="hljs-variable">$default</span> : <span class="hljs-variable">$value</span>;<br>    &#125;<br></code></pre></td></tr></table></figure><p>å‘ç°åŸæ¥å‰ç¼€ä¸æ˜¯éšæœºçš„ï¼Œè€Œæ˜¯å½“å‰urlçš„md5å“ˆå¸Œ</p><p>####ç„¶åå½“ç„¶ç›´æ¥è¯»å–å¡«å†™å•¦</p><p>åœ¨<code>comments.php</code>é‡Œåˆ é™¤</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">$this</span>-&gt;remember(<span class="hljs-string">&#x27;author&#x27;</span>); <span class="hljs-meta">?&gt;</span><br><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">$this</span>-&gt;remember(<span class="hljs-string">&#x27;mail&#x27;</span>); <span class="hljs-meta">?&gt;</span><br><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">$this</span>-&gt;remember(<span class="hljs-string">&#x27;url&#x27;</span>); <span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸‰å¥</p><p>ç„¶ååœ¨åˆé€‚çš„ä½ç½®æ·»åŠ ï¼ˆå½“ç„¶æ˜¯åœ¨<code>&lt;/script&gt;</code>é‡Œé¢å•¦ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;?php <span class="hljs-keyword">if</span>(!$this-&gt;user-&gt;hasLogin())&#123; ?&gt;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCookie</span>(<span class="hljs-params">name</span>)</span>&#123;<br><span class="hljs-keyword">var</span> arr,reg=<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">&quot;(^| )&quot;</span>+name+<span class="hljs-string">&quot;=([^;]*)(;|$)&quot;</span>);<br><span class="hljs-keyword">if</span>(arr=<span class="hljs-built_in">document</span>.cookie.match(reg))<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">unescape</span>(<span class="hljs-built_in">decodeURI</span>(arr[<span class="hljs-number">2</span>]));<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">adduser</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;author&#x27;</span>).value = getCookie(<span class="hljs-string">&#x27;&lt;?php echo md5($this-&gt;request-&gt;getUrlPrefix()); ?&gt;__typecho_remember_author&#x27;</span>);<br><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;mail&#x27;</span>).value = getCookie(<span class="hljs-string">&#x27;&lt;?php echo md5($this-&gt;request-&gt;getUrlPrefix()); ?&gt;__typecho_remember_mail&#x27;</span>);<br><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;url&#x27;</span>).value = getCookie(<span class="hljs-string">&#x27;&lt;?php echo md5($this-&gt;request-&gt;getUrlPrefix()); ?&gt;__typecho_remember_url&#x27;</span>);<br>&#125;<br>adduser();<br>&lt;?php &#125; ?&gt;<br></code></pre></td></tr></table></figure><p>æå®šæ”¶å·¥</p><p>æ²¡æœ‰ç”¨åˆ°jqueryï¼Œå› ä¸ºæ¨¡æ¿ä¸éœ€è¦ï¼Œæˆ‘ä¹Ÿå–œæ¬¢è½»é‡çº§~</p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>typecho</tag>
      
      <tag>php</tag>
      
      <tag>javascript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ºtypechoå¢åŠ ç¼“å­˜åŠŸèƒ½,æ”¯æŒmemcachedç¼“å­˜</title>
    <link href="/read/typecho-cache-memcache.html"/>
    <url>/read/typecho-cache-memcache.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ›´æ–°æ—¶é—´ï¼š2020 å¹´ 02 æœˆ 27 æ—¥<br>æ¨èä¸€ä¸‹æˆ‘çš„Typechoçš„fastcgi_cacheç¼“å­˜æ’ä»¶</p></blockquote><p><a href="https://cuojue.org/read/typecho-fastcgi_cache.html">Typechoçš„fastcgi_cacheç¼“å­˜æ’ä»¶</a></p><p><strong>ä»¥ä¸‹æ˜¯æœ¬æ–‡åŸæ–‡</strong></p><hr><p>MostCacheå†æ¬¡ä¿®æ”¹å¢è¿›ç‰ˆ<br>åŸä½œè€…ï¼š<a href="http://www.phoneshuo.com/PHP/typecho-mostcache-plugin.html">typechoç¼“å­˜æ’ä»¶MostCache</a><br>ä¿®æ”¹æ”¯æŒmemcacheä½œè€…ï¼š<a href="http://www.lvtao.net/dev/mostcache_memcached.html">ä¸ºtypechoå¢åŠ æ–‡ä»¶ç¼“å­˜åŠmemcachedç¼“å­˜åŠŸèƒ½-MostCacheä¿®æ”¹å¢è¿›ç‰ˆ</a></p><p>ç”±äºä½œè€…è¡¨ç¤ºå­˜åœ¨ä¼šç¼“å­˜ç”¨æˆ·çŠ¶æ€çš„é—®é¢˜ï¼Œæ‰€ä»¥<br>ç°åœ¨æˆ‘å†æ¬¡ä¿®æ”¹ä¸€ä¸‹:flushed:</p><p>###æ’ä»¶ç‰¹æ€§<br>åŸºäºMostCacheçš„ç¼“å­˜æ’ä»¶<br>æ”¯æŒmysqlç¼“å­˜åŠMemcachedç¼“å­˜<br>æ”¯æŒé¦–é¡µã€ç›®å½•ã€å†…å®¹é¡µã€ç‹¬ç«‹é¡µé¢ç¼“å­˜<br>æ”¯æŒå†…å®¹ä¿®æ”¹ä¹‹åè‡ªåŠ¨æ›´æ–°å†…å®¹ã€ç›®å½•ã€é¦–é¡µç¼“å­˜<br>æ”¯æŒè¯„è®ºç”Ÿæ•ˆæ›´æ–°ç¼“å­˜<br>æ”¯æŒç¼“å­˜åœ¨çº¿ç®¡ç†(ä»…åœ¨mysqlæ¨¡å¼æ”¯æŒè¯¦ç»†åˆ—è¡¨)<br>æ”¯æŒè‡ªå®šä¹‰ç¼“å­˜è§„åˆ™<br>æ”¯æŒpostviewsé˜…è¯»æ¬¡æ•°æ›´æ–°(åœ¨é»˜è®¤è·¯ç”±è§„åˆ™ä¸‹ç”Ÿæ•ˆï¼Œå¦‚archives/cid)</p><p>###æ–°å¢ç‰¹æ€§<br>æ”¯æŒè®¾ç½®memcachedæœåŠ¡å™¨åœ°å€<br><strong>æ”¯æŒä¸ç¼“å­˜ç”¨æˆ·ç™»å½•çŠ¶æ€,ç™»å½•çŠ¶æ€ä¸‹æ’ä»¶ä¸ç¼“å­˜ä»»ä½•é¡µé¢</strong></p><p>####æ’ä»¶å‘å¸ƒé¡µé¢</p><p><a href="https://github.com/weicno/typecho-cache">Github</a></p><p>####æ’ä»¶ä½¿ç”¨æ–¹æ³•</p><p>ä¸‹è½½æ’ä»¶ï¼š<a href="https://github.com/weicno/typecho-cache/archive/master.zip">https://github.com/weicno/typecho-cache/archive/master.zip</a></p><p>è§£å‹åï¼Œä¿®æ”¹ç›®å½•åä¸º<code>MostCache</code>æ”¾åˆ°<code>typecho</code>çš„<code>plugins</code>è¿›åå°ä¿®æ”¹ç›¸å…³ä¿¡æ¯å³å¯~</p><p>####æ›´æ–°</p><blockquote><p>2017-01-05<br>ä¿®å¤åœ¨å¼€å¯ç¼“å­˜çŠ¶æ€ä¸‹,æœç´¢è‡ªåŠ¨è·³åˆ°é¦–é¡µ<br>ä¿®å¤mysqlæ¨¡å¼ä¸‹,æ¸…ç©ºç¼“å­˜æ— æ•ˆ</p></blockquote><blockquote><p>2016-04-13<br>ä¿®å¤æ–‡ç« è¢«è¯„è®ºä¸åˆ·æ–°ç¼“å­˜<br>ä»…åœ¨æœ€æ–°å¼€å‘ç‰ˆï¼Œå¹¶å¼€å¯rewriteçš„æƒ…å†µä¸‹æµ‹è¯•é€šè¿‡</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>typecho</tag>
      
      <tag>memcache</tag>
      
      <tag>php</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ›´æ–°cloudxnsçš„ddnsçš„shellè„šæœ¬</title>
    <link href="/read/cloudxns_ddns_shell.html"/>
    <url>/read/cloudxns_ddns_shell.html</url>
    
    <content type="html"><![CDATA[<p>ä»dnspodæ¢æˆcloudxnsæ¥è§£æï¼Œç”±äºéœ€è¦DDNSï¼Œä¹‹å‰ä¸€ç›´ç”¨çš„ <a href="http://www.anrip.com/ddnspod">AnripDdns</a> ï¼Œæ¢è¿‡æ¥ä¹‹åï¼Œæ‰¾åˆ°äº† <a href="https://www.xdty.org/1907">å¤©è¯­ç©ºé—´</a> çš„è„šæœ¬ï¼Œé—®é¢˜æ˜¯ï¼Œå¦‚æœåŒæ—¶å­˜åœ¨ç›¸åŒçš„è§£æçºªå½•ï¼Œä¼šè¿”å›å¤šä¸ªRECORD IDå¯¼è‡´çºªå½•æäº¤å¤±è´¥ã€‚<br>æ¯”å¦‚è§£ææ ¹åŸŸï¼ŒåŒæ—¶å­˜åœ¨MXå’ŒTXTç­‰çºªå½•ï¼Œå°±ä¼šå¯¼è‡´APIæ¥å£è¿”å›302é”™è¯¯ã€‚<br>ç¿»é˜…äº†ä¸€ä¸‹å®˜æ–¹çš„APIæ–‡æ¡£ï¼Œå‘ç°æœ‰ä¸ªæ›´åˆé€‚çš„DDNSæ¥å£ï¼Œå¯ä»¥ç›´æ¥è·å–å®¢æˆ·ç«¯çš„è®¿é—®IPæ¥ä½œä¸ºDDNSçš„è§£æIPï¼Œä¿®æ”¹äº†ä¸€ä¸‹ï¼Œç°åœ¨æ”¾å‡ºã€‚</p><p>é¡¹ç›®æºç ï¼š<a href="https://github.com/weicno/cloudxns-ddns">Github</a></p><p>###ä½¿ç”¨æ–¹æ³•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://raw.githubusercontent.com/weicno/cloudxns-ddns/master/cloudxns.sh<br>wget https://raw.githubusercontent.com/weicno/cloudxns-ddns/master/cloudxns.conf<br>chmod +x cloudxns.sh<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹<code>cloudxns.conf</code>é‡Œé¢çš„APIä¿¡æ¯<br>ç„¶ååœ¨<code>cloudxns.sh</code>åº•éƒ¨æ·»åŠ è¦è§£æçš„åŸŸåä¿¡æ¯</p><p>ä¾‹ï¼š<br>è§£ææ ¹åŸŸå</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">DdnsCheck <span class="hljs-string">&quot;cuojue.org&quot;</span><br></code></pre></td></tr></table></figure><p>è§£æå­åŸŸå</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">DdnsCheck <span class="hljs-string">&quot;cuojue.org&quot;</span> <span class="hljs-string">&quot;www&quot;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">/path/to/cloudxns.sh /path/to/cloudxns.conf<br>&#123;<span class="hljs-string">&quot;domain&quot;</span>:<span class="hljs-string">&quot;cuojue.org&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;code&quot;</span>:1,<span class="hljs-string">&quot;message&quot;</span>:<span class="hljs-string">&quot;success&quot;</span>&#125;<br>Thu Apr  7 20:50:52 CST 2016 -- Update success<br></code></pre></td></tr></table></figure><p>è¾“å‡º<code>Update success</code>å°±ä»£è¡¨æ›´æ–°æˆåŠŸ</p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>dnspod</tag>
      
      <tag>cloudxns</tag>
      
      <tag>ddns</tag>
      
      <tag>linux</tag>
      
      <tag>shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨ngx_pagespeedæ¨¡å—ç»™NginxåŠ é€Ÿ</title>
    <link href="/read/ngx_pagespeed_nginx.html"/>
    <url>/read/ngx_pagespeed_nginx.html</url>
    
    <content type="html"><![CDATA[<p>ä¸ºäº†ä¼˜åŒ–ä¸€ä¸‹http/1.1çš„é€Ÿåº¦ï¼Œå°è¯•ä¸€ä¸‹è¿™ä¸ªæ¨¡å—</p><p>é¦–å…ˆä½ å¿…é¡»å·²ç»å‡çº§äº†gccï¼Œå¯ä»¥çœ‹ä¸Šä¸€ç¯‡æ–‡ç« </p><p>ä¸‹é¢æ¥çœ‹çœ‹æ€ä¹ˆç”¨ï¼Œnginxçš„æ¨¡å—éƒ½éœ€è¦é™æ€ç¼–è¯‘ï¼Œæˆ‘ä»¬åªæœ‰é‡æ–°ç¼–è¯‘æºç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell">[root@centos soft]# cd /tmp/soft<br>[root@centos soft]# NPS_VERSION=1.11.33.0<br>[root@centos soft]# wget https://github.com/pagespeed/ngx_pagespeed/archive/release-$&#123;NPS_VERSION&#125;-beta.zip -O release-$&#123;NPS_VERSION&#125;-beta.zip<br>[root@centos soft]# unzip release-$&#123;NPS_VERSION&#125;-beta.zip<br>[root@centos ngx_pagespeed-release-1.11.33.0-beta]# cd ngx_pagespeed-release-$&#123;NPS_VERSION&#125;-beta/<br>[root@centos ngx_pagespeed-release-1.11.33.0-beta]# wget https://dl.google.com/dl/page-speed/psol/$&#123;NPS_VERSION&#125;.tar.gz #è¿™æ˜¯è°·æ­Œçš„PageSpeedä¼˜åŒ–åº“<br>[root@centos ngx_pagespeed-release-1.11.33.0-beta]# tar -xzvf $&#123;NPS_VERSION&#125;.tar.gz  # extracts to psol/<br>[root@centos ngx_pagespeed-release-1.11.33.0-beta]# /usr/local/nginx/sbin/nginx -V<br>nginx version: weicn-server/1.0<br>built by gcc 4.8.2 20140120 (Red Hat 4.8.2-15) (GCC)<br>built with OpenSSL 1.0.2g  1 Mar 2016<br>TLS SNI support enabled<br>configure arguments: --prefix=/usr/local/nginx --with-http_ssl_module --with-http_v2_module --with-openssl=/tmp/soft/openssl-1.0.2g --with-http_sub_module --with-http_stub_status_module --with-pcre --with-pcre=/tmp/soft/pcre-8.33 --with-zlib=/tmp/soft/zlib-1.2.8 --with-http_secure_link_module --with-ipv6 --with-http_gzip_static_module --with-http_realip_module --with-http_flv_module --with-ld-opt=-ljemalloc --add-module=/tmp/soft/nginx-ct-1.0.0<br>[root@centos ngx_pagespeed-release-1.11.33.0-beta]# cd /tmp/soft/nginx-1.9.13<br>[root@centos nginx-1.9.13]# ./configure --prefix=/usr/local/nginx --with-http_ssl_module --with-http_v2_module --with-openssl=/tmp/soft/openssl-1.0.2g --with-http_sub_module --with-http_stub_status_module --with-pcre --with-pcre=/tmp/soft/pcre-8.33 --with-zlib=/tmp/soft/zlib-1.2.8 --with-http_secure_link_module --with-ipv6 --with-http_gzip_static_module --with-http_realip_module --with-http_flv_module --with-ld-opt=-ljemalloc --add-module=/tmp/soft/nginx-ct-1.0.0 --add-module=/tmp/soct/ngx_pagespeed-release-$&#123;NPS_VERSION&#125;-beta<br>[root@centos nginx-1.9.13]# make<br>[root@centos nginx-1.9.13]# mv /usr/local/nginx/sbin/nginx&#123;,_`date +%F`&#125;<br>[root@centos nginx-1.9.13]# cp objs/nginx /usr/local/nginx/sbin<br></code></pre></td></tr></table></figure><p>ç„¶åé…ç½®conf</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">server</span> &#123; <br>    <span class="hljs-comment"># ä¾¦å¬çš„ç«¯å£ </span><br>    <span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>; <br>    <span class="hljs-comment"># æœåŠ¡å™¨åç§° </span><br>    <span class="hljs-attribute">server_name</span> cuojue.org; <br>    <span class="hljs-comment"># è®°ä¸‹æ ¹ç›®å½• </span><br>    <span class="hljs-attribute">root</span> /usr/local/nginx/html; <br>    <span class="hljs-comment"># è®¿é—®æ—¥å¿— </span><br>    <span class="hljs-attribute">access_log</span> /var/log/nginx/access.log main; <br>    <span class="hljs-comment"># å¯ç”¨ngx_pagespeed </span><br>    <span class="hljs-attribute">pagespeed</span> <span class="hljs-literal">on</span>; <br>    <span class="hljs-comment"># åœ¨æ­¤æ”¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ªpagespeedè¿‡æ»¤å™¨ã€‚</span><br>&#125; <br></code></pre></td></tr></table></figure><p>è¯´åˆ°æŒ‡å®šPageSpeedè¿‡æ»¤å™¨ï¼Œæœ‰ä¸¤ç§ä¸åŒçš„çº§åˆ«å¯ä¾›ä½ é€‰æ‹©ï¼šCoreFilterså’ŒPassThroughã€‚é™¤éæœ‰æ‰€æŒ‡å®šï¼Œå¦åˆ™é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨CoreFiltersã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">server</span> &#123; <br>    <span class="hljs-comment"># ä¾¦å¬çš„ç«¯å£ </span><br>    <span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>; <br>    <span class="hljs-comment"># æœåŠ¡å™¨åç§° </span><br>    <span class="hljs-attribute">server_name</span> cuojue.org; <br>    <span class="hljs-comment"># è®°ä¸‹æ ¹ç›®å½• </span><br>    <span class="hljs-attribute">root</span> /usr/local/nginx/html; <br>    <span class="hljs-comment"># è®¿é—®æ—¥å¿— </span><br>    <span class="hljs-attribute">access_log</span> /var/log/nginx/access.log main; <br>    <span class="hljs-comment"># å¯ç”¨ngx_pagespeed </span><br>    <span class="hljs-attribute">pagespeed</span> <span class="hljs-literal">on</span>; <br>    <span class="hljs-attribute">pagespeed</span> FileCachePath /var/ngx_pagespeed_cache; <br>    <span class="hljs-comment"># ç¦ç”¨CoreFilters </span><br>    <span class="hljs-attribute">pagespeed</span> RewriteLevel PassThrough; <br>    <span class="hljs-comment"># å¯ç”¨å‹ç¼©ç©ºç™½è¿‡æ»¤å™¨ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters collapse_whitespace; <br>    <span class="hljs-comment"># å¯ç”¨JavaScriptåº“å¸è½½ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters canonicalize_javascript_libraries; <br>    <span class="hljs-comment"># æŠŠå¤šä¸ªCSSæ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªCSSæ–‡ä»¶ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters combine_css; <br>    <span class="hljs-comment"># æŠŠå¤šä¸ªJavaScriptæ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªJavaScriptæ–‡ä»¶ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters combine_javascript; <br>    <span class="hljs-comment"># åˆ é™¤å¸¦é»˜è®¤å±æ€§çš„æ ‡ç­¾ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters elide_attributes; <br>    <span class="hljs-comment"># æ”¹å–„èµ„æºçš„å¯ç¼“å­˜æ€§ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters extend_cache; <br>    <span class="hljs-comment"># æ›´æ¢è¢«å¯¼å…¥æ–‡ä»¶çš„@importï¼Œç²¾ç®€CSSæ–‡ä»¶ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters flatten_css_imports; <br>    <span class="hljs-attribute">pagespeed</span> CssFlattenMaxBytes <span class="hljs-number">5120</span>; <br>    <span class="hljs-comment"># å»¶æ—¶åŠ è½½å®¢æˆ·ç«¯çœ‹ä¸è§çš„å›¾ç‰‡ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters lazyload_images; <br>    <span class="hljs-comment"># å¯ç”¨JavaScriptç¼©å°æœºåˆ¶ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters rewrite_javascript; <br>    <span class="hljs-comment"># å¯ç”¨å›¾ç‰‡ä¼˜åŒ–æœºåˆ¶ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters rewrite_images; <br>    <span class="hljs-comment"># é¢„è§£æDNSæŸ¥è¯¢ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters insert_dns_prefetch; <br>    <span class="hljs-comment"># é‡å†™CSSï¼Œé¦–å…ˆåŠ è½½æ¸²æŸ“é¡µé¢çš„CSSè§„åˆ™ </span><br>    <span class="hljs-attribute">pagespeed</span> EnableFilters prioritize_critical_css; <br>&#125; <br></code></pre></td></tr></table></figure><p>åˆ›å»ºå°†ç”±Nginxå†™å…¥çš„ä¸€ä¸ªæ–‡ä»¶ç¼“å­˜ç›®å½•ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">[root@centos nginx-1.9.13]# mkdir /var/ngx_pagespeed_cache <br>[root@centos nginx-1.9.13]# chown www:www /var/ngx_pagespeed_cache <br></code></pre></td></tr></table></figure><p>å¥½äº†ï¼Œé‡å¯ä¸€ä¸‹Nginx</p><p>è´´ä¸€ä¸‹æˆ‘ç°åœ¨ç”¨çš„è§„åˆ™</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">pagespeed</span> <span class="hljs-literal">on</span>;<br><span class="hljs-attribute">pagespeed</span> FileCachePath /var/ngx_pagespeed_cache;<br><span class="hljs-attribute">pagespeed</span> UseExperimentalJsMinifier <span class="hljs-literal">on</span>;<br><span class="hljs-attribute">pagespeed</span> RewriteLevel PassThrough;<br><span class="hljs-comment">#pagespeed EnableFilters local_storage_cache;</span><br><span class="hljs-attribute">pagespeed</span> EnableFilters collapse_whitespace,remove_comments;<br><span class="hljs-attribute">pagespeed</span> EnableFilters outline_css;<br><span class="hljs-attribute">pagespeed</span> EnableFilters flatten_css_imports;<br><span class="hljs-attribute">pagespeed</span> EnableFilters move_css_above_scripts;<br><span class="hljs-attribute">pagespeed</span> EnableFilters move_css_to_head;<br><span class="hljs-attribute">pagespeed</span> EnableFilters outline_javascript;<br><span class="hljs-attribute">pagespeed</span> EnableFilters combine_javascript;<br><span class="hljs-attribute">pagespeed</span> EnableFilters inline_javascript;<br><span class="hljs-comment">#pagespeed EnableFilters defer_javascript;</span><br><span class="hljs-attribute">pagespeed</span> EnableFilters combine_css;<br><span class="hljs-attribute">pagespeed</span> EnableFilters rewrite_javascript;<br><span class="hljs-attribute">pagespeed</span> EnableFilters rewrite_css,sprite_images;<br><span class="hljs-attribute">pagespeed</span> EnableFilters rewrite_style_attributes;<br><span class="hljs-attribute">pagespeed</span> EnableFilters recompress_images;<br><span class="hljs-comment">#pagespeed EnableFilters lazyload_images;</span><br><span class="hljs-comment">#pagespeed EnableFilters rewrite_images;</span><br><span class="hljs-attribute">pagespeed</span> EnableFilters convert_meta_tags;<br><span class="hljs-attribute">pagespeed</span> EnableFilters canonicalize_javascript_libraries;<br><span class="hljs-attribute">pagespeed</span> EnableFilters elide_attributes;<br><span class="hljs-attribute">pagespeed</span> EnableFilters extend_cache;<br><span class="hljs-attribute">pagespeed</span> EnableFilters insert_dns_prefetch;<br><span class="hljs-comment">#pagespeed EnableFilters prioritize_critical_css;</span><br><span class="hljs-attribute">pagespeed</span> LoadFromFile <span class="hljs-string">&quot;https://cuojue.org&quot;</span> <span class="hljs-string">&quot;/home/cuojue.org/&quot;</span>;<br><span class="hljs-attribute">pagespeed</span> EnableFilters pedantic;<br><span class="hljs-attribute">pagespeed</span> MemcachedServers <span class="hljs-string">&quot;127.0.0.1:11211&quot;</span>;<br><span class="hljs-attribute">pagespeed</span> MaxSegmentLength <span class="hljs-number">250</span>;<br>location ~ &quot;\.pagespeed\.([a-z]\.)?[a-z]&#123;2&#125;\.[^.]&#123;10&#125;\.[^.]+&quot; &#123; add_header &quot;&quot; &quot;&quot;;&#125;<br><span class="hljs-attribute">location</span> <span class="hljs-regexp">~ &quot;^/pagespeed_static/&quot;</span> &#123;&#125;<br><span class="hljs-attribute">location</span> <span class="hljs-regexp">~ &quot;^/ngx_pagespeed_beacon$&quot;</span> &#123;&#125;<br><span class="hljs-attribute">location</span> /ngx_pagespeed_statistics &#123; <span class="hljs-attribute">allow</span> <span class="hljs-number">127.0.0.1</span>; <span class="hljs-attribute">deny</span> all; &#125;<br><span class="hljs-attribute">location</span> /ngx_pagespeed_global_statistics &#123; <span class="hljs-attribute">allow</span> <span class="hljs-number">127.0.0.1</span>; <span class="hljs-attribute">deny</span> all; &#125;<br><span class="hljs-attribute">location</span> /ngx_pagespeed_message &#123; <span class="hljs-attribute">allow</span> <span class="hljs-number">127.0.0.1</span>; <span class="hljs-attribute">deny</span> all; &#125;<br><span class="hljs-attribute">location</span> /pagespeed_console &#123; <span class="hljs-attribute">allow</span> <span class="hljs-number">127.0.0.1</span>; <span class="hljs-attribute">deny</span> all; &#125;<br><span class="hljs-attribute">location</span> <span class="hljs-regexp">~ ^/pagespeed_admin</span> &#123; <span class="hljs-attribute">allow</span> <span class="hljs-number">127.0.0.1</span>; <span class="hljs-attribute">deny</span> all; &#125;<br><span class="hljs-attribute">location</span> <span class="hljs-regexp">~ ^/pagespeed_global_admin</span> &#123; <span class="hljs-attribute">allow</span> <span class="hljs-number">127.0.0.1</span>; <span class="hljs-attribute">deny</span> all; &#125;<br>if ($request_uri ~ &quot;(pagespeed_([^.]+)/(.*)?)&quot;) &#123; break; &#125;<br>if ($request_uri ~ &quot;(ngx_pagespeed_([^.]+)/(.*)?)&quot;) &#123; break; &#125;<br></code></pre></td></tr></table></figure><p>å‚è€ƒåˆ—è¡¨ï¼š<br><a href="https://developers.google.com/speed/pagespeed/module/build_ngx_pagespeed_from_source#dependencies">Build ngx_pagespeed From Source</a><br><a href="http://os.51cto.com/art/201402/428780.htm">å¦‚ä½•å€ŸåŠ©PageSpeedï¼Œä¸ºNginxç½‘ç«™æœåŠ¡å™¨æé€Ÿï¼Ÿ</a></p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ngixn</tag>
      
      <tag>ngx_pagespeed</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç»™ç½‘ç«™éƒ¨ç½²CHACHA20_POLY1305åŠ å¯†</title>
    <link href="/read/nginx-chacha20-poly1305.html"/>
    <url>/read/nginx-chacha20-poly1305.html</url>
    
    <content type="html"><![CDATA[<h3 id="é¦–å…ˆä¸‹è½½éœ€è¦çš„è½¯ä»¶å¹¶è§£å‹"><a href="#é¦–å…ˆä¸‹è½½éœ€è¦çš„è½¯ä»¶å¹¶è§£å‹" class="headerlink" title="é¦–å…ˆä¸‹è½½éœ€è¦çš„è½¯ä»¶å¹¶è§£å‹"></a>é¦–å…ˆä¸‹è½½éœ€è¦çš„è½¯ä»¶å¹¶è§£å‹</h3><pre><code>wget http://ftp.openbsd.org/pub/OpenBSD/LibreSSL/libressl-2.3.3.tar.gztar xzf libressl-2.3.3.tar.gzwget http://nginx.org/download/nginx-1.9.13.tar.gztar xzf nginx-1.9.13.tar.gz</code></pre><p>ç”±äºOpensslçš„å‘è¡Œç‰ˆå¹¶ä¸æ”¯æŒCHACHA20åŠ å¯†ç®—æ³•ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨LibreSSLæ¥ç¼–è¯‘</p><pre><code>[root@centos soft]# /usr/local/nginx/sbin/nginx -Vnginx version: nginx/1.9.13built by gcc 4.4.7 20120313 (Red Hat 4.4.7-16) (GCC)built with OpenSSL 1.0.2g  1 Mar 2016TLS SNI support enabledconfigure arguments: --prefix=/usr/local/nginx --with-http_ssl_module --with-http_v2_module --with-openssl=/tmp/soft/openssl-1.0.2g --with-http_sub_module --with-http_stub_status_module --with-pcre --with-pcre=/tmp/soft/pcre-8.33 --with-zlib=/tmp/soft/zlib-1.2.8 --with-http_secure_link_module --with-ipv6 --with-http_gzip_static_module --with-http_realip_module --with-http_flv_module --with-ld-opt=&#39;-ljemalloc&#39;</code></pre><p>æƒ³æŸ¥çœ‹ä¸€ä¸‹å½“å‰ç¼–è¯‘çš„nginxçš„å‚æ•°</p><h3 id="ç„¶åå¼€å§‹é‡æ–°ç¼–è¯‘nginx"><a href="#ç„¶åå¼€å§‹é‡æ–°ç¼–è¯‘nginx" class="headerlink" title="ç„¶åå¼€å§‹é‡æ–°ç¼–è¯‘nginx"></a>ç„¶åå¼€å§‹é‡æ–°ç¼–è¯‘nginx</h3><pre><code>cd nginx-1.9.13make clean./configure --prefix=/usr/local/nginx --with-http_ssl_module --with-http_v2_module --with-http_sub_module --with-http_stub_status_module --with-pcre --with-pcre=/tmp/soft/pcre-8.33 --with-zlib=/tmp/soft/zlib-1.2.8 --with-http_secure_link_module --with-ipv6 --with-http_gzip_static_module --with-http_realip_module --with-http_flv_module --with-ld-opt=&#39;-ljemalloc&#39; --with-openssl=/tmp/soft/libressl-2.3.3 --with-ld-opt=&quot;-lrt&quot;makemv /usr/local/nginx/sbin/nginx&#123;,_`date +%F`&#125;cp objs/nginx /usr/local/nginx/sbin</code></pre><p>æœ€åï¼Œä¿®æ”¹<code>ssl_ciphers</code>éƒ¨åˆ†</p><pre><code>ssl_ciphers EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:!aNULL:!eNULL:!EXPORT:!DES:!MD5:!PSK:!RC4;</code></pre><p>é‡å¯ä¸€ä¸‹nginxå°±å¯ä»¥äº†</p><hr><p>è¿™æ ·å¯¼è‡´çš„é—®é¢˜æ˜¯ä¸æ”¯æŒnginx-ct,ä¸èƒ½ç¼–è¯‘nginx-ctè¿›å»,<a href="http://v2ex.com/t/2528961">V2XE</a>ä¸Šä¹Ÿæœ‰åŒå­¦è¯•éªŒè¿‡</p><blockquote><p>nginx-ct:<br>The following versions of OpenSSL are supported:<br>OpenSSL 1.0.2 or above.<br>BoringSSL 4fac72e or above.</p></blockquote><blockquote><p>LibreSSL is not supported as it doesnâ€™t provide either of the functions used to add the signed_certificate_timestamp extension to the response (SSL_CTX_add_server_custom_ext and SSL_CTX_set_signed_cert_timestamp_list).</p></blockquote><p><del>ç„¶è€Œæˆ‘patchåçš„opensslæ— æ³•ç¼–è¯‘ï¼Œæ‰€ä»¥æš‚æ—¶æ”¾å¼ƒchacha20</del></p><p>ç”±äºpatchè¿‡åçš„openssléœ€è¦gcc4.7+å’Œbinutils2.22+ç¼–è¯‘ï¼Œè€Œæˆ‘ç”¨çš„centos6è‡ªå¸¦çš„ç‰ˆæœ¬æ˜¯gcc4.4å’Œbinutils2.20ï¼Œæ‰€ä»¥æ›´æ–°ä¸€ä¸‹ï¼Œå‚è€ƒã€Š<a href="http://www.51bbo.com/archives/2228">CENTOS 6 é€šè¿‡YUMå‡çº§GCCåˆ°4.7/4.8</a>ã€‹</p><pre><code>wget http://people.centos.org/tru/devtools-2/devtools-2.repo -O /etc/yum.repos.d/devtools-2.repoyum install devtoolset-2-gcc devtoolset-2-binutils devtoolset-2-gcc-c++mv /usr/bin/gcc /usr/bin/gcc-4.4.7mv /usr/bin/g++ /usr/bin/g++-4.4.7mv /usr/bin/c++ /usr/bin/c++-4.4.7ln -s /opt/rh/devtoolset-2/root/usr/bin/gcc /usr/bin/gccln -s /opt/rh/devtoolset-2/root/usr/bin/c++ /usr/bin/c++ln -s /opt/rh/devtoolset-2/root/usr/bin/g++ /usr/bin/g++gcc --version</code></pre><p>å‡çº§ä¹‹åï¼Œé‡æ–°ç¼–è¯‘nginxï¼Œç„¶åå°±æˆäº†</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/04/3508010857.png"></p><p>ç­‰ç­‰ï¼Œå¥½åƒæœ‰ç‚¹ä¸å¯¹ï¼Œæ€ä¹ˆæ˜¾ç¤ºçš„â€œæœåŠ¡å™¨æœªæä¾›ä»»ä½•Certificate Transparency ä¿¡æ¯â€ï¼Œæˆ‘æ˜æ˜éƒ¨ç½²äº†nginx-ctçš„å‘€â€¦â€¦<br>ç„¶åæˆ‘æœæ–­çš„è®¿é—®äº†ä¸€ä¸‹google translate</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/04/88018558.png"></p><p>è¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿè‡ªå®¶ä¹Ÿä¸æ”¯æŒäº†ï¼Ÿåœ¨winä¸Šéƒ½æ˜¾ç¤ºæ”¯æŒçš„ï¼Œé†‰äº†é†‰äº†ã€‚</p><p>æ³¨ï¼šæˆ‘ä½¿ç”¨çš„è€ç‰ˆæœ¬Chrome(47.0.2526.107)å› ä¸ºæœ€æ–°ç‰ˆ(49)å·²ç»ä¸æ˜¾ç¤ºåŠ å¯†æ–¹å¼äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
      <tag>ssl</tag>
      
      <tag>https</tag>
      
      <tag>LibreSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¯ç”¨ SSL çš„ Certificate Transparency ç­–ç•¥</title>
    <link href="/read/ssl-certificate-transparency.html"/>
    <url>/read/ssl-certificate-transparency.html</url>
    
    <content type="html"><![CDATA[<h3 id="Certificate-Transparency-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Certificate-Transparency-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Certificate Transparency æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Certificate Transparency æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>HTTPS ç½‘ç«™çš„èº«ä»½è®¤è¯æ˜¯é€šè¿‡è¯ä¹¦ä¿¡ä»»é“¾å®Œæˆçš„ï¼Œæµè§ˆå™¨ä»ç«™ç‚¹è¯ä¹¦å¼€å§‹é€’å½’æ ¡éªŒçˆ¶è¯ä¹¦ï¼Œç›´è‡³å‡ºç°ä¿¡ä»»çš„æ ¹è¯ä¹¦ï¼ˆæ ¹è¯ä¹¦åˆ—è¡¨ä¸€èˆ¬å†…ç½®äºæ“ä½œç³»ç»Ÿï¼ŒFirefox åˆ™è‡ªå·±ç»´æŠ¤ï¼‰ã€‚ç„¶è€Œï¼Œå—ä¿¡ä»»çš„ CAï¼ˆè¯ä¹¦é¢å‘æœºæ„ï¼‰æœ‰å¥½å‡ ç™¾ä¸ªï¼Œä»–ä»¬æˆä¸ºæ•´ä¸ªç½‘ç«™èº«ä»½è®¤è¯è¿‡ç¨‹ä¸­ä¸€ä¸ªè¾ƒå¤§çš„æ”»å‡»é¢ã€‚å®é™…ä¸Šï¼Œç›®å‰ç”±äº CA å¤±è¯¯å¯¼è‡´é”™è¯¯ç­¾å‘è¯ä¹¦ï¼›ä»¥åŠä¸ªåˆ« CA å‡ºäºæŸäº›ç›®çš„ï¼ˆå¦‚ç›‘æ§åŠ å¯†æµé‡ï¼‰æ•…æ„å‘ç¬¬ä¸‰æ–¹éšæ„ç­¾å‘è¯ä¹¦è¿™ä¸¤ç§æƒ…å†µæ—¶æœ‰å‘ç”Ÿã€‚</p><p>æ— è®ºæ˜¯ CA æ— æ„æˆ–æœ‰æ„ç­¾å‘å‡ºæ¥çš„ã€Œéæ³•è¯ä¹¦ã€ï¼Œéƒ½èƒ½é€šè¿‡ç›®å‰çš„è¯ä¹¦é“¾æ ¡éªŒæœºåˆ¶çš„éªŒè¯ã€‚è¿™äº› CA ç­¾å‘çš„ã€Œéæ³•è¯ä¹¦ã€ç›¸æ¯”è‡ªç­¾åçš„ã€Œæ— æ•ˆè¯ä¹¦ã€ï¼Œæ›´éš¾è¢«å‘ç°ï¼Œå³ä½¿è¢«å‘ç°ä¾é ç°æœ‰æœºåˆ¶ä¹Ÿå¾ˆéš¾å¿«é€Ÿæ¶ˆé™¤å½±å“ã€‚</p><p>å¦å¤–ï¼ŒåŸŸåæ‰€æœ‰è€…çš„ç®¡ç†ä¸å–„ä¹Ÿå¯èƒ½å¯¼è‡´åŸŸåé…ç½®è¢«ç¬¬ä¸‰æ–¹æ§åˆ¶ï¼Œä»è€Œç¬¬ä¸‰æ–¹èƒ½å¤Ÿå‘ CA ç”³è¯·ä½ ç½‘ç«™çš„è¯ä¹¦ï¼ˆç‰¹åˆ«æ˜¯ DV ç±»å‹çš„è¯ä¹¦ï¼‰ã€‚è¿™ç§æƒ…å†µï¼Œå‘ç°å’Œå¤„ç†åŒæ ·å¾ˆéº»çƒ¦ã€‚</p><p>è€Œ <a href="https://www.certificate-transparency.org/">Certificate Transparency</a> å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è¯ç”Ÿçš„ï¼Œå®ƒå¯ä»¥ç›´è¯‘ä¸ºè¯ä¹¦é€æ˜åº¦ï¼Œç”± Google ä¸»å¯¼ï¼Œå¹¶ç”± IETF æ ‡å‡†åŒ–ä¸º <a href="http://tools.ietf.org/html/rfc6962">RFC 6962</a>ã€‚Certificate Transparency çš„ç›®æ ‡æ˜¯æä¾›ä¸€ä¸ªå¼€æ”¾çš„å®¡è®¡å’Œç›‘æ§ç³»ç»Ÿï¼Œå¯ä»¥è®©ä»»ä½•åŸŸåæ‰€æœ‰è€…æˆ–è€… CA ç¡®å®šè¯ä¹¦æ˜¯å¦è¢«é”™è¯¯ç­¾å‘æˆ–è€…è¢«æ¶æ„ä½¿ç”¨ï¼Œä»è€Œæé«˜ HTTPS ç½‘ç«™çš„å®‰å…¨æ€§ã€‚</p><p>Certificate Transparency æ•´å¥—ç³»ç»Ÿç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š1ï¼‰Certificate Logsï¼›2ï¼‰Certificate Monitorsï¼›3ï¼‰Certificate Auditorsã€‚å®Œæ•´çš„å·¥ä½œåŸç†å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.certificate-transparency.org/how-ct-works">How Certificate Transparency Works</a>ã€‚</p><p>ç®€å•è¯´æ¥ï¼Œè¯ä¹¦æ‰€æœ‰è€…æˆ–è€… CA éƒ½å¯ä»¥ä¸»åŠ¨å‘ Certificate Logs æœåŠ¡å™¨æäº¤è¯ä¹¦ï¼Œæ‰€æœ‰è¯ä¹¦è®°å½•éƒ½ä¼šæ¥å—å®¡è®¡å’Œç›‘æ§ã€‚æ”¯æŒ CT çš„æµè§ˆå™¨ï¼ˆç›®å‰åªæœ‰ Chromeï¼‰ä¼šæ ¹æ® Certificate Logs ä¸­è¯ä¹¦çŠ¶æ€ï¼Œä½œå‡ºä¸åŒçš„ååº”ã€‚CT ä¸æ˜¯è¦æ›¿æ¢ç°æœ‰çš„ CA è®¾æ–½ï¼Œè€Œæ˜¯åšä¸ºè¡¥å……ï¼Œä½¿ä¹‹æ›´é€æ˜ã€æ›´å®æ—¶ã€‚</p><p>Certificate Logs æœåŠ¡å™¨ç”± Google æˆ– CA éƒ¨ç½²ï¼Œ<a href="https://www.certificate-transparency.org/known-logs">è¿™ä¸ªé¡µé¢</a>åˆ—ä¸¾äº†ç›®å‰å·²çŸ¥çš„æœåŠ¡å™¨ã€‚åˆæ³•çš„è¯ä¹¦æäº¤åˆ° CT Logs æœåŠ¡å™¨ä¹‹åï¼ŒæœåŠ¡å™¨ä¼šè¿”å› signed certificate timestampï¼ˆSCTï¼‰ï¼Œè¦å¯ç”¨ CT å°±å¿…é¡»ç”¨åˆ° SCT ä¿¡æ¯ã€‚</p><p>ä»¥ä¸ŠæŠ„å½•è‡ª[Certificate Transparency é‚£äº›äº‹](<a href="https://imququ.com/post/certificate-transparency.html">https://imququ.com/post/certificate-transparency.html</a> â€œCertificate Transparency)ï¼Œæ›´è¯¦ç»†çš„å†…å®¹å¯ä»¥ç›´æ¥è¿‡å»çœ‹ï¼Œè¿™é‡Œçºªå½•ä¸€ä¸‹æ€ä¹ˆéƒ¨ç½²ï¼Œæˆ‘å½“ç„¶å‚è€ƒäº†<a href="https://www.linpx.com/p/https-certificate-to-enable-transparency-certificate-policy.html">Chakhsu Lau</a>ç”¨æœ€ç®€å•çš„æ–¹æ³•å•¦â€¦â€¦</p><h3 id="æäº¤æˆ‘ä»¬çš„è¯ä¹¦"><a href="#æäº¤æˆ‘ä»¬çš„è¯ä¹¦" class="headerlink" title="æäº¤æˆ‘ä»¬çš„è¯ä¹¦"></a>æäº¤æˆ‘ä»¬çš„è¯ä¹¦</h3><p>ç›´æ¥ <a href="https://ct-status.org/submit">ç‚¹å‡»è¿™é‡Œ</a> æäº¤å³å¯</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/04/4252223692.png"></p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/04/2869200099.png"></p><p>æäº¤å®Œæ¯•ä¼šç”Ÿæˆä¸€ä¸ªzipæ–‡ä»¶ï¼Œä¸‹è½½åï¼ŒæŠŠé‡Œé¢çš„æ–‡ä»¶æ”¾åˆ°æœåŠ¡å™¨çš„æŸä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚<code>/your/path/to/scts</code></p><h3 id="ç¼–è¯‘-Nginxï¼ŒåŠ å…¥-CT-æ¨¡å—"><a href="#ç¼–è¯‘-Nginxï¼ŒåŠ å…¥-CT-æ¨¡å—" class="headerlink" title="ç¼–è¯‘ Nginxï¼ŒåŠ å…¥ CT æ¨¡å—"></a>ç¼–è¯‘ Nginxï¼ŒåŠ å…¥ CT æ¨¡å—</h3><p>è¦è®© Nginx æ”¯æŒå‘é€ signed_certificate_timestamp è¿™ä¸ª TLS æ‰©å±•ï¼Œéœ€è¦åŠ å…¥ <a href="https://github.com/grahamedgecombe/nginx-ct">nginx-ct</a> è¿™ä¸ªæ¨¡å—ã€‚nginx-ct éœ€è¦ä¸ OpenSSL 1.0.2+ æˆ–è€… BoringSSL 4fac72e+ ä¸€èµ·ç¼–è¯‘ï¼Œä¸æ”¯æŒ LibreSSLã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -O nginx-ct.zip -c https://github.com/grahamedgecombe/nginx-ct/archive/v1.0.0.zip<br>unzip nginx-ct.zip<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨ç¼–è¯‘nginxçš„æ—¶å€™åœ¨configureæŒ‡å®šä¸€ä¸‹è·¯å¾„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">--add-module=../nginx-ct-1.0.0<br></code></pre></td></tr></table></figure><p>æ›´æ–°å®Œæˆnginxä¹‹åï¼Œåœ¨é…ç½®æ–‡ä»¶åŠ ä¸Š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ssl_ct</span>   <span class="hljs-literal">on</span>;<br><span class="hljs-attribute">ssl_ct_static_scts</span>   /your/path/to/scts;<br></code></pre></td></tr></table></figure><p>é‡å¯nginxè¯•è¯•çœ‹æˆåŠŸæ²¡æœ‰<br><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/04/1845328240.png"></p><p>å·²ç»æ˜¾ç¤ºäº† æœåŠ¡å™¨å·²æä¾›æœ‰æ•ˆçš„Certificate Transparencyä¿¡æ¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
      <tag>ssl</tag>
      
      <tag>https</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é€šè¿‡ DNS éªŒè¯æ–¹å¼è·å– lets-encrypt è¯ä¹¦çš„å¿«é€Ÿè„šæœ¬</title>
    <link href="/read/lets-encrypt-dns.html"/>
    <url>/read/lets-encrypt-dns.html</url>
    
    <content type="html"><![CDATA[<p>æŠ˜è…¾SSLçš„æ—¶å€™ï¼Œåœ¨ç½‘ä¸Šå‘ç°çš„ä¼˜ç§€è„šæœ¬ï¼Œå¯ä»¥åœ¨æ²¡æœ‰æ­å»ºç½‘ç«™çš„æ—¶å€™ï¼Œå…ˆç”¨DNSéªŒè¯ä¸€ä¸‹æ¥ç”³è¯·lets-encryptè¯ä¹¦ï¼Œæ¯”å¦‚æœ¬ç«™ç”¨çš„ï¼Œè¿˜å¯ä»¥æ·»åŠ åˆ°è®¡åˆ’ä»»åŠ¡æ¥å®šæ—¶æ›´æ–°è¯ä¹¦ï¼Œæ¯”èµ·Git pythonçš„é…ç½®çœŸæ˜¯so easyå‘€ï¼</p><p>è¯¦ç»†è§<a href="https://github.com/weicno/scripts/tree/master/le-dns">GitHub</a>ï¼Œä½œè€…å¥½åƒè¿˜æœ‰å„ç§éªŒè¯çš„è„šæœ¬ï¼Œæˆ‘åªç”¨åˆ°äº†DNSç‰ˆ</p><p>é¦–å…ˆä¸‹è½½è„šæœ¬å’Œé…ç½®æ–‡ä»¶</p><p>æˆ‘ç”¨çš„æ˜¯DNSPODï¼Œå°±ä¸‹è½½DNSPODç‰ˆæœ¬çš„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">wget https://github.com/xdtianyu/scripts/raw/master/le-dns/le-dnspod.sh<br>wget https://github.com/xdtianyu/scripts/raw/master/le-dns/dnspod.conf<br>chmod +x le-dnspod.sh<br></code></pre></td></tr></table></figure><p>ç„¶åå»DNSPODç”³è¯·ä¸€ä¸ªD+çš„TOKEN key</p><p>å¡«åˆ°<code>dnspod.conf</code>é‡Œé¢<br>ä¿®æ”¹å…¶ä¸­çš„ TOKEN ä¸ºæ‚¨çš„ dnspod api token ï¼Œæ³¨æ„æ ¼å¼ä¸º123456,556cxxxxã€‚ ä¿®æ”¹ DOMAIN ä¸ºä½ çš„æ ¹åŸŸåï¼Œä¿®æ”¹ CERT_DOMAINS ä¸ºæ‚¨è¦ç­¾çš„åŸŸååˆ—è¡¨ï¼Œéœ€è¦ ECC è¯ä¹¦æ—¶è¯·å–æ¶ˆ #ECC=TRUE çš„æ³¨é‡Šã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">TOKEN=&quot;YOUR_TOKEN_ID,YOUR_API_TOKEN&quot;<br>RECORD_LINE=&quot;é»˜è®¤&quot;<br>DOMAIN=&quot;example.com&quot;<br>CERT_DOMAINS=&quot;example.com www.example.com im.example.com&quot;<br><span class="hljs-meta">#</span><span class="bash">ECC=TRUE</span><br></code></pre></td></tr></table></figure><p>å¡«å¥½åå¦‚ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">TOKEN=&quot;è¿™é‡Œå†™keyçš„æ•°å­—ç¼–å·,è¿™é‡Œå†™KEY&quot;<br>RECORD_LINE=&quot;é»˜è®¤&quot;<br>DOMAIN=&quot;cuojue.org&quot;<br>CERT_DOMAINS=&quot;cuojue.org&quot;<br>ECC=TRUE<br></code></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥è¿è¡Œè¯•è¯•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">./le-dnspod.sh dnspod.conf<br></code></pre></td></tr></table></figure><p>æ²¡æœ‰é—®é¢˜çš„è¯ï¼Œè¿è¡Œå®Œæ¯•ï¼Œåœ¨å½“å‰ç›®å½•ä¼šç”Ÿæˆä¸€ä¸ªcertsæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸ªä½ åŸŸåçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢å°±æ˜¯ä½ éœ€è¦çš„è¯ä¹¦äº†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">fullchain.pem #å®Œæ•´çš„è¯ä¹¦é“¾è¯ä¹¦ï¼Œå¦‚æœæ˜¯nginxå°±ç”¨è¿™ä¸ª<br>privkey.pem #è¯ä¹¦çš„ç§é’¥<br></code></pre></td></tr></table></figure><p>é…ç½®ä¸€ä¸‹nginxå°±å¯ä»¥ç”¨ä¸Šé«˜å¤§ä¸Šçš„ssläº†ã€‚</p><p>å½“ç„¶å›½å†…ä¹Ÿæœ‰å…è´¹çš„SSLè¯ä¹¦<a href="https://buy.wosign.com/Free/#ssl">Wosign</a>ï¼Œä¸ºæœŸä¸¤å¹´çš„ï¼Œæ¯”lets-encryptçš„ä¸‰ä¸ªæœˆé•¿å¤šäº†ï¼Œä½†æ˜¯ä¸æ”¯æŒECCè¯ä¹¦ï¼Œæ‰€ä»¥ç”³è¯·ä¸€ä¸ªå¤‡ç”¨ä¹Ÿæ˜¯ä¸é”™çš„</p>]]></content>
    
    
    <categories>
      
      <category>ä»£ç åˆ†äº«</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ssl</tag>
      
      <tag>https</tag>
      
      <tag>dnspod</tag>
      
      <tag>lets-encrypt</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gen8ä¸Šçš„ESXiæŠ˜è…¾çºªå½•(ç¡¬ç›˜ç¯‡)</title>
    <link href="/read/gen8-esxi-disk.html"/>
    <url>/read/gen8-esxi-disk.html</url>
    
    <content type="html"><![CDATA[<p>ç•™ä¸‹çºªå½•ï¼Œä»¥å¤‡æŸ¥éªŒï¼Œèµ°äº†ä¸å°‘å¼¯è·¯å•Š</p><p>é¦–å…ˆè¯´ä¸€ä¸‹ï¼ŒGen8çš„å†…ç½®çš„è½¯RAIDæ”¯æŒå•å—ç¡¬ç›˜åˆå§‹åŒ–æˆRAID0ä½¿ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå•å—ç¡¬ç›˜ä¹Ÿå¯ä»¥å¼€RAIDæ¨¡å¼ï¼Œç„¶ååœ¨iloé‡Œé¢å°±å¯ä»¥çœ‹åˆ°ç¡¬ç›˜ä¿¡æ¯äº†ï¼Œå¹¶ä¸”å†…ç½®çš„RAIDæ”¯æŒè¯†åˆ«HDDå’ŒSSDï¼Œåˆå§‹åŒ–è¿‡åï¼Œåœ¨ESXié‡Œé¢ä¹Ÿå¯ä»¥æ­£å¸¸è¯†åˆ«ä¸ºSSDã€‚</p><p>ä¸€å¼€å§‹ç”¨ACHIæ¨¡å¼åœ¨ESXiå¥½åƒå¾ˆå¡ï¼Ÿ</p><p>ç„¶ååˆ‡æ¢åˆ°äº†RAIDæ¨¡å¼ï¼Œç›´æ¥åˆ‡æ¢åä¼šè¯†åˆ«ä¸åˆ°ç¡¬ç›˜ï¼Œå¿…é¡»å»RAIDçš„æ§åˆ¶å™¨åˆå§‹åŒ–ä¸€ä¸‹ï¼Œä¹Ÿå°±æ˜¯POSTçš„æ—¶å€™çœ‹è§F5å°±æŒ‰ä¸€ä¸‹F5è¿›å»ã€‚<br>åˆ‡æ¢åˆ°RAIDæ¨¡å¼ä¹‹åï¼Œåœ¨vSphereæ·»åŠ ç¡¬ç›˜ç«Ÿç„¶å‡ºç°äº†é”™è¯¯ï¼ï¼</p><blockquote><p>è°ƒç”¨å¯¹è±¡ â€œha-datastoresystemâ€çš„â€œHostDatastoreSystem.QueryVmfsDatastoreCreateOptionsâ€ å¤±è´¥</p></blockquote><p>è¿™ä¸æ˜¯å‘çˆ¹ä¹ˆâ€¦â€¦</p><p>å¤šæ–¹æŸ¥éªŒï¼Œå‡ºç°è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºç£ç›˜ä¸Šæœ‰ä¸æ”¯æŒçš„åˆ†åŒºæ ¼å¼ï¼Œæˆ‘å»ï¼Œå†™çš„æ˜æ˜æ˜¯ä½¿ç”¨æ•´å—ç£ç›˜ï¼Œæ‚¨ä¸èƒ½é‡æ–°åˆå§‹åŒ–ä¸€ä¸‹åˆ†åŒºè¡¨å—</p><p>ç½‘ä¸Šçš„è§£å†³æ–¹æ³•ï¼Œæ¥è‡ª<a href="http://aba.qzu.cn/archives/531.html">ESXi5.1è°ƒç”¨å¯¹è±¡â€ha-datastoresystemâ€å‡ºé”™åŠå¤„ç†</a>è™½ç„¶æˆ‘è£…çš„æ˜¯ESXi6ä½†æ˜¯æŒ‰ç…§è¿™ä¸ªè§£å†³äº†ï¼Œå°±æ˜¯å¼€SSHè¿›å»ç”¨fdiskåˆ é™¤äº†åˆ†åŒºã€‚</p><p>è®°å½•ä¸€ä¸‹æ–¹æ³•ï¼Œé¿å…åŸä½œè€…ç½‘ç«™æ¶ˆå¤±â€¦â€¦</p><h3 id="1ã€æŸ¥çœ‹ç£ç›˜æƒ…å†µ"><a href="#1ã€æŸ¥çœ‹ç£ç›˜æƒ…å†µ" class="headerlink" title="1ã€æŸ¥çœ‹ç£ç›˜æƒ…å†µ"></a>1ã€æŸ¥çœ‹ç£ç›˜æƒ…å†µ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@Gen8-ESXi:~] fdisk -l<br><br>***<br>*** The fdisk <span class="hljs-built_in">command</span> is deprecated: fdisk does not handle GPT partitions.  Plea se use partedUtil<br>***<br><br>Found valid GPT with protective MBR; using GPT<br><br>Disk /dev/disks/mpx.vmhba32:C0:T0:L0: 121438208 sectors,  115M<br>Logical sector size: 512<br>Disk identifier (GUID): 4bf285cd-9feb-4a1f-babb-9c48602ae7b6<br>Partition table holds up to 128 entries<br>First usable sector is 34, last usable sector is 121438174<br><br>Number  Start (sector)End (sector)  Size   Code  Name<br>   1  6481918128   0700<br>   58224  520191499K   0700<br>   6  520224 1032191499K   0700<br>   7 1032224 1257471219K   0700<br>   8 1257504 1843199571K   0700<br>   9 1843200 7086079   5120K   0700<br>  10 7086080   121438160109M   0700<br>fdisk: device has more than 2^32 sectors, can<span class="hljs-string">&#x27;t use all of them</span><br><span class="hljs-string">Found valid GPT with protective MBR; using GPT</span><br><span class="hljs-string"></span><br><span class="hljs-string">Disk /dev/disks/naa.600508b1001c2fc9783875b1ae59d44a: 4294967295 sectors, 4095M</span><br><span class="hljs-string">Logical sector size: 512</span><br><span class="hljs-string">Disk identifier (GUID): bb8fe184-91c1-439d-9b86-5cc0ce61f7aa</span><br><span class="hljs-string">Partition table holds up to 128 entries</span><br><span class="hljs-string">First usable sector is 34, last usable sector is 5860467598</span><br><span class="hljs-string"></span><br><span class="hljs-string">Number  Start (sector)End (sector)  Size   Code  Name</span><br><span class="hljs-string">   12048  5860463804   5588M   0700</span><br><span class="hljs-string">Found valid GPT with protective MBR; using GPT</span><br><span class="hljs-string"></span><br><span class="hljs-string">Disk /dev/disks/naa.600508b1001cd4c1eeb69635def8f132: 117161280 sectors,  111M</span><br><span class="hljs-string">Logical sector size: 512</span><br><span class="hljs-string">Disk identifier (GUID): 26aca1e5-894f-43e2-b698-1b8a7fa46d27</span><br><span class="hljs-string">Partition table holds up to 128 entries</span><br><span class="hljs-string">First usable sector is 34, last usable sector is 117231374</span><br><span class="hljs-string"></span><br><span class="hljs-string">Number  Start (sector)End (sector)  Size   Code  Name</span><br><span class="hljs-string">   12048   117229567111M   0700  Basic data partition</span><br></code></pre></td></tr></table></figure><p>ï¼ˆè¿™æ˜¯åæ¥åŠ äº†ä¸€å—SSDåˆ°SATA5ä¹‹åå‡ºé”™çš„ä¿¡æ¯ï¼Œå¥—ç”¨ä¸€ä¸‹ï¼Œä¹‹å‰æ²¡ä¿å­˜ï¼‰</p><h3 id="2ã€åˆ é™¤ç£ç›˜åˆ†åŒº-æ³¨æ„ä¸€å®šè¦åˆ†æ¸…æ¥šç£ç›˜ç¼–å·ï¼Œåˆ«åˆ é”™äº†"><a href="#2ã€åˆ é™¤ç£ç›˜åˆ†åŒº-æ³¨æ„ä¸€å®šè¦åˆ†æ¸…æ¥šç£ç›˜ç¼–å·ï¼Œåˆ«åˆ é”™äº†" class="headerlink" title="2ã€åˆ é™¤ç£ç›˜åˆ†åŒº(æ³¨æ„ä¸€å®šè¦åˆ†æ¸…æ¥šç£ç›˜ç¼–å·ï¼Œåˆ«åˆ é”™äº†)"></a>2ã€åˆ é™¤ç£ç›˜åˆ†åŒº(æ³¨æ„ä¸€å®šè¦åˆ†æ¸…æ¥šç£ç›˜ç¼–å·ï¼Œåˆ«åˆ é”™äº†)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@Gen8-ESXi:~] fdisk /dev/disks/naa.600508b1001cd4c1eeb69635def8f132<br><br><br>***<br>*** The fdisk <span class="hljs-built_in">command</span> is deprecated: fdisk does not handle GPT partitions.  Please use partedUtil<br>***<br><br>Found valid GPT with protective MBR; using GPT<br><br><br>Command (m <span class="hljs-keyword">for</span> <span class="hljs-built_in">help</span>): d<br>Selected partition 1<br><br>Command (m <span class="hljs-keyword">for</span> <span class="hljs-built_in">help</span>): 1<br>1: unknown <span class="hljs-built_in">command</span><br>Command Action<br>o   create a new empty DOS partition table<br>p   <span class="hljs-built_in">print</span> the partition table<br>q   quit without saving changes<br>s   create a new empty Sun disklabel<br><br>Command (m <span class="hljs-keyword">for</span> <span class="hljs-built_in">help</span>): o<br>Building a new DOS disklabel. Changes will remain <span class="hljs-keyword">in</span> memory only,<br>until you decide to write them. After that the previous content<br>won<span class="hljs-string">&#x27;t be recoverable.</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">The number of cylinders for this disk is set to 7264.</span><br><span class="hljs-string">There is nothing wrong with that, but this is larger than 1024,</span><br><span class="hljs-string">and could in certain setups cause problems with:</span><br><span class="hljs-string">1) software that runs at boot time (e.g., old versions of LILO)</span><br><span class="hljs-string">2) booting and partitioning software from other OSs</span><br><span class="hljs-string">   (e.g., DOS FDISK, OS/2 FDISK)</span><br><span class="hljs-string"></span><br><span class="hljs-string">Command (m for help): w</span><br><span class="hljs-string">The partition table has been altered.</span><br><span class="hljs-string">Calling ioctl() to re-read partition table</span><br></code></pre></td></tr></table></figure><p>ç„¶åç°åœ¨å°±å¯ä»¥æ­£å¸¸çš„æ·»åŠ ç¡¬ç›˜äº†~:smiley:</p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Gen8</tag>
      
      <tag>esxi</tag>
      
      <tag>ssd</tag>
      
      <tag>hdd</tag>
      
      <tag>raid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¾¤æ™–(Synology)é‡‡ç”¨Dockerè¿è¡Œè¿…é›·å¿«é¸ŸåŠ é€Ÿ</title>
    <link href="/read/Docker-Xunlei-Fastdick.html"/>
    <url>/read/Docker-Xunlei-Fastdick.html</url>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆæ„Ÿè°¢ä½œè€…<a href="https://yooooo.us/2015/xunlei-fastdick-router?variant=zh-cn">fffonion</a>çš„ç§»æ¤ï¼Œè¯¦æƒ…è§<a href="https://github.com/fffonion/Xunlei-Fastdick">Github</a>æºç </p><p>åœ¨R6300v2çš„<a href="https://advancedtomato.com/">AdvancedTomato</a>ä¸Šè¿è¡Œè¿‡ï¼Œåœ¨<a href="http://koolshare.cn/thread-34888-1-3.html">æ¢…æ—æ”¹ç‰ˆå›ºä»¶</a>ä¸Šä¹Ÿè¿è¡Œè¿‡â€¦â€¦</p><p>ä¸‹é¢è¿›å…¥æ­£é¢˜ï¼Œæ€ä¹ˆç”¨ç¾¤è¾‰(Synology)è‡ªå¸¦çš„Dockeræ¥è¿è¡Œè¿…é›·å¿«é¸Ÿ</p><p>é¦–å…ˆä½ å¾—æœ‰ä¸€å°ç¾¤è¾‰(Synology)NASï¼Œè¿˜å¾—æ˜¯Intelæ¶æ„çš„ï¼Œç‰ˆæœ¬è¿˜éœ€è¦å‡çº§åˆ°5.2+ï¼Œç„¶åå°±å¯ä»¥ç›´æ¥åœ¨å¥—ä»¶ä¸­å¿ƒå®‰è£…Dockeräº†</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/03/4154038517.jpg"></p><p>å®‰è£…å®Œæ¯•ï¼Œæ‰“å¼€Dockerï¼Œè¿›å…¥æ³¨å†Œè¡¨ï¼Œæœç´¢â€œfastdickâ€ç‚¹å‡»ä¸‹è½½(ä¸‹è½½é€Ÿåº¦â€¦â€¦å¤©æœå¤§å±€åŸŸç½‘ä½ æ‡‚çš„â€¦â€¦)</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/03/2036802192.jpg"></p><p>å¥½ä¸å®¹æ˜“ä¸‹è½½å®Œäº†ï¼Œæœ‰73M</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/03/1674918902.jpg"></p><p>ç„¶åé€‰ä¸­ï¼Œç‚¹å‡»å¯åŠ¨ï¼Œä¼šå¼¹å‡ºåˆ›å»ºå®¹å™¨ï¼Œéšä¾¿å–ä¸ªåå­—</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/03/1385220488.jpg"></p><p>ç¬¬äºŒé¡µå¯ä»¥éšä¾¿é€‰æ‹©ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©CPUä¼˜å…ˆä¸ºä½</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/03/2465385813.jpg"></p><p>è¿™é‡Œè¿›å…¥é«˜çº§é€‰é¡¹</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/03/4251334783.jpg"></p><p>æ·»åŠ ä¸€ä¸ªå·æ˜ å°„ï¼Œé€‰æ‹©ä¸€ä¸ªæœ¬åœ°ç›®å½•ï¼Œè£…è½½è·¯å¾„å¡«å†™<code>/flier/xunlei-fastdick</code>ï¼Œå»æ‰åªè¯»å±æ€§</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/03/272224823.jpg"></p><p>åˆ‡æ¢åˆ°ç¯å¢ƒé€‰é¡¹ï¼Œæ·»åŠ ä¸¤ä¸ªå˜é‡<code>XUNLEI_UID</code>å’Œ<code>XUNLEI_PASSWD</code>ä¹Ÿå°±æ˜¯ä½ è¿…é›·çš„IDå’Œå¯†ç </p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/03/2837438817.jpg"></p><p>ç„¶åå¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ ·å­ï¼Œæµ‹è¯•ä¸€ä¸‹å¯ä»¥è¿è¡Œä¸</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/03/1969959877.png"></p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/03/3036372881.png"></p><p>çœ‹èµ·æ¥å¯ä»¥è¿è¡Œäº†å‘¢ï¼Œç”±äºæˆ‘ç”¨çš„å‡IDï¼Œæ­£ç¡®çš„æç¤ºäº†å¸å·ä¸å­˜åœ¨ï¼Œå½“æˆ‘ç”¨ä¸ŠçœŸID :no_mouth: å…¬å¸çš„ç½‘ä¸æ”¯æŒæé€Ÿ</p><p><img src="https://cdn.jsdelivr.net/gh/naicfeng/cdn/blog/files/2016/03/2291282395.png"><br>å°±æ˜¯è¿™æ ·äº†ï¼Œç°åœ¨å¯ä»¥æ„‰å¿«çš„ç”¨å¿«é¸ŸåŠ é€Ÿäº† :stuck_out_tongue_winking_eye:</p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Synology</tag>
      
      <tag>Docker</tag>
      
      <tag>è¿…é›·å¿«é¸Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¬¢è¿ä½¿ç”¨ Typecho</title>
    <link href="/read/start.html"/>
    <url>/read/start.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>å¦‚æœæ‚¨çœ‹åˆ°è¿™ç¯‡æ–‡ç« ,è¡¨ç¤ºæ‚¨çš„ blog å·²ç»å®‰è£…æˆåŠŸ.</p></blockquote><p>åˆå¼€å§‹æŠ˜è…¾åšå®¢äº†ï¼Œæœ€è¿‘è´¥äº†Gen8ï¼Œè£…äº†ä¸€ä¸ªCentOSç»ƒæ‰‹ï¼Œæ‰‹ç—’åˆå¼€å§‹éƒ¨ç½²Typechoäº†ï¼Œè¿˜æ˜¯å¥½å‡ å¹´å‰ç”¨è¿‡ï¼Œæ›¾ç»çš„åšå®¢ï¼ŒåŸŸåéƒ½è¢«åˆ«äººé‡æ–°æ³¨å†Œäº†ï¼Œå¥½å¤šæ„Ÿæ…¨å‘€</p><p>æ²¡é”™ï¼Œæœ¬åšå®¢å°±æ˜¯å»ºç«‹åœ¨åšä¸»å®¶é‡Œçš„Gen8æœåŠ¡å™¨ä¸Šï¼Œç”¨çš„DNSPODçš„DDNSæ¥è§£æçš„ã€‚å•¦å•¦å•¦ï¼ŒèŠ‚çœäº†ä¸€ç¬”â€œä¸è²â€çš„ç§Ÿç”¨è´¹ã€‚</p><p>80ç«¯å£å·²ç»å°äº†ï¼Œåªæœ‰443æ˜¯é€šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´åªèƒ½ç”¨httpsæ¥è®¿é—®äº†ï¼Œä¸çŸ¥é“443å¯ä»¥é¡¶å¤šä¹…~</p><hr><p>å·²ç»æ”¾åˆ°è…¾è®¯äº‘çš„å­¦ç”Ÿæœºä¸Šäº†,ç”¨äº†åˆæ‹äº‘çš„CDN</p><hr><p>2021-03-06æ›´æ–°</p><p>å·²ç»æ¢æˆhexoäº†<br><a href="https://cuojue.org/read/typecho-to-hexo.html">æŠŠåšå®¢ç¨‹åºä» typecho æ¢æˆäº† Hexo</a></p>]]></content>
    
    
    <categories>
      
      <category>é»˜è®¤åˆ†ç±»</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
